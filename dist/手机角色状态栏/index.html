<head><script type="module">import'https://testingcf.jsdelivr.net/npm/compare-versions/+esm';import'https://testingcf.jsdelivr.net/npm/zod/v4/core/+esm';var n={61(n){n.exports=Vue},502(n,e){e.A=(n,e)=>{const a=n.__vccOpts||n;for(const[n,t]of e)a[n]=t;return a}}},e={};function a(t){var r=e[t];if(void 0!==r)return r.exports;var o=e[t]={exports:{}};return n[t](o,o.exports,a),o.exports}(()=>{var n=a(61);const e={class:'scene'},t={class:'phone'},r={class:'phone-shell'},o={class:'phone-bezel'},i={class:'screen'},c={class:'hero stagger',style:{'--delay':'2'}},l={class:'role-meta'},s={class:'role-subtitle'},d={class:'status-panel stagger',style:{'--delay':'3'}},u={class:'panel-header'},p={class:'chip'},m={class:'stats-grid'},b={class:'stat-card'},h={class:'value'},f={class:'stat-card'},g={class:'value'},v={class:'stat-card'},x={class:'value'},y={class:'bars'},w={class:'bar'},k={class:'chat-panel stagger',style:{'--delay':'4'}},E={class:'chat'},N={class:'bubble incoming'},V=(0,n.defineComponent)({__name:'app',setup(a){const V=(0,n.ref)(window.statusText||'<status>\n2024.12.24 周二\n10:00 上午\n古城 主殿\n冬 大雪\n黑色大衣,深灰围巾,牛仔裤,短靴\n站在窗边,单手插兜,指尖轻触玻璃窗\n平静,意外\n「怎么会看到她？」\n</status>');const C=(0,n.computed)(()=>{const n=function(n){const e=n.match(/<status>([\s\S]*?)<\/status>/);return(e?e[1]:n).split(/\r?\n/).map(n=>n.trim()).filter(Boolean)}(V.value);let e='未知角色';const a=n.findIndex(n=>/^角色[:：]/.test(n));if(-1!==a){const t=n[a].match(/^角色[:：]\s*(.+)$/);t&&(e=t[1].trim()),n.splice(a,1)}return{name:e,date:n[0]||'----',time:n[1]||'--:--',location:n[2]||'未知地点',weather:n[3]||'天气未知',outfit:n[4]||'未记录',posture:n[5]||'未记录',emotions:n[6]||'平静',thought:n[7]||''}}),B=(0,n.computed)(()=>{const n=C.value.emotions.split(/[，,]/).map(n=>n.trim()).filter(Boolean);return n.length?n.map(n=>{const e=n.match(/^(.*?)(?:\s*(\d+)%|\s+(\d+))?$/),a=e?e[1].trim():n,t=e&&(e[2]||e[3])?Number(e[2]||e[3]):50;return{name:a,value:Math.min(100,Math.max(0,t))}}):[{name:'平静',value:50}]});return window.setStatusText=n=>{V.value=n},(a,V)=>((0,n.openBlock)(),(0,n.createElementBlock)('div',e,[V[19]||(V[19]=(0,n.createElementVNode)('div',{class:'ambient-layer'},null,-1)),(0,n.createElementVNode)('div',t,[(0,n.createElementVNode)('div',r,[(0,n.createElementVNode)('div',o,[V[16]||(V[16]=(0,n.createElementVNode)('div',{class:'notch'},[(0,n.createElementVNode)('span',{class:'camera'}),(0,n.createElementVNode)('span',{class:'speaker'})],-1)),(0,n.createElementVNode)('div',i,[V[15]||(V[15]=(0,n.createStaticVNode)('<header class="topbar stagger" style="--delay:1;" data-v-65093584><div class="time" data-v-65093584>21:48</div><div class="status-icons" data-v-65093584><span class="signal" data-v-65093584></span><span class="wifi" data-v-65093584></span><span class="battery" data-v-65093584>82%</span></div></header>',1)),(0,n.createElementVNode)('section',c,[V[1]||(V[1]=(0,n.createElementVNode)('div',{class:'avatar-ring'},[(0,n.createElementVNode)('div',{class:'avatar'}),(0,n.createElementVNode)('span',{class:'pulse'})],-1)),(0,n.createElementVNode)('div',l,[V[0]||(V[0]=(0,n.createElementVNode)('p',{class:'role-title'},'角色状态栏',-1)),(0,n.createElementVNode)('h1',null,(0,n.toDisplayString)(C.value.name),1),(0,n.createElementVNode)('p',s,'位置: '+(0,n.toDisplayString)(C.value.location)+' | 时间: '+(0,n.toDisplayString)(C.value.date)+' '+(0,n.toDisplayString)(C.value.time),1)]),V[2]||(V[2]=(0,n.createElementVNode)('div',{class:'status-pill'},'在线',-1))]),(0,n.createElementVNode)('section',d,[(0,n.createElementVNode)('div',u,[V[3]||(V[3]=(0,n.createElementVNode)('h2',null,'当前状态',-1)),(0,n.createElementVNode)('span',p,(0,n.toDisplayString)(C.value.weather),1)]),(0,n.createElementVNode)('div',m,[(0,n.createElementVNode)('div',b,[V[4]||(V[4]=(0,n.createElementVNode)('span',{class:'label'},'天气',-1)),(0,n.createElementVNode)('span',h,(0,n.toDisplayString)(C.value.weather),1),V[5]||(V[5]=(0,n.createElementVNode)('span',{class:'note'},'环境',-1))]),(0,n.createElementVNode)('div',f,[V[6]||(V[6]=(0,n.createElementVNode)('span',{class:'label'},'外观',-1)),(0,n.createElementVNode)('span',g,(0,n.toDisplayString)(C.value.outfit),1),V[7]||(V[7]=(0,n.createElementVNode)('span',{class:'note'},'穿着',-1))]),(0,n.createElementVNode)('div',v,[V[8]||(V[8]=(0,n.createElementVNode)('span',{class:'label'},'姿态',-1)),(0,n.createElementVNode)('span',x,(0,n.toDisplayString)(C.value.posture),1),V[9]||(V[9]=(0,n.createElementVNode)('span',{class:'note'},'动作',-1))])]),(0,n.createElementVNode)('div',y,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(B.value,e=>((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:e.name,class:'bar-row'},[(0,n.createElementVNode)('span',null,(0,n.toDisplayString)(e.name),1),(0,n.createElementVNode)('div',w,[(0,n.createElementVNode)('i',{style:(0,n.normalizeStyle)({width:`${e.value}%`})},null,4)]),(0,n.createElementVNode)('em',null,(0,n.toDisplayString)(e.value)+'%',1)]))),128))])]),(0,n.createElementVNode)('section',k,[V[13]||(V[13]=(0,n.createElementVNode)('div',{class:'panel-header'},[(0,n.createElementVNode)('h2',null,'聊天界面'),(0,n.createElementVNode)('span',{class:'chip'},'3 条新消息')],-1)),(0,n.createElementVNode)('div',E,[(0,n.createElementVNode)('div',N,[(0,n.createElementVNode)('p',null,(0,n.toDisplayString)(C.value.thought||'我看到了你。今晚别走那么快。'),1),V[10]||(V[10]=(0,n.createElementVNode)('span',{class:'stamp'},'19:34',-1))]),V[11]||(V[11]=(0,n.createElementVNode)('div',{class:'bubble outgoing'},[(0,n.createElementVNode)('p',null,'我们不熟，请别打扰。'),(0,n.createElementVNode)('span',{class:'stamp'},'19:35')],-1)),V[12]||(V[12]=(0,n.createElementVNode)('div',{class:'bubble incoming'},[(0,n.createElementVNode)('p',null,'胃不好就别空着，坐回去。'),(0,n.createElementVNode)('span',{class:'stamp'},'19:35')],-1))]),V[14]||(V[14]=(0,n.createElementVNode)('div',{class:'input-bar'},[(0,n.createElementVNode)('span',null,'输入消息...'),(0,n.createElementVNode)('button',{class:'send-btn'},'发送')],-1))])])]),V[17]||(V[17]=(0,n.createElementVNode)('div',{class:'side-buttons'},[(0,n.createElementVNode)('span'),(0,n.createElementVNode)('span'),(0,n.createElementVNode)('span',{class:'long'})],-1))]),V[18]||(V[18]=(0,n.createElementVNode)('p',{class:'device-label'},'手机角色状态栏',-1))])]))}});const C=(0,a(502).A)(V,[['__scopeId','data-v-65093584']]);$(()=>{(0,n.createApp)(C).mount('#app')})})(),(()=>{function n(n){const a=[],r=function(n){const a=`cardhub-entry-${getScriptId()}`,r=$(`#${a}`);if(r.length)return r.addClass('menu_button fa-solid fa-rectangle-list cardhub-entry-button').attr('title','打开 CardHub 角色卡管理器').attr('aria-label','打开 CardHub 角色卡管理器').empty(),null;const o=function(){const n=['#rm_button_bar','#character_panel','#rightNavBar','#right-nav-panel','#character-search','#top-settings-holder'];for(const e of n){const n=$(e).first();if(n.length)return n}const e=$('button, .menu_button, .nav_button').filter((_,n)=>{const e=$(n).text(),a=n.getAttribute('title')??n.getAttribute('aria-label')??'';return/角色管理/.test(e)||/角色管理/.test(a)}).first();if(e.length){const n=e.closest('nav, header, section, div');return n.length?n:e.parent()}return null}();if(!o)return console.warn('[CardHub] 未找到角色管理入口挂载点'),null;const i=t(()=>n.open('role')),c=$('<button>').attr('id',a).attr('type','button').addClass('menu_button fa-solid fa-rectangle-list cardhub-entry-button').attr('title','打开 CardHub 角色卡管理器').attr('aria-label','打开 CardHub 角色卡管理器').on('click pointerup touchend',n=>{n.preventDefault(),n.stopImmediatePropagation(),i()});o.append(c);const l=e(c[0],i);return()=>{c.off('click'),c.remove(),l()}}(n);r&&a.push(r);const o=function(n){const a=`cardhub-magic-${getScriptId()}`,r=$('#extensionsMenuButton');if(!r.length)return console.warn('[CardHub] 未找到左侧魔法棒入口'),null;const o=()=>{const r=$('#extensionsMenu');if(!r||r.find(`#${a}`).length)return;const o=t(()=>n.open('magic')),i=$('<div>').attr('id',a).addClass('list-group-item flex-container flexGap5 interactable cardhub-menu-entry').attr('role','button').attr('tabindex','0').html('<i class="fa-solid fa-id-badge" aria-hidden="true"></i><span>角色卡管理器</span>').on('click pointerup touchend',n=>{n.preventDefault(),n.stopImmediatePropagation(),o()});r.append(i);const c=e(i[0],o);i.data('cardhub-dispose',c)};r.on('click.cardhub',()=>{setTimeout(o,0)});const i=new MutationObserver(()=>o()),c=window.parent?.document??document;return i.observe(c.body,{childList:!0,subtree:!0}),()=>{i.disconnect(),r.off('click.cardhub'),$(`#${a}`).remove()}}(n);return o&&a.push(o),()=>{a.forEach(n=>n())}}function e(n,e){const a=n=>{n.preventDefault(),n.stopImmediatePropagation(),e()};return n.addEventListener('pointerdown',a,{capture:!0}),n.addEventListener('mousedown',a,{capture:!0}),n.addEventListener('touchstart',a,{capture:!0}),()=>{n.removeEventListener('pointerdown',a,{capture:!0}),n.removeEventListener('mousedown',a,{capture:!0}),n.removeEventListener('touchstart',a,{capture:!0})}}function t(n){let e=0;return()=>{const a=Date.now();a-e<250||(e=a,n())}}var r=a(61);async function o(){let n;try{n=window.parent?.SillyTavern}catch{n=void 0}n??=SillyTavern;const e='function'==typeof n?.getContext?n.getContext():null;if('function'==typeof e?.getCharacters)try{await e.getCharacters()}catch(n){console.warn('[CardHub] 读取角色列表失败，将使用缓存数据',n)}const a=e?.characters??SillyTavern?.characters??[],t=new Map,r=new Map,o=new Map;return Array.isArray(e?.tags)&&e.tags.forEach(n=>{n?.id&&n?.name&&o.set(n.id,n.name)}),a.map((n,a)=>{const i=n.tags??n.data?.tags??[],c=n.avatar,l=n.name??'未命名角色',s=n.create_date??n.date_added??n.chat??String(a),d=c??`name:${l}::${s}`;let u=d;if(!c){const n=r.get(d)??0;r.set(d,n+1),n&&(u=`${d}::${n}`)}const p=(e?.tagMap?.[u]??[]).map(n=>o.get(n)).filter(Boolean),m=Array.from(new Set([...i,...p])),b=c?`avatar:${c}`:`name:${l}::${s}`,h=t.get(b)??0;t.set(b,h+1);return{id:h?`${b}::${h}`:b,name:l,avatar:n.avatar??null,tags:m,tagKey:u,origin:'tavern'}})}function i(){return'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(n){const e=16*Math.random()|0;return('x'===n?e:3&e|8).toString(16)})}const c='cardhub_library';function l(){return{type:'script',script_id:getScriptId()}}function s(n){const e=TavernHelper.getVariables(l());TavernHelper.replaceVariables(l(),{...e,[c]:{entries:n}})}function d(n){return new Promise((e,a)=>{const t=new FileReader;t.onload=()=>e(String(t.result||'')),t.onerror=()=>a(t.error),t.readAsDataURL(n)})}function u(n){return new Promise((e,a)=>{const t=new FileReader;t.onload=()=>e(String(t.result||'')),t.onerror=()=>a(t.error),t.readAsText(n)})}function p(n){return n.replace(/\.(png|json)$/i,'')}function m(n){if(null===n||'object'!=typeof n)return JSON.stringify(n);if(Array.isArray(n))return`[${n.map(n=>m(n)).join(',')}]`;return`{${Object.entries(n).sort(([n],[e])=>n.localeCompare(e)).map(([n,e])=>`${JSON.stringify(n)}:${m(e)}`).join(',')}}`}function b(n,e){let a=e;if('json'===n){const n=e.trim();try{a=m(JSON.parse(n))}catch{a=n}}return`${n}:${function(n){let e=5381;for(let a=0;a<n.length;a+=1)e=33*e^n.charCodeAt(a);return(e>>>0).toString(16)}(a)}`}function h(){return function(){const n=TavernHelper.getVariables(l()),e=n?.[c];return e&&'object'==typeof e?{entries:Array.isArray(e.entries)?e.entries:[]}:{entries:[]}}().entries}async function f(n,e){const a=Array.from(n);if(!a.length)return h();const t=Array.isArray(e)&&e.length?e:h(),r=new Set;t.forEach(n=>{const e=function(n){if(n.fingerprint)return n.fingerprint;if(!n.rawType||!n.raw)return null;const e=b(n.rawType,n.raw);return n.fingerprint=e,e}(n);e&&r.add(e)});const o=[];for(const n of a){const e=p(n.name);if(n.name.toLowerCase().endsWith('.png')){const a=await d(n),t=b('png',a);if(r.has(t))continue;r.add(t),o.push({id:i(),name:e,avatar:a,tags:[],origin:'library',rawType:'png',raw:a,fingerprint:t})}else if(n.name.toLowerCase().endsWith('.json')){const a=await u(n);let t=e;try{const n=JSON.parse(a);t=n.name??n.data?.name??t}catch{}const c=b('json',a);if(r.has(c))continue;r.add(c),o.push({id:i(),name:t,avatar:null,tags:[],origin:'library',rawType:'json',raw:a,fingerprint:c})}}const c=[...t,...o];return s(c),c}function g(n){const e=h().filter(e=>e.id!==n);return s(e),e}const v=(0,r.reactive)({open:!1,loading:!1,search:'',lastOpenSource:'manual',characters:[],library:[]});function x(n,e){v.open=n,e&&(v.lastOpenSource=e)}function y(n){v.loading=n}function w(n){v.characters=n}function k(n){v.library=n}function E(){let n;try{n=window.parent?.SillyTavern}catch{n=void 0}return n??=SillyTavern,'function'!=typeof n?.getContext?null:n.getContext()}function N(n){Array.isArray(n.tags)||(n.tags=[]),n.tagMap||(n.tagMap={})}function V(n){if('library'===n.origin)return n.tags??[];const e=n.tags??[],a=function(n){if(!n)return[];const e=E();if(!e||!e.tagMap||!Array.isArray(e.tags))return[];const a=new Map;return e.tags.forEach(n=>{n?.id&&n?.name&&a.set(n.id,n.name)}),(e.tagMap[n]??[]).map(n=>a.get(n)).filter(Boolean)}(n.tagKey??n.avatar);return Array.from(new Set([...e,...a]))}function C(n,e){const a=E();if(!a)return e;const t=function(n,e){if(!Array.isArray(n.characters))return null;const a=e.avatar?n.characters.find(n=>n.avatar===e.avatar):null;return a||(n.characters.find(n=>n.name===e.name)??null)}(a,n);if(!t)return e;const r=Array.from(new Set(e.map(n=>n.trim().replace(/\s+/g,' ')).filter(Boolean)));t.tags=r,t.data&&(t.data.tags=r),N(a);const o=r.map(n=>function(n,e){N(n);const a=n.tags.find(n=>n.name===e);if(a)return a;const t={id:'function'==typeof crypto?.randomUUID?crypto.randomUUID():`tag-${Date.now()}`,name:e};return n.tags.push({id:t.id,name:t.name}),t}(a,n).id),i=n.tagKey??t.avatar??null;return i&&(a.tagMap[i]=o),a.saveSettingsDebounced?.(),r}const B={class:'cardhub-panel',role:'dialog','aria-label':'CardHub 角色卡管理器'},S={class:'cardhub-toolbar'},T={class:'cardhub-body'},D={class:'cardhub-sidebar'},M={class:'cardhub-chip-row'},A={class:'cardhub-tag-filter'},L=['onClick'],j={class:'cardhub-content'},H={key:0,class:'cardhub-loading'},I={key:1,class:'cardhub-empty'},O={key:2,class:'cardhub-grid-wrap'},P={class:'cardhub-pagination'},R={key:0,class:'cardhub-pagination__actions'},F=['disabled'],U=['disabled'],Y={class:'cardhub-pagination__status'},K={class:'cardhub-grid'},J=['onClick'],q={class:'cardhub-card__info'},W={class:'cardhub-card__name'},X={class:'cardhub-card__meta'},Z={class:'cardhub-card__tags'},G=['onClick'],Q=['onClick'],nn=['onKeydown','onBlur'],en={class:'cardhub-card__actions'},an=['onClick'],tn=['onClick'],rn={class:'cardhub-manage__panel',role:'dialog','aria-label':'角色管理'},on={class:'cardhub-manage__top'},cn={class:'cardhub-manage__summary'},ln={class:'cardhub-preview__name'},sn={class:'cardhub-preview__meta'},dn={class:'cardhub-preview__tags'},un={class:'cardhub-manage__overview'},pn={class:'cardhub-manage__overview-label'},mn={class:'cardhub-manage__overview-value'},bn={key:0,class:'cardhub-manage__overview-hint'},hn={class:'cardhub-manage__media'},fn=['src'],gn={class:'cardhub-manage__section'},vn={key:0,class:'cardhub-manage__details'},xn={class:'cardhub-manage__detail-label'},yn={class:'cardhub-manage__detail-content'},_n={key:1,class:'cardhub-manage__empty'},wn={class:'cardhub-manage__section'},kn={class:'cardhub-manage__content'},En={class:'cardhub-manage__section'},Nn={class:'cardhub-manage__label'},Vn={class:'cardhub-manage__jump-row'},Cn={key:0,class:'cardhub-manage__chat'},Bn=['onClick','onKeydown'],Sn={class:'cardhub-manage__chat-main'},zn={class:'cardhub-manage__chat-name'},$n={key:0,class:'cardhub-manage__chat-label'},Tn={key:1,class:'cardhub-manage__chat-tags'},Dn={class:'cardhub-manage__chat-text'},Mn={key:1,class:'cardhub-manage__empty'},An={class:'cardhub-manage__actions'},Ln={class:'cardhub-confirm__panel',role:'dialog','aria-modal':'true'},jn={class:'cardhub-confirm__title'},Hn={class:'cardhub-confirm__message'},In={class:'cardhub-confirm__actions'},On=(0,r.defineComponent)({__name:'App',setup(n){const e=(0,r.ref)([]),a=(0,r.ref)(null),t=(0,r.ref)(''),i=(0,r.ref)('all'),c=(0,r.ref)(24),l=(0,r.ref)(1),d=(0,r.ref)(null),u=(0,r.ref)(null),p=(0,r.ref)([]),m=(0,r.ref)([]),b=(0,r.computed)(()=>{return n=p.value,e=3,n.map(n=>function(n,e){const a=n.replace(/\r/g,'').trim();if(!a)return[];const t=je(a);if(t.length>=e)return t.slice(0,e);const r=$e(a);if(!r)return t.slice(0,e);const o=He(r,60);if(!t.length)return o.slice(0,e);const i=[...t];for(const n of o){if(i.length>=e)break;i[0]!==n&&i.push(n)}return i.slice(0,e)}(n,2).join('\n')).filter(n=>n.trim().length>0).slice(0,e);var n,e});let E=0;const N=(0,r.reactive)({open:!1,title:'',message:'',confirmLabel:'确定',cancelLabel:'取消',altLabel:'',resolve:null}),On=(0,r.computed)(()=>[...v.characters,...v.library]),Pn=(0,r.ref)(null),Rn=(0,r.ref)(null),Fn=(0,r.ref)(null),Un=(0,r.computed)(()=>{const n=Pn.value;if(!n)return[];const e=[],a=(n,a,t=240)=>{const r=function(n,e,a){const t=n.replace(/\r/g,'').trim();if(!t)return'';const r=je(t),o=r.length?r:He($e(t),60);let i=o.slice(0,e).join('\n').trim();if(!i)return'';const c=i.length>a;c&&(i=i.slice(0,a).trim());const l=c||o.length>e||t.length>i.length;l&&!i.endsWith('…')&&(i=`${i}…`);return i}(a,3,t);r&&e.push({label:n,value:r})};return a('角色描述',n.description??''),a('性格',n.personality??''),a('场景',n.scenario??''),a('创作者备注',n.creatorNotes??''),a('系统提示',n.systemPrompt??'',200),a('历史指令',n.postHistory??'',200),a('作者',n.creator??'',80),e}),Yn=(0,r.computed)(()=>!u.value||Un.value.length?'':'library'===u.value.origin?'未导入卡片暂无可预览内容，可先导入后查看详情。':'暂无角色卡详情。'),Kn=(0,r.computed)(()=>'library'===u.value?.origin?'未导入卡片暂无聊天记录。':'暂无聊天记录。'),Jn=(0,r.computed)(()=>{const n=[],e=Pn.value,a=e?.worldBookName?.trim()||'',t=e?.worldBookCount;let r='未绑定',o='';(a||'number'==typeof t)&&(r=a||'角色世界书',o='number'==typeof t?`${t} 条`:''),n.push({label:'世界书',value:r,hint:o});const i=Fn.value;let c='暂无聊天',l='';i&&i.total>0&&(c=`${i.total} 个聊天`,i.latest&&(l=`最近：${i.latest}`)),n.push({label:'聊天概况',value:c,hint:l});const s=Rn.value;let d='暂无开场白',u='';return s&&s.total>0&&(d=`${s.total} 条`,u=s.alternate>0?`替代：${s.alternate} 条`:'无替代'),n.push({label:'开场白',value:d,hint:u}),n}),qn=(0,r.computed)(()=>{const n=function(n){if('imported'===i.value)return n.filter(n=>'tavern'===n.origin);if('unimported'===i.value)return n.filter(n=>'library'===n.origin);return n}(On.value),e=v.search.trim();if(!e)return ae(n);const a=function(n){if(!n)return null;try{const e=n.match(/\/(.+)\/([a-z]*)/i);if(!e)return new RegExp(_.escapeRegExp(n),'i');if(e[2]&&!/^(?!.*?(.).*?\1)[gmixXsuUAJ]+$/.test(e[3]))return new RegExp(n,'i');let a=e[2]??'';return _.pull(a,'g'),-1===a.indexOf('i')&&(a+='i'),new RegExp(e[1],a)}catch{return null}}(e)??new RegExp(_.escapeRegExp(e),'i');return ae(n).filter(n=>a.test(n.name)||n.tags.some(n=>a.test(n)))}),Wn=(0,r.computed)(()=>{const n=Math.ceil(qn.value.length/c.value);return n>0?n:1}),Xn=(0,r.computed)(()=>{const n=(l.value-1)*c.value;return qn.value.slice(n,n+c.value)}),Zn=(0,r.computed)(()=>{const n=new Set;return On.value.forEach(e=>{V(e).forEach(e=>n.add(e))}),e.value.forEach(e=>n.add(e)),Array.from(n).sort((n,e)=>n.localeCompare(e,'zh-CN'))});function Gn(n,e=!1){const a=n.avatar;return a?/^(data:|https?:|\/)/.test(a)?a:e&&'tavern'===n.origin?TavernHelper.getCharAvatarPath(a,!0)??`/thumbnail?type=avatar&file=${encodeURIComponent(a)}`:`/thumbnail?type=avatar&file=${encodeURIComponent(a)}`:null}function Qn(n){const e=Gn(n);return e?{backgroundImage:`url(${e})`}:{}}function ne(n){return V(n)}const ee=(0,r.computed)(()=>u.value?Gn(u.value,!0):null);function ae(n){return e.value.length?n.filter(n=>e.value.some(e=>V(n).includes(e))):n}function te(){e.value=[]}function re(){l.value>1&&(l.value-=1)}function oe(){l.value<Wn.value&&(l.value+=1)}function ie(n){return n.trim().toLocaleLowerCase()}function ce(n){return N.open&&N.resolve&&N.resolve('cancel'),N.title=n.title??'确认操作',N.message=n.message,N.confirmLabel=n.confirmLabel??'确定',N.cancelLabel=n.cancelLabel??'取消',N.altLabel=n.altLabel??'',N.open=!0,new Promise(n=>{N.resolve=n})}function le(n){if(!N.open)return;N.open=!1;const e=N.resolve;N.resolve=null,e&&e(n)}function se(n){return n.id}function de(n){if(a.value!==se(n))return;const e=t.value.trim();if(e){pe(n,[...V(n),e])}ue()}function ue(){a.value=null,t.value=''}function pe(n,e){if('library'===n.origin){k(function(n,e){const a=h().map(a=>a.id!==n?a:{...a,tags:e});return s(a),a}(n.id,e))}else{const a=C(n,e);n.tags=a,w([...v.characters])}}function me(){d.value?.click()}async function be(n){const e=n.target,a=e?.files;if(!a||!a.length)return;k(await f(a,v.library)),e.value=''}async function he(){const n=qn.value;if(!n.length)return void toastr.warning('当前没有可导出的角色卡');const a=e.value.length?e.value.join('、'):'无',t='all'===i.value?'全部':'imported'===i.value?'已导入':'未导入',r=v.search.trim()||'无',o=`将导出 ${n.length} 张角色卡。\n筛选状态：${t}\n筛选标签：${a}\n搜索关键字：${r}\n是否继续？`;'confirm'===await ce({title:'批量导出',message:o,confirmLabel:'继续导出',cancelLabel:'取消'})&&n.forEach(n=>ge(n))}async function fe(n){'library'===n.origin?await async function(n){if(!n.raw||!n.rawType)return void toastr.error('缺少导入数据');const e=function(n){const e=ie(n);return e?v.characters.find(n=>ie(n.name)===e)??null:null}(n.name);if(e)return void toastr.warning(`已存在同名角色「${e.name}」，已跳过导入`);const a=SillyTavern?.getRequestHeaders?SillyTavern.getRequestHeaders():{};if(delete a['Content-Type'],'png'===n.rawType){const e=await Xe(n.raw);await TavernHelper.importRawCharacter(n.name,e)}else{const e=new File([n.raw],`${n.name}.json`,{type:'application/json'}),t=new FormData;t.append('avatar',e),t.append('file_type','json'),t.append('preserved_name',e.name),await fetch('/api/characters/import',{method:'POST',headers:a,body:t,cache:'no-cache'})}k(g(n.id));w(await o()),toastr.success(`已导入 ${n.name}`)}(n):ge(n)}async function ge(n){if('library'===n.origin)return void await async function(n){if(!n.raw||!n.rawType)return void toastr.error('无法导出：缺少原始数据');if('png'===n.rawType){return void We(await Xe(n.raw),`${n.name}.png`)}const e=new Blob([n.raw],{type:'application/json'});We(e,`${n.name}.json`)}(n);if(!n.avatar)return void toastr.error('无法导出：缺少头像信息');const e=TavernHelper.getCharAvatarPath(n.avatar);if(!e)return void toastr.error('无法导出：缺少头像信息');const a=await fetch(e,{cache:'no-cache'});We(await a.blob(),`${n.name}.png`)}async function ve(n){const e=++E;u.value=n,p.value=[],m.value=[],Pn.value=null,Rn.value=null,Fn.value=null;const[a,t]=await Promise.allSettled([ye(n),Ie(n)]);if(e!==E||u.value?.id!==n.id)return;const r='fulfilled'===a.status?a.value:{openings:[],profile:null,openingSummary:null};p.value=r.openings,Pn.value=r.profile,Rn.value=r.openingSummary;const o='fulfilled'===t.status?t.value:{list:[],summary:null};m.value=o.list,Fn.value=o.summary}function xe(){u.value=null,p.value=[],m.value=[],Pn.value=null,Rn.value=null,Fn.value=null}async function ye(n){if('tavern'!==n.origin){const e=function(n){if(!n.raw||!n.rawType)return null;if('json'===n.rawType)return _e(n.raw);if('png'===n.rawType)return function(n){const e=function(n){const e=n.indexOf(',');if(e<0)return null;const a=n.slice(e+1);try{const n=atob(a),e=new Uint8Array(n.length);for(let a=0;a<n.length;a+=1)e[a]=n.charCodeAt(a);return e}catch{return null}}(n);if(!e)return null;const a=function(n){if(n.length<8)return[];const e=[137,80,78,71,13,10,26,10];for(let a=0;a<e.length;a+=1)if(n[a]!==e[a])return[];const a=[];let t=8;for(;t+8<=n.length;){const e=Ne(n,t),r=Ve(n.subarray(t+4,t+8)),o=t+8,i=o+e;if(i+4>n.length)break;const c=n.subarray(o,i);if('tEXt'===r){const n=we(c);n&&a.push(n)}else if('iTXt'===r){const n=ke(c);n&&a.push(n)}t=i+4}return a}(e),t=new Set(['chara','character','tavern','tavern_character','card']);for(const n of a){if(n.key&&!t.has(n.key.toLowerCase()))continue;const e=Ee(n.value);if(e)return e}return null}(n.raw);return null}(n);return{openings:ze(e),profile:Ce(e),openingSummary:Se(e)}}const e=await async function(n){let e;try{e=window.parent?.SillyTavern}catch{e=void 0}e??=SillyTavern;const a='function'==typeof e?.getContext?e.getContext():null;if(a?.getCharacters)try{await a.getCharacters()}catch(n){console.warn('[CardHub] 刷新角色卡列表失败',n)}const t=a?.characters??e?.characters??[];if(!t.length)return null;const r=n.avatar?t.findIndex(e=>e.avatar===n.avatar||e.name===n.avatar):-1,o=t.findIndex(e=>e.name===n.name),i=r>=0?r:o;if(i<0)return null;if(a?.unshallowCharacter)try{await a.unshallowCharacter(i)}catch(n){console.warn('[CardHub] 读取角色卡详情失败',n)}const c=(a?.characters??t)[i]??null;if(c?.first_mes||c?.data?.first_mes)return c;if(a?.getCharacterCardFields)try{const n=await a.getCharacterCardFields({chid:i});if(n?.first_mes||n?.data?.first_mes)return n}catch(n){console.warn('[CardHub] 读取角色卡字段失败',n)}const l=TavernHelper.getCharData(n.avatar??n.name,!0);return l??c}(n),a=e??TavernHelper.RawCharacter?.find({name:n.avatar??n.name,allowAvatar:!0})??TavernHelper.RawCharacter?.find({name:n.name,allowAvatar:!0}),t=e??a;let r=ze(t);!r.length&&a&&a!==t&&(r=ze(a));const o=Se(t??a);return{openings:r,profile:Ce(t??a),openingSummary:o}}function _e(n){try{return JSON.parse(n)}catch{return null}}function we(n){const e=n.indexOf(0);if(e<0)return null;const a=Ve(n.subarray(0,e)).trim(),t=Ve(n.subarray(e+1)).trim();return a&&t?{key:a,value:t}:null}function ke(n){const e=n.indexOf(0);if(e<0||e+2>=n.length)return null;const a=Ve(n.subarray(0,e)).trim(),t=1===n[e+1];let r=e+2;const o=n.indexOf(0,r);if(o<0)return null;r=o+1;const i=n.indexOf(0,r);if(i<0)return null;if(r=i+1,t)return null;const c=Ve(n.subarray(r)).trim();return a&&c?{key:a,value:c}:null}function Ee(n){const e=n.trim();if(!e)return null;const a=_e(e);if(a)return a;if(!function(n){if(n.length<16||n.length%4!=0)return!1;return/^[A-Za-z0-9+/=]+$/.test(n)}(e))return null;const t=function(n){try{const e=atob(n),a=new Uint8Array(e.length);for(let n=0;n<e.length;n+=1)a[n]=e.charCodeAt(n);return(new TextDecoder).decode(a)}catch{return null}}(e);return t?_e(t):null}function Ne(n,e){return(n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3])>>>0}function Ve(n){return(new TextDecoder).decode(n)}function Ce(n){if(!n)return null;const e={description:Be(n?.description,n?.data?.description),personality:Be(n?.personality,n?.data?.personality),scenario:Be(n?.scenario,n?.data?.scenario),creatorNotes:Be(n?.creatorcomment,n?.data?.creatorcomment,n?.creator_notes,n?.data?.creator_notes),systemPrompt:Be(n?.system_prompt,n?.data?.system_prompt),postHistory:Be(n?.post_history_instructions,n?.data?.post_history_instructions),creator:Be(n?.creator,n?.data?.creator)},a=n?.character_book??n?.data?.character_book;a&&(e.worldBookName=Be(a?.name),e.worldBookCount=Array.isArray(a?.entries)?a.entries.length:void 0);return Boolean(e.description)||Boolean(e.personality)||Boolean(e.scenario)||Boolean(e.creatorNotes)||Boolean(e.systemPrompt)||Boolean(e.postHistory)||Boolean(e.creator)||Boolean(e.worldBookName)||'number'==typeof e.worldBookCount?e:null}function Be(...n){for(const e of n)if('string'==typeof e){const n=e.trim();if(n)return n}return''}function Se(n){if(!n)return null;const e='string'==typeof n?.first_mes?n.first_mes:n?.data?.first_mes,a='string'==typeof e&&e.trim()?1:0,t=n?.alternate_greetings??n?.data?.alternate_greetings??n?.extensions?.alternate_greetings??n?.data?.extensions?.alternate_greetings;let r=0;return Array.isArray(t)?r=t.filter(n=>'string'==typeof n&&n.trim()).length:'string'==typeof t&&t.trim()&&(r=1),{total:a+r,alternate:r}}function ze(n){if(!n)return[];const e=[],a='string'==typeof n?.first_mes?n.first_mes:n?.data?.first_mes;'string'==typeof a&&a.trim()&&e.push(a.trim());const t=n?.alternate_greetings??n?.data?.alternate_greetings??n?.extensions?.alternate_greetings??n?.data?.extensions?.alternate_greetings;return Array.isArray(t)?t.forEach(n=>{'string'==typeof n&&n.trim()&&e.push(n.trim())}):'string'==typeof t&&t.trim()&&e.push(t.trim()),e}function $e(n){return n.replace(/<br\s*\/?>/gi,' ').replace(/<[^>]+>/g,' ').replace(/\s+/g,' ').trim()}function Te(n){if('number'==typeof n&&!Number.isNaN(n)){return new Date(n<1e12?1e3*n:n).toLocaleString('zh-CN',{hour12:!1})}if('string'==typeof n){const e=n.trim();if(e)return e}return''}function De(n){const e=[n?.last_message_time,n?.last_message_date,n?.update_time,n?.last_modified,n?.create_date,n?.timestamp,n?.time];for(const n of e){const e=Te(n);if(e)return e}const a=Be(n?.file_name,n?.file_id);return a?a.replace(/\.jsonl$/i,''):''}function Me(n){return De(n)||'聊天记录'}function Ae(n){const e=Be(n?.file_name,n?.file_id);return e?e.replace(/\.jsonl$/i,''):''}function Le(n,e=3){const a=$e(n);if(!a)return[];const t=new Set,r=new Set(['the','and','you','your','are','this','that','with','have','not','for','from','what','why','when','where','then','into','out','here','there','这个','那个','我们','你们','他们','她们','因为','但是','然后','如果','可以','没有','不是','已经','现在','一个','一些','还有','所以','这种']),o=a.match(/\[[^\]]{2,16}\]/g)??[];for(const n of o){const a=n.slice(1,-1).trim();if(a&&t.add(a),t.size>=e)return Array.from(t).slice(0,e)}const i=a.match(/[\u4e00-\u9fa5]{2,}|[A-Za-z0-9]{3,}/g)??[];for(const n of i){const a=n.toLowerCase();if(!r.has(n)&&!r.has(a)&&(t.add(n),t.size>=e))break}return Array.from(t).slice(0,e)}function je(n){const e=n.split('\n').map(n=>n.trim()).filter(n=>n.length>0),a=[];for(const n of e)n.startsWith('```')||/^<\/?(html|head|body|meta|title|script|style|!doctype)\b/i.test(n)||a.push(n);return a}function He(n,e){const a=[];for(let t=0;t<n.length;t+=e){const r=n.slice(t,t+e).trim();r&&a.push(r)}return a}async function Ie(n){if('tavern'!==n.origin)return{list:[],summary:null};const e=await TavernHelper.getChatHistoryBrief(n.avatar??n.name,!0);if(!Array.isArray(e)||!e.length)return{list:[],summary:{total:0,latest:''}};const a=e.slice(0,3).map(n=>({name:Me(n),label:Ae(n),file:String(n?.file_name??n?.file_id??''),mes:$e(String(n?.mes??'')).slice(0,120),keywords:Le(String(n?.mes??''))})),t=De(e[0]);return{list:a,summary:{total:e.length,latest:t}}}async function Oe(){m.value.length?await Re(m.value[0]):toastr.warning('暂无聊天记录')}async function Pe(){if(await Fe({ensureSelected:!0}))try{await triggerSlash('/newchat'),xe(),Ge()}catch(n){console.warn('[CardHub] 新聊天失败',n),toastr.error('无法创建新聊天')}}async function Re(n){const e=n.file;if(!e)return void toastr.warning('未找到聊天文件');const a=await Fe({ensureSelected:!0});if(!a)return;const{ctx:t,st:r}=a,o=Ke(e),i=(t&&'function'==typeof t.openCharacterChat?t.openCharacterChat:null)??(r&&'function'==typeof r.openCharacterChat?r.openCharacterChat:null);if(!i)return void toastr.error('无法打开聊天：缺少接口');try{Promise.resolve(i(o)).catch(n=>{console.warn('[CardHub] 打开聊天失败',n)})}catch(n){console.warn('[CardHub] 打开聊天失败',n)}const c=await async function(n,e,a,t){const r=Ke(n),o=Date.now();for(;Date.now()-o<t;){if((e?.chatId??a?.chatId)===r)return!0;await new Promise(n=>setTimeout(n,200))}return!1}(o,t,r,6e3);if(c)return xe(),void Ge();toastr.warning('未能打开聊天，可能需要先手动切到该角色')}async function Fe(n={}){let e;try{e=window.parent?.SillyTavern}catch{e=void 0}e??=SillyTavern;const a='function'==typeof e?.getContext?e.getContext():null;if('function'==typeof a?.getCharacters)try{await a.getCharacters()}catch(n){console.warn('[CardHub] 刷新角色列表失败',n)}const t=a?.characters??e?.characters??[],r=u.value&&Array.isArray(t)?function(n,e){if(e.avatar){const a=n.findIndex(n=>n.avatar===e.avatar||n.name===e.avatar);if(a>=0)return a}return n.findIndex(n=>n.name===e.name)}(t,u.value):-1;if(r<0)return toastr.warning('未找到角色索引，请先手动切到该角色后再试'),null;const o=(a&&'function'==typeof a.selectCharacterById?a.selectCharacterById:null)??(e&&'function'==typeof e.selectCharacterById?e.selectCharacterById:null);if(!o)return toastr.warning('无法切换角色，请先手动切到该角色后再试'),null;try{await o(r,{switchMenu:!1})}catch(n){console.warn('[CardHub] 切换角色失败',n)}const i=await async function(n,e,a,t){const r=String(n),o=Date.now();for(;Date.now()-o<t;){if(Ue(e,a)===r)return!0;await Ye(80)}return!1}(r,a,e,3e3);return n.ensureSelected&&!i?(toastr.warning('角色切换未完成，请稍后再试'),null):{ctx:a,st:e,idx:r}}function Ue(n,e){const a=n?.characterId??e?.characterId??'';return null==a?'':String(a)}function Ye(n){return new Promise(e=>setTimeout(e,n))}function Ke(n){return n.endsWith('.jsonl')?n:`${n}.jsonl`}async function Je(n){if('library'===n.origin){if('confirm'!==await ce({title:'删除角色',message:`确认永久删除「${n.name}」？此操作不可恢复。`,confirmLabel:'删除',cancelLabel:'取消'}))return;return k(g(n.id)),void xe()}if('confirm'!==await ce({title:'删除角色',message:`确定要删除「${n.name}」吗？`,confirmLabel:'继续',cancelLabel:'取消'}))return;const e=await ce({title:'删除方式',message:`删除「${n.name}」：\n- 移到私有库：可在私有库中找回\n- 永久删除：不可恢复`,confirmLabel:'移到私有库',altLabel:'永久删除',cancelLabel:'取消'});if('cancel'===e)return;if('confirm'===e){await async function(n){if(!n.avatar)return;const e=TavernHelper.getCharAvatarPath(n.avatar);if(!e)return void toastr.error('无法导出：缺少头像信息');const a=await fetch(e,{cache:'no-cache'}),t=await a.blob(),r=await f([new File([t],`${n.name}.png`,{type:'image/png'})]);k(r)}(n);if(!await qe(n,!1))return;xe();return void w(await o())}if('confirm'!==await ce({title:'永久删除',message:`确认永久删除「${n.name}」？此操作不可恢复。`,confirmLabel:'永久删除',cancelLabel:'取消'}))return;if(!await qe(n,!0))return;xe();w(await o())}async function qe(n,e){if(!n.avatar)return toastr.error('删除失败：缺少头像信息'),!1;let a;try{a=window.parent?.SillyTavern}catch{a=void 0}a??=SillyTavern;const t='function'==typeof a?.getContext?a.getContext():null,r=t?.getRequestHeaders?t.getRequestHeaders():a?.getRequestHeaders?.();if(!r||!Object.keys(r).length)return toastr.error('删除失败：无法获取请求头'),!1;const o={avatar_url:n.avatar,delete_chats:e},i=await fetch('/api/characters/delete',{method:'POST',headers:{...r,'Content-Type':'application/json'},body:JSON.stringify(o),cache:'no-cache'});if(i.ok)return!0;const c=await i.text();return toastr.error(`删除失败：${i.status} ${c||i.statusText}`),!1}function We(n,e){const a=URL.createObjectURL(n),t=document.createElement('a');t.href=a,t.download=e,document.body.appendChild(t),t.click(),t.remove(),URL.revokeObjectURL(a)}async function Xe(n){const e=await fetch(n);return await e.blob()}async function Ze(){y(!0);try{w(await o()),k(h())}finally{y(!1)}}function Ge(){x(!1)}return(0,r.watch)([()=>v.search,i,()=>e.value.join('|')],()=>{l.value=1}),(0,r.watch)([qn,Wn],()=>{l.value>Wn.value&&(l.value=Wn.value),l.value<1&&(l.value=1)}),(n,o)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{class:(0,r.normalizeClass)(['cardhub-root',{open:(0,r.unref)(v).open}])},[(0,r.createElementVNode)('div',{class:'cardhub-backdrop',onClick:Ge}),(0,r.createElementVNode)('section',B,[(0,r.createElementVNode)('header',{class:'cardhub-header'},[o[33]||(o[33]=(0,r.createElementVNode)('div',{class:'cardhub-title'},[(0,r.createElementVNode)('span',{class:'cardhub-title__main'},'CardHub'),(0,r.createElementVNode)('span',{class:'cardhub-title__sub'},'角色卡管理器')],-1)),(0,r.createElementVNode)('div',{class:'cardhub-actions'},[(0,r.createElementVNode)('button',{class:'cardhub-close',type:'button','aria-label':'关闭',onClick:Ge},[...o[32]||(o[32]=[(0,r.createElementVNode)('span',{'aria-hidden':'true'},'×',-1)])])])]),(0,r.createElementVNode)('div',S,[(0,r.withDirectives)((0,r.createElementVNode)('input',{'onUpdate:modelValue':o[0]||(o[0]=n=>(0,r.unref)(v).search=n),class:'cardhub-search',type:'search',placeholder:'搜索角色名或标签'},null,512),[[r.vModelText,(0,r.unref)(v).search]]),(0,r.createElementVNode)('button',{class:'cardhub-button',type:'button',onClick:Ze},'刷新'),(0,r.createElementVNode)('button',{class:'cardhub-button is-ghost',type:'button',onClick:me},'导入'),(0,r.createElementVNode)('button',{class:'cardhub-button is-ghost',type:'button',onClick:he},'批量导出'),(0,r.createElementVNode)('input',{ref_key:'importInput',ref:d,class:'cardhub-import-input',type:'file',accept:'.png,.json',multiple:'',onChange:be},null,544)]),(0,r.createElementVNode)('div',T,[(0,r.createElementVNode)('div',D,[o[34]||(o[34]=(0,r.createElementVNode)('div',{class:'cardhub-section-title'},'分类',-1)),(0,r.createElementVNode)('div',M,[(0,r.createElementVNode)('button',{class:(0,r.normalizeClass)(['cardhub-chip',{'is-active':'all'===i.value}]),type:'button',onClick:o[1]||(o[1]=n=>i.value='all')},' 全部 ',2),(0,r.createElementVNode)('button',{class:(0,r.normalizeClass)(['cardhub-chip',{'is-active':'imported'===i.value}]),type:'button',onClick:o[2]||(o[2]=n=>i.value='imported')},' 已导入 ',2),(0,r.createElementVNode)('button',{class:(0,r.normalizeClass)(['cardhub-chip',{'is-active':'unimported'===i.value}]),type:'button',onClick:o[3]||(o[3]=n=>i.value='unimported')},' 未导入 ',2)]),o[35]||(o[35]=(0,r.createElementVNode)('div',{class:'cardhub-divider'},null,-1)),o[36]||(o[36]=(0,r.createElementVNode)('div',{class:'cardhub-section-title'},'标签',-1)),(0,r.createElementVNode)('div',A,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(Zn.value,n=>((0,r.openBlock)(),(0,r.createElementBlock)('button',{key:n,class:(0,r.normalizeClass)(['cardhub-tag-filter__chip',{'is-active':e.value.includes(n)}]),type:'button',onClick:a=>function(n){e.value.includes(n)?e.value=e.value.filter(e=>e!==n):e.value=[...e.value,n]}(n)},(0,r.toDisplayString)(n),11,L))),128))]),e.value.length?((0,r.openBlock)(),(0,r.createElementBlock)('button',{key:0,class:'cardhub-chip cardhub-chip--clear',type:'button',onClick:te},' 清空标签 ')):(0,r.createCommentVNode)('v-if',!0)]),(0,r.createElementVNode)('div',j,[(0,r.unref)(v).loading?((0,r.openBlock)(),(0,r.createElementBlock)('div',H,'正在读取角色卡...')):qn.value.length?((0,r.openBlock)(),(0,r.createElementBlock)('div',O,[(0,r.createElementVNode)('div',P,[Wn.value>1?((0,r.openBlock)(),(0,r.createElementBlock)('div',R,[(0,r.createElementVNode)('button',{class:'cardhub-pagination__button',type:'button',disabled:l.value<=1,onClick:re},' 上一页 ',8,F),(0,r.createElementVNode)('button',{class:'cardhub-pagination__button',type:'button',disabled:l.value>=Wn.value,onClick:oe},' 下一页 ',8,U)])):(0,r.createCommentVNode)('v-if',!0),(0,r.createElementVNode)('span',Y,'第 '+(0,r.toDisplayString)(l.value)+' / '+(0,r.toDisplayString)(Wn.value)+' 页',1)]),(0,r.createElementVNode)('div',K,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(Xn.value,n=>((0,r.openBlock)(),(0,r.createElementBlock)('article',{key:n.id,class:'cardhub-card',onClick:e=>ve(n)},[(0,r.createElementVNode)('div',{class:(0,r.normalizeClass)(['cardhub-card__avatar',{'has-avatar':Boolean(Gn(n))}]),style:(0,r.normalizeStyle)(Qn(n))},[(0,r.createElementVNode)('span',null,(0,r.toDisplayString)(n.name.slice(0,1)||'?'),1)],6),(0,r.createElementVNode)('div',q,[(0,r.createElementVNode)('div',W,(0,r.toDisplayString)(n.name),1),(0,r.createElementVNode)('div',X,[(0,r.createElementVNode)('span',null,(0,r.toDisplayString)('tavern'===n.origin?'已导入':'未导入'),1),(0,r.createElementVNode)('span',null,(0,r.toDisplayString)(ne(n).length)+' 标签',1)]),(0,r.createElementVNode)('div',Z,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(ne(n),e=>((0,r.openBlock)(),(0,r.createElementBlock)('button',{key:e,class:'cardhub-tag',type:'button',title:'点击移除标签',onClick:(0,r.withModifiers)(a=>function(n,e){pe(n,V(n).filter(n=>n!==e))}(n,e),['stop'])},[(0,r.createTextVNode)((0,r.toDisplayString)(e)+' ',1),o[37]||(o[37]=(0,r.createElementVNode)('span',{class:'cardhub-tag__remove'},'×',-1))],8,G))),128)),a.value!==se(n)?((0,r.openBlock)(),(0,r.createElementBlock)('button',{key:0,class:'cardhub-tag is-add',type:'button',onClick:(0,r.withModifiers)(e=>function(n){a.value=se(n),t.value='',(0,r.nextTick)(()=>{const n=document.querySelector('.cardhub-tag-input');n?.focus()})}(n),['stop'])},' + 标签 ',8,Q)):(0,r.withDirectives)(((0,r.openBlock)(),(0,r.createElementBlock)('input',{key:1,'onUpdate:modelValue':o[4]||(o[4]=n=>t.value=n),class:'cardhub-tag-input',type:'text',placeholder:'新标签',onKeydown:[(0,r.withKeys)((0,r.withModifiers)(e=>de(n),['prevent']),['enter']),(0,r.withKeys)((0,r.withModifiers)(ue,['prevent']),['esc'])],onBlur:e=>de(n),onClick:o[5]||(o[5]=(0,r.withModifiers)(()=>{},['stop'])),onMousedown:o[6]||(o[6]=(0,r.withModifiers)(()=>{},['stop'])),onTouchstart:o[7]||(o[7]=(0,r.withModifiers)(()=>{},['stop']))},null,40,nn)),[[r.vModelText,t.value]])])]),(0,r.createElementVNode)('div',en,[(0,r.createElementVNode)('button',{class:'cardhub-card__action is-secondary',type:'button',onClick:(0,r.withModifiers)(e=>fe(n),['stop']),onPointerdown:o[8]||(o[8]=(0,r.withModifiers)(()=>{},['stop'])),onMousedown:o[9]||(o[9]=(0,r.withModifiers)(()=>{},['stop'])),onTouchstart:o[10]||(o[10]=(0,r.withModifiers)(()=>{},['stop']))},(0,r.toDisplayString)('tavern'===n.origin?'导出':'导入'),41,an),(0,r.createElementVNode)('button',{class:'cardhub-card__action',type:'button',onClick:(0,r.withModifiers)(e=>ve(n),['stop']),onPointerdown:o[11]||(o[11]=(0,r.withModifiers)(()=>{},['stop'])),onMousedown:o[12]||(o[12]=(0,r.withModifiers)(()=>{},['stop'])),onTouchstart:o[13]||(o[13]=(0,r.withModifiers)(()=>{},['stop']))},' 管理 ',40,tn)])],8,J))),128))])])):((0,r.openBlock)(),(0,r.createElementBlock)('div',I,' 暂无角色卡，或没有匹配的搜索结果。 '))])])]),u.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:0,class:'cardhub-manage',onClick:(0,r.withModifiers)(xe,['self'])},[(0,r.createElementVNode)('div',rn,[(0,r.createElementVNode)('button',{class:'cardhub-preview__close',type:'button',onClick:xe},'×'),(0,r.createElementVNode)('div',on,[(0,r.createElementVNode)('div',cn,[(0,r.createElementVNode)('div',ln,(0,r.toDisplayString)(u.value.name),1),(0,r.createElementVNode)('div',sn,[(0,r.createElementVNode)('span',null,(0,r.toDisplayString)('tavern'===u.value.origin?'已导入':'未导入'),1),(0,r.createElementVNode)('span',null,(0,r.toDisplayString)(ne(u.value).length)+' 标签',1)]),(0,r.createElementVNode)('div',dn,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(ne(u.value),n=>((0,r.openBlock)(),(0,r.createElementBlock)('span',{key:n,class:'cardhub-preview__tag'},(0,r.toDisplayString)(n),1))),128))]),(0,r.createElementVNode)('div',un,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(Jn.value,n=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:n.label,class:'cardhub-manage__overview-card'},[(0,r.createElementVNode)('div',pn,(0,r.toDisplayString)(n.label),1),(0,r.createElementVNode)('div',mn,(0,r.toDisplayString)(n.value),1),n.hint?((0,r.openBlock)(),(0,r.createElementBlock)('div',bn,(0,r.toDisplayString)(n.hint),1)):(0,r.createCommentVNode)('v-if',!0)]))),128))])]),(0,r.createElementVNode)('div',hn,[ee.value?((0,r.openBlock)(),(0,r.createElementBlock)('img',{key:0,src:ee.value,alt:''},null,8,fn)):(0,r.createCommentVNode)('v-if',!0)])]),(0,r.createElementVNode)('div',gn,[o[38]||(o[38]=(0,r.createElementVNode)('div',{class:'cardhub-manage__label'},'角色卡预览',-1)),Un.value.length?((0,r.openBlock)(),(0,r.createElementBlock)('div',vn,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(Un.value,n=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:n.label,class:'cardhub-manage__detail'},[(0,r.createElementVNode)('div',xn,(0,r.toDisplayString)(n.label),1),(0,r.createElementVNode)('div',yn,(0,r.toDisplayString)(n.value),1)]))),128))])):((0,r.openBlock)(),(0,r.createElementBlock)('div',_n,(0,r.toDisplayString)(Yn.value),1))]),(0,r.createElementVNode)('div',wn,[o[39]||(o[39]=(0,r.createElementVNode)('div',{class:'cardhub-manage__label'},'开场白',-1)),(0,r.createElementVNode)('div',kn,[b.value.length?((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,{key:0},(0,r.renderList)(b.value,(n,e)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:e,class:'cardhub-manage__opening'},(0,r.toDisplayString)(n),1))),128)):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.createTextVNode)('暂无开场白')],64))])]),(0,r.createElementVNode)('div',En,[(0,r.createElementVNode)('div',Nn,[o[40]||(o[40]=(0,r.createElementVNode)('span',null,'最近聊天',-1)),(0,r.createElementVNode)('div',Vn,[(0,r.createElementVNode)('button',{class:'cardhub-manage__btn is-primary',type:'button',onClick:Oe,onPointerdown:o[14]||(o[14]=(0,r.withModifiers)(()=>{},['stop'])),onMousedown:o[15]||(o[15]=(0,r.withModifiers)(()=>{},['stop'])),onTouchstart:o[16]||(o[16]=(0,r.withModifiers)(()=>{},['stop']))},' 进入最近聊天 ',32),(0,r.createElementVNode)('button',{class:'cardhub-manage__btn is-secondary',type:'button',onClick:Pe,onPointerdown:o[17]||(o[17]=(0,r.withModifiers)(()=>{},['stop'])),onMousedown:o[18]||(o[18]=(0,r.withModifiers)(()=>{},['stop'])),onTouchstart:o[19]||(o[19]=(0,r.withModifiers)(()=>{},['stop']))},' 新聊天 ',32)])]),m.value.length?((0,r.openBlock)(),(0,r.createElementBlock)('div',Cn,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(m.value,(n,e)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:e,class:'cardhub-manage__chat-row',role:'button',tabindex:'0',onClick:e=>Re(n),onKeydown:(0,r.withKeys)((0,r.withModifiers)(e=>Re(n),['prevent']),['enter'])},[(0,r.createElementVNode)('div',Sn,[(0,r.createElementVNode)('div',zn,(0,r.toDisplayString)(n.name),1),n.label&&n.label!==n.name?((0,r.openBlock)(),(0,r.createElementBlock)('div',$n,(0,r.toDisplayString)(n.label),1)):(0,r.createCommentVNode)('v-if',!0),n.keywords.length?((0,r.openBlock)(),(0,r.createElementBlock)('div',Tn,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(n.keywords,n=>((0,r.openBlock)(),(0,r.createElementBlock)('span',{key:n,class:'cardhub-manage__chat-tag'},(0,r.toDisplayString)(n),1))),128))])):(0,r.createCommentVNode)('v-if',!0)]),(0,r.createElementVNode)('span',Dn,(0,r.toDisplayString)(n.mes),1)],40,Bn))),128))])):((0,r.openBlock)(),(0,r.createElementBlock)('div',Mn,(0,r.toDisplayString)(Kn.value),1))]),(0,r.createElementVNode)('div',An,[(0,r.createElementVNode)('button',{class:'cardhub-manage__btn is-secondary',type:'button',onClick:o[20]||(o[20]=(0,r.withModifiers)(n=>fe(u.value),['stop'])),onPointerdown:o[21]||(o[21]=(0,r.withModifiers)(()=>{},['stop'])),onMousedown:o[22]||(o[22]=(0,r.withModifiers)(()=>{},['stop'])),onTouchstart:o[23]||(o[23]=(0,r.withModifiers)(()=>{},['stop']))},(0,r.toDisplayString)('tavern'===u.value.origin?'导出':'导入'),33),(0,r.createElementVNode)('button',{class:'cardhub-manage__btn is-primary',type:'button',onClick:o[24]||(o[24]=(0,r.withModifiers)(n=>Je(u.value),['stop'])),onPointerdown:o[25]||(o[25]=(0,r.withModifiers)(()=>{},['stop'])),onMousedown:o[26]||(o[26]=(0,r.withModifiers)(()=>{},['stop'])),onTouchstart:o[27]||(o[27]=(0,r.withModifiers)(()=>{},['stop']))},' 删除 ',32)])])])):(0,r.createCommentVNode)('v-if',!0),N.open?((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:1,class:'cardhub-confirm',onClick:o[31]||(o[31]=(0,r.withModifiers)(n=>le('cancel'),['self']))},[(0,r.createElementVNode)('div',Ln,[(0,r.createElementVNode)('div',jn,(0,r.toDisplayString)(N.title),1),(0,r.createElementVNode)('div',Hn,(0,r.toDisplayString)(N.message),1),(0,r.createElementVNode)('div',In,[(0,r.createElementVNode)('button',{class:'cardhub-confirm__button is-cancel',type:'button',onClick:o[28]||(o[28]=n=>le('cancel'))},(0,r.toDisplayString)(N.cancelLabel),1),N.altLabel?((0,r.openBlock)(),(0,r.createElementBlock)('button',{key:0,class:'cardhub-confirm__button is-danger',type:'button',onClick:o[29]||(o[29]=n=>le('alt'))},(0,r.toDisplayString)(N.altLabel),1)):(0,r.createCommentVNode)('v-if',!0),(0,r.createElementVNode)('button',{class:'cardhub-confirm__button is-confirm',type:'button',onClick:o[30]||(o[30]=n=>le('confirm'))},(0,r.toDisplayString)(N.confirmLabel),1)])])])):(0,r.createCommentVNode)('v-if',!0)],2))}});const Pn=(0,a(502).A)(On,[['__scopeId','data-v-fe13b558']]);let Rn=null,Fn=null,Un=null;function Yn(){Fn||(Un=$('<style>').attr('data-cardhub-style',getScriptId()).text('\n      .cardhub-root {\n        position: fixed;\n        inset: 0;\n        z-index: 9999;\n        font-family: "ZCOOL XiaoWei", "STSong", "Songti SC", "SimSun", serif;\n        color: #1b1b1b;\n        display: none;\n        align-items: center;\n        justify-content: center;\n      }\n\n      .cardhub-root.open {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n\n      .cardhub-backdrop {\n        position: absolute;\n        inset: 0;\n        background: rgba(0, 0, 0, 0.4);\n        backdrop-filter: blur(6px);\n        opacity: 0;\n        transition: opacity 180ms ease;\n      }\n\n      .cardhub-root.open .cardhub-backdrop {\n        opacity: 1;\n      }\n\n      .cardhub-panel {\n        position: relative;\n        width: min(980px, 94%);\n        max-height: 92%;\n        background: linear-gradient(160deg, #fff9f0, #f3e4d4);\n        border-radius: 28px;\n        box-shadow: 0 30px 90px rgba(0, 0, 0, 0.28);\n        display: flex;\n        flex-direction: column;\n        overflow: hidden;\n        z-index: 1;\n        opacity: 0;\n        transform: translateY(8px) scale(0.985);\n        transition: opacity 180ms ease, transform 180ms ease;\n      }\n\n      .cardhub-root.open .cardhub-panel {\n        opacity: 1;\n        transform: translateY(0) scale(1);\n      }\n\n      .cardhub-header {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        padding: 20px 24px;\n        border-bottom: 1px solid rgba(86, 59, 44, 0.15);\n      }\n\n      .cardhub-title__main {\n        font-size: 26px;\n        letter-spacing: 2px;\n      }\n\n      .cardhub-title__sub {\n        font-size: 12px;\n        color: #7d5b46;\n        margin-left: 10px;\n      }\n\n      .cardhub-actions {\n        display: flex;\n        gap: 10px;\n      }\n\n      .cardhub-close {\n        border: none;\n        background: rgba(43, 32, 24, 0.12);\n        color: #3b2a20;\n        width: 34px;\n        height: 34px;\n        border-radius: 999px;\n        font-size: 20px;\n        line-height: 34px;\n        text-align: center;\n        cursor: pointer;\n        transition: background-color 160ms ease, transform 120ms ease;\n      }\n\n      .cardhub-close:hover {\n        background: rgba(43, 32, 24, 0.2);\n      }\n\n      .cardhub-close:active {\n        transform: scale(0.96);\n      }\n\n      .cardhub-toolbar {\n        display: flex;\n        gap: 8px;\n        padding: 12px 20px;\n        flex-wrap: wrap;\n      }\n\n      .cardhub-search {\n        flex: 1;\n        min-width: 180px;\n        border-radius: 999px;\n        border: 1px solid rgba(86, 59, 44, 0.2);\n        padding: 6px 12px;\n        background: #fffaf4;\n      }\n\n      .cardhub-button {\n        border: none;\n        padding: 6px 14px;\n        border-radius: 999px;\n        background: #d46b3d;\n        color: #fff;\n        cursor: pointer;\n        font-size: 12px;\n        transition: background-color 160ms ease, transform 120ms ease, box-shadow 160ms ease;\n      }\n\n      .cardhub-button:hover {\n        background: #c55f36;\n        box-shadow: 0 6px 14px rgba(43, 32, 24, 0.18);\n      }\n\n      .cardhub-button:active {\n        transform: translateY(1px);\n      }\n\n      .cardhub-button.is-ghost {\n        background: transparent;\n        color: #6a3f2a;\n        border: 1px solid rgba(106, 63, 42, 0.4);\n      }\n\n      .cardhub-button.is-ghost:hover {\n        background: rgba(106, 63, 42, 0.08);\n        border-color: rgba(106, 63, 42, 0.6);\n        box-shadow: none;\n      }\n\n      .cardhub-import-input {\n        display: none;\n      }\n\n      .cardhub-body {\n        display: grid;\n        grid-template-columns: minmax(160px, 220px) 1fr;\n        gap: 0;\n        flex: 1;\n        min-height: 0;\n      }\n\n      .cardhub-sidebar {\n        padding: 20px;\n        border-right: 1px solid rgba(86, 59, 44, 0.15);\n        display: flex;\n        flex-direction: column;\n        gap: 12px;\n      }\n\n      .cardhub-chip-row {\n        display: flex;\n        flex-wrap: wrap;\n        gap: 8px;\n      }\n\n      .cardhub-divider {\n        height: 1px;\n        width: 100%;\n        background: rgba(86, 59, 44, 0.15);\n        margin: 8px 0;\n      }\n\n      .cardhub-section-title {\n        font-size: 12px;\n        color: #7d5b46;\n        text-transform: uppercase;\n        letter-spacing: 1px;\n      }\n\n      .cardhub-chip {\n        text-align: left;\n        border: none;\n        background: rgba(255, 255, 255, 0.6);\n        border-radius: 12px;\n        padding: 8px 10px;\n        cursor: pointer;\n        font-size: 12px;\n        transition: background-color 160ms ease, color 160ms ease, transform 120ms ease;\n      }\n\n      .cardhub-chip.is-active {\n        background: #2b2018;\n        color: #fff5ea;\n      }\n\n      .cardhub-chip:not(.is-active):hover {\n        background: rgba(255, 255, 255, 0.9);\n        transform: translateY(-1px);\n      }\n\n      .cardhub-placeholder {\n        font-size: 12px;\n        color: #9a7a63;\n      }\n\n      .cardhub-tag-filter {\n        display: flex;\n        flex-wrap: wrap;\n        gap: 8px;\n      }\n\n      .cardhub-tag-filter__chip {\n        border: 1px solid rgba(106, 63, 42, 0.25);\n        background: rgba(255, 255, 255, 0.7);\n        border-radius: 999px;\n        padding: 6px 10px;\n        font-size: 12px;\n        color: #6a3f2a;\n        cursor: pointer;\n        transition: background-color 160ms ease, color 160ms ease, border-color 160ms ease, transform 120ms ease;\n      }\n\n      .cardhub-tag-filter__chip.is-active {\n        background: #2b2018;\n        color: #fff5ea;\n        border-color: transparent;\n      }\n\n      .cardhub-tag-filter__chip:not(.is-active):hover {\n        border-color: rgba(106, 63, 42, 0.45);\n        background: rgba(255, 255, 255, 0.9);\n        transform: translateY(-1px);\n      }\n\n      .cardhub-chip--clear {\n        margin-top: 8px;\n      }\n\n      .cardhub-content {\n        padding: 20px;\n        overflow: auto;\n        flex: 1;\n        min-height: 0;\n      }\n\n      .cardhub-grid-wrap {\n        display: grid;\n        gap: 12px;\n      }\n\n      .cardhub-pagination {\n        display: flex;\n        align-items: center;\n        justify-content: flex-end;\n        gap: 10px;\n        flex-wrap: wrap;\n      }\n\n      .cardhub-pagination__status {\n        font-size: 12px;\n        color: #7d5b46;\n      }\n\n      .cardhub-pagination__actions {\n        display: flex;\n        gap: 8px;\n        align-items: center;\n        margin-right: auto;\n      }\n\n      .cardhub-pagination__button {\n        border: 1px solid rgba(106, 63, 42, 0.35);\n        background: rgba(255, 255, 255, 0.85);\n        color: #6a3f2a;\n        border-radius: 999px;\n        padding: 4px 10px;\n        font-size: 11px;\n        cursor: pointer;\n        transition: background-color 160ms ease, border-color 160ms ease, transform 120ms ease;\n      }\n\n      .cardhub-pagination__button:disabled {\n        opacity: 0.4;\n        cursor: default;\n      }\n\n      .cardhub-pagination__button:not(:disabled):hover {\n        background: rgba(255, 255, 255, 1);\n        border-color: rgba(106, 63, 42, 0.6);\n        transform: translateY(-1px);\n      }\n\n      .cardhub-pagination__button:not(:disabled):active {\n        transform: translateY(0);\n      }\n\n      .cardhub-loading,\n      .cardhub-empty {\n        padding: 40px 0;\n        text-align: center;\n        color: #7d5b46;\n      }\n\n      .cardhub-grid {\n        display: grid;\n        gap: 14px;\n        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n        justify-items: center;\n      }\n\n      .cardhub-card {\n        background: rgba(255, 255, 255, 0.78);\n        border-radius: 18px;\n        padding: 14px;\n        display: grid;\n        grid-template-columns: auto 1fr;\n        gap: 12px;\n        align-items: center;\n        border: 1px solid rgba(86, 59, 44, 0.15);\n        cursor: pointer;\n        transition: transform 140ms ease, box-shadow 180ms ease, border-color 180ms ease;\n        width: 100%;\n        max-width: 260px;\n      }\n\n      .cardhub-card:hover {\n        transform: translateY(-2px);\n        border-color: rgba(86, 59, 44, 0.25);\n        box-shadow: 0 12px 26px rgba(43, 32, 24, 0.16);\n      }\n\n      .cardhub-card:active {\n        transform: translateY(0);\n      }\n\n      .cardhub-card__avatar {\n        width: 42px;\n        height: 42px;\n        border-radius: 12px;\n        background: linear-gradient(135deg, #f4d7c4, #d36a3b);\n        background-size: cover;\n        background-position: center;\n        color: #4a2a1f;\n        display: grid;\n        place-items: center;\n        font-weight: 700;\n      }\n\n      .cardhub-card__avatar.has-avatar span {\n        display: none;\n      }\n\n      .cardhub-card__name {\n        font-size: 14px;\n        font-weight: 600;\n      }\n\n      .cardhub-card__meta {\n        display: flex;\n        gap: 8px;\n        font-size: 11px;\n        color: #7d5b46;\n      }\n\n      .cardhub-card__tags {\n        display: flex;\n        flex-wrap: wrap;\n        gap: 6px;\n        margin-top: 8px;\n        align-items: center;\n      }\n\n      .cardhub-tag {\n        border: 1px solid rgba(106, 63, 42, 0.3);\n        background: #fff6ea;\n        border-radius: 999px;\n        padding: 4px 8px;\n        font-size: 11px;\n        color: #6a3f2a;\n        cursor: pointer;\n        transition: background-color 160ms ease, border-color 160ms ease, transform 120ms ease;\n      }\n\n      .cardhub-tag:hover {\n        background: #fffaf4;\n        border-color: rgba(106, 63, 42, 0.5);\n        transform: translateY(-1px);\n      }\n\n      .cardhub-tag__remove {\n        margin-left: 4px;\n        font-weight: 700;\n      }\n\n      .cardhub-tag.is-add {\n        background: transparent;\n        border-style: dashed;\n      }\n\n      .cardhub-tag-input {\n        border: 1px dashed rgba(106, 63, 42, 0.5);\n        background: #fffaf4;\n        border-radius: 999px;\n        padding: 4px 10px;\n        font-size: 11px;\n        min-width: 80px;\n        color: #6a3f2a;\n        outline: none;\n        height: 24px;\n        line-height: 16px;\n      }\n\n      .cardhub-tag-input:focus {\n        border-color: rgba(106, 63, 42, 0.85);\n      }\n\n      .cardhub-card__action {\n        grid-column: span 2;\n        margin-top: 10px;\n        border: none;\n        background: #2b2018;\n        color: #fff5ea;\n        padding: 6px 12px;\n        border-radius: 12px;\n        font-size: 12px;\n        cursor: pointer;\n        transition: transform 120ms ease, box-shadow 160ms ease, background-color 160ms ease;\n      }\n\n      .cardhub-card__actions {\n        grid-column: span 2;\n        display: grid;\n        grid-template-columns: 1fr 1fr;\n        gap: 8px;\n        margin-top: 10px;\n      }\n\n      .cardhub-card__action.is-secondary {\n        background: #d9c6b6;\n        color: #3b2a20;\n      }\n\n      .cardhub-card__action:hover {\n        transform: translateY(-1px);\n        box-shadow: 0 6px 14px rgba(43, 32, 24, 0.15);\n      }\n\n      .cardhub-card__action:active {\n        transform: translateY(0);\n      }\n\n      .cardhub-preview {\n        position: fixed;\n        inset: 0;\n        background: rgba(24, 16, 10, 0.45);\n        backdrop-filter: blur(6px);\n        display: grid;\n        place-items: center;\n        z-index: 100000;\n      }\n\n      .cardhub-preview__panel {\n        width: min(520px, 92vw);\n        background: #fff6ea;\n        border-radius: 26px;\n        box-shadow: 0 26px 70px rgba(0, 0, 0, 0.25);\n        padding: 20px;\n        position: relative;\n        display: grid;\n        gap: 14px;\n      }\n\n      .cardhub-preview__close {\n        position: absolute;\n        top: 14px;\n        right: 14px;\n        border: none;\n        width: 30px;\n        height: 30px;\n        border-radius: 999px;\n        background: rgba(43, 32, 24, 0.15);\n        color: #3b2a20;\n        font-size: 18px;\n        cursor: pointer;\n        transition: background-color 160ms ease, transform 120ms ease;\n      }\n\n      .cardhub-preview__close:hover {\n        background: rgba(43, 32, 24, 0.25);\n      }\n\n      .cardhub-preview__close:active {\n        transform: scale(0.96);\n      }\n\n      .cardhub-preview__avatar {\n        width: 100%;\n        height: 260px;\n        border-radius: 18px;\n        background: #ead7c4;\n        display: grid;\n        place-items: center;\n        overflow: hidden;\n      }\n\n      .cardhub-preview__avatar img {\n        width: 100%;\n        height: 100%;\n        object-fit: contain;\n      }\n\n      .cardhub-preview__info {\n        display: grid;\n        gap: 6px;\n      }\n\n      .cardhub-preview__name {\n        font-size: 20px;\n        font-weight: 700;\n      }\n\n      .cardhub-preview__meta {\n        display: flex;\n        gap: 10px;\n        font-size: 12px;\n        color: #7d5b46;\n      }\n\n      .cardhub-preview__tags {\n        display: flex;\n        flex-wrap: wrap;\n        gap: 8px;\n      }\n\n      .cardhub-preview__tag {\n        padding: 6px 10px;\n        border-radius: 999px;\n        border: 1px solid rgba(106, 63, 42, 0.3);\n        background: #fffaf4;\n        font-size: 12px;\n        color: #6a3f2a;\n      }\n\n      .cardhub-preview__actions {\n        display: grid;\n        grid-template-columns: 1fr 1fr;\n        gap: 10px;\n      }\n\n      .cardhub-manage {\n        position: fixed;\n        inset: 0;\n        background: rgba(24, 16, 10, 0.45);\n        backdrop-filter: blur(6px);\n        display: grid;\n        place-items: center;\n        z-index: 100001;\n      }\n\n      .cardhub-manage__panel {\n        width: min(760px, 94vw);\n        max-height: 88vh;\n        background: #fff6ea;\n        border-radius: 26px;\n        box-shadow: 0 26px 70px rgba(0, 0, 0, 0.25);\n        padding: 22px;\n        position: relative;\n        display: grid;\n        gap: 16px;\n        overflow: auto;\n      }\n\n      .cardhub-manage__top {\n        display: grid;\n        grid-template-columns: 1fr auto;\n        gap: 16px;\n        align-items: start;\n      }\n\n      .cardhub-manage__media {\n        width: 220px;\n        aspect-ratio: 3 / 4;\n        height: auto;\n        border-radius: 18px;\n        background: #ead7c4;\n        display: grid;\n        place-items: center;\n        overflow: hidden;\n      }\n\n      .cardhub-manage__media img {\n        width: 100%;\n        height: 100%;\n        object-fit: cover;\n      }\n\n      .cardhub-manage__summary {\n        display: grid;\n        gap: 6px;\n      }\n\n      .cardhub-manage__overview {\n        display: grid;\n        gap: 10px;\n        margin-top: 10px;\n        grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));\n      }\n\n      .cardhub-manage__overview-card {\n        background: rgba(255, 255, 255, 0.7);\n        border: 1px solid rgba(106, 63, 42, 0.2);\n        border-radius: 14px;\n        padding: 10px 12px;\n        display: grid;\n        gap: 4px;\n      }\n\n      .cardhub-manage__overview-label {\n        font-size: 10px;\n        color: #7d5b46;\n        text-transform: uppercase;\n        letter-spacing: 1px;\n      }\n\n      .cardhub-manage__overview-value {\n        font-size: 13px;\n        font-weight: 600;\n        color: #3b2a20;\n      }\n\n      .cardhub-manage__overview-hint {\n        font-size: 11px;\n        color: #7d5b46;\n      }\n\n      .cardhub-manage__section {\n        display: grid;\n        gap: 8px;\n      }\n\n      .cardhub-manage__details {\n        display: grid;\n        gap: 12px;\n        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));\n      }\n\n      .cardhub-manage__detail {\n        background: #fffaf4;\n        border: 1px solid rgba(106, 63, 42, 0.2);\n        border-radius: 16px;\n        padding: 12px 14px;\n        display: grid;\n        gap: 6px;\n      }\n\n      .cardhub-manage__detail-label {\n        font-size: 11px;\n        color: #7d5b46;\n        text-transform: uppercase;\n        letter-spacing: 1px;\n      }\n\n      .cardhub-manage__detail-content {\n        font-size: 12px;\n        line-height: 1.5;\n        color: #3b2a20;\n        white-space: pre-wrap;\n      }\n\n      .cardhub-manage__label {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        gap: 8px;\n        font-size: 12px;\n        color: #7d5b46;\n        text-transform: uppercase;\n        letter-spacing: 1px;\n      }\n\n      .cardhub-manage__btn {\n        border: none;\n        border-radius: 12px;\n        padding: 6px 12px;\n        font-size: 12px;\n        cursor: pointer;\n        text-transform: none;\n        transition: background-color 160ms ease, transform 120ms ease, box-shadow 160ms ease;\n      }\n\n      .cardhub-manage__btn.is-primary {\n        background: #2b2018;\n        color: #fff5ea;\n      }\n\n      .cardhub-manage__btn.is-secondary {\n        background: #d9c6b6;\n        color: #3b2a20;\n      }\n\n      .cardhub-manage__jump-row {\n        display: flex;\n        flex-wrap: wrap;\n        gap: 8px;\n        align-items: center;\n      }\n\n      .cardhub-manage__btn:hover {\n        transform: translateY(-1px);\n        box-shadow: 0 6px 14px rgba(43, 32, 24, 0.15);\n      }\n\n      .cardhub-manage__btn.is-primary:hover {\n        background: #241a14;\n      }\n\n      .cardhub-manage__btn.is-secondary:hover {\n        background: #d1bca8;\n      }\n\n      .cardhub-manage__btn:active {\n        transform: translateY(0);\n      }\n\n      .cardhub-manage__content {\n        background: #fffaf4;\n        border: 1px solid rgba(106, 63, 42, 0.2);\n        border-radius: 16px;\n        padding: 12px 14px;\n        font-size: 12px;\n        line-height: 1.5;\n        color: #3b2a20;\n        white-space: pre-wrap;\n      }\n\n      .cardhub-manage__opening {\n        padding: 6px 0;\n        border-bottom: 1px dashed rgba(106, 63, 42, 0.2);\n      }\n\n      .cardhub-manage__opening:last-child {\n        border-bottom: none;\n      }\n\n      .cardhub-manage__chat {\n        display: grid;\n        gap: 10px;\n      }\n\n      .cardhub-manage__chat-row {\n        display: grid;\n        grid-template-columns: minmax(140px, 220px) 1fr;\n        gap: 12px;\n        font-size: 12px;\n        color: #3b2a20;\n        align-items: start;\n        padding: 6px 8px;\n        border-radius: 10px;\n        cursor: pointer;\n      }\n\n      .cardhub-manage__chat-row:hover {\n        background: rgba(106, 63, 42, 0.08);\n      }\n\n      .cardhub-manage__chat-main {\n        display: grid;\n        gap: 4px;\n      }\n\n      .cardhub-manage__chat-name {\n        flex: 0 0 auto;\n        font-weight: 600;\n        color: #6a3f2a;\n        word-break: break-word;\n      }\n\n      .cardhub-manage__chat-label {\n        font-size: 11px;\n        color: #9a7a63;\n        word-break: break-word;\n      }\n\n      .cardhub-manage__chat-tags {\n        display: flex;\n        flex-wrap: wrap;\n        gap: 4px;\n      }\n\n      .cardhub-manage__chat-tag {\n        padding: 2px 6px;\n        border-radius: 999px;\n        border: 1px solid rgba(106, 63, 42, 0.2);\n        background: rgba(255, 255, 255, 0.75);\n        font-size: 10px;\n        color: #6a3f2a;\n      }\n\n      .cardhub-manage__chat-text {\n        color: #3b2a20;\n        line-height: 1.5;\n        display: -webkit-box;\n        -webkit-line-clamp: 2;\n        -webkit-box-orient: vertical;\n        overflow: hidden;\n      }\n\n      .cardhub-manage__empty {\n        font-size: 12px;\n        color: #9a7a63;\n      }\n\n      .cardhub-manage__actions {\n        display: grid;\n        grid-template-columns: 1fr 1fr;\n        gap: 10px;\n      }\n\n      .cardhub-confirm {\n        position: absolute;\n        inset: 0;\n        background: rgba(24, 16, 10, 0.55);\n        backdrop-filter: blur(6px);\n        display: grid;\n        place-items: center;\n        z-index: 100002;\n      }\n\n      .cardhub-confirm__panel {\n        width: min(460px, 92vw);\n        background: #fff6ea;\n        border-radius: 22px;\n        box-shadow: 0 26px 70px rgba(0, 0, 0, 0.25);\n        padding: 18px 20px;\n        display: grid;\n        gap: 12px;\n      }\n\n      .cardhub-confirm__title {\n        font-size: 16px;\n        font-weight: 600;\n        color: #2b2018;\n      }\n\n      .cardhub-confirm__message {\n        font-size: 13px;\n        line-height: 1.5;\n        color: #4a2a1f;\n        white-space: pre-wrap;\n      }\n\n      .cardhub-confirm__actions {\n        display: flex;\n        gap: 10px;\n        justify-content: flex-end;\n        flex-wrap: wrap;\n      }\n\n      .cardhub-confirm__button {\n        border: none;\n        border-radius: 999px;\n        padding: 8px 14px;\n        font-size: 12px;\n        cursor: pointer;\n        transition: transform 120ms ease, box-shadow 160ms ease, background-color 160ms ease, border-color 160ms ease;\n      }\n\n      .cardhub-confirm__button.is-confirm {\n        background: #d46b3d;\n        color: #fff;\n      }\n\n      .cardhub-confirm__button.is-cancel {\n        background: transparent;\n        color: #6a3f2a;\n        border: 1px solid rgba(106, 63, 42, 0.4);\n      }\n\n      .cardhub-confirm__button.is-danger {\n        background: #b6452a;\n        color: #fff;\n      }\n\n      .cardhub-confirm__button:hover {\n        transform: translateY(-1px);\n        box-shadow: 0 6px 14px rgba(43, 32, 24, 0.18);\n      }\n\n      .cardhub-confirm__button:active {\n        transform: translateY(0);\n      }\n\n      .cardhub-button:focus-visible,\n      .cardhub-chip:focus-visible,\n      .cardhub-tag-filter__chip:focus-visible,\n      .cardhub-tag:focus-visible,\n      .cardhub-card__action:focus-visible,\n      .cardhub-pagination__button:focus-visible,\n      .cardhub-manage__btn:focus-visible,\n      .cardhub-close:focus-visible,\n      .cardhub-preview__close:focus-visible,\n      .cardhub-confirm__button:focus-visible {\n        outline: 2px solid rgba(212, 107, 61, 0.6);\n        outline-offset: 2px;\n      }\n      @media (max-width: 720px) {\n        .cardhub-root {\n          position: absolute !important;\n          inset: 0 !important;\n          z-index: 99999 !important;\n          display: none;\n          align-items: center !important;\n          justify-content: center !important;\n          padding: 16px !important;\n          box-sizing: border-box !important;\n          overflow-y: auto !important;\n        }\n\n        .cardhub-root.open {\n          display: flex !important;\n        }\n\n        .cardhub-backdrop {\n          position: absolute !important;\n          inset: 0 !important;\n          z-index: 99998 !important;\n          background: rgba(0, 0, 0, 0.4) !important;\n          backdrop-filter: blur(8px) !important;\n        }\n\n        .cardhub-panel {\n          position: relative !important;\n          transform: none !important;\n          width: 100% !important;\n          height: 100% !important;\n          max-height: 100% !important;\n          max-width: none !important;\n          margin: 0 !important;\n          border-radius: 20px !important;\n          box-shadow: 0 16px 64px rgba(0, 0, 0, 0.35) !important;\n          display: flex !important;\n          flex-direction: column !important;\n          z-index: 100000 !important;\n          overflow: hidden !important;\n          border: 1px solid rgba(255, 255, 255, 0.2) !important;\n        }\n\n        .cardhub-header {\n          flex-shrink: 0;\n          padding: 14px 16px;\n          border-bottom: 1px solid rgba(86, 59, 44, 0.12);\n        }\n\n        .cardhub-title__main {\n          font-size: 20px;\n        }\n\n        .cardhub-title__sub {\n          font-size: 11px;\n        }\n\n        .cardhub-close {\n          width: 28px;\n          height: 28px;\n          font-size: 16px;\n          line-height: 28px;\n        }\n\n        .cardhub-toolbar {\n          flex-shrink: 0;\n          display: flex;\n          flex-wrap: wrap;\n          gap: 8px;\n          padding: 10px 14px;\n        }\n\n        .cardhub-search {\n          width: 100%;\n          font-size: 13px;\n          padding: 8px 12px;\n        }\n\n        .cardhub-button {\n          flex: 1;\n          min-width: 0;\n          font-size: 11px;\n          padding: 6px 10px;\n        }\n\n        .cardhub-body {\n          display: flex;\n          flex-direction: column;\n          flex: 1;\n          min-height: 0;\n          overflow: auto;\n        }\n\n        .cardhub-sidebar {\n          flex-shrink: 0;\n          border-right: none;\n          border-bottom: 1px solid rgba(86, 59, 44, 0.12);\n          padding: 10px 14px;\n          max-height: none;\n          overflow: visible;\n        }\n\n        .cardhub-section-title {\n          font-size: 10px;\n          margin-bottom: 6px;\n        }\n\n        .cardhub-divider {\n          margin: 6px 0;\n        }\n\n        .cardhub-chip-row,\n        .cardhub-tag-filter {\n          display: flex;\n          flex-wrap: wrap;\n          overflow: visible;\n          gap: 6px;\n          padding-bottom: 4px;\n        }\n\n        .cardhub-chip-row::-webkit-scrollbar,\n        .cardhub-tag-filter::-webkit-scrollbar {\n          height: 4px;\n        }\n\n        .cardhub-chip-row::-webkit-scrollbar-thumb,\n        .cardhub-tag-filter::-webkit-scrollbar-thumb {\n          background: rgba(106, 63, 42, 0.15);\n          border-radius: 999px;\n        }\n\n        .cardhub-chip {\n          font-size: 11px;\n          padding: 5px 10px;\n          white-space: nowrap;\n          flex-shrink: 0;\n        }\n\n        .cardhub-tag-filter__chip {\n          font-size: 10px;\n          padding: 4px 8px;\n          white-space: nowrap;\n          flex-shrink: 0;\n        }\n\n        .cardhub-content {\n          flex: 1;\n          min-height: 0;\n          overflow: visible;\n          padding: 12px;\n        }\n\n        .cardhub-pagination {\n          align-items: flex-start;\n        }\n\n        .cardhub-pagination__actions {\n          width: 100%;\n        }\n\n        .cardhub-pagination__button {\n          flex: 1;\n          text-align: center;\n        }\n\n        .cardhub-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));\n          gap: 10px;\n          justify-content: center;\n          justify-items: center;\n        }\n\n        .cardhub-card {\n          display: flex;\n          flex-direction: row;\n          align-items: center;\n          gap: 10px;\n          padding: 10px;\n          border-radius: 14px;\n          min-width: 0;\n          width: 100%;\n          max-width: none;\n        }\n\n        .cardhub-card__avatar {\n          width: 40px;\n          height: 40px;\n          flex-shrink: 0;\n          border-radius: 10px;\n        }\n\n        .cardhub-card__info {\n          flex: 1;\n          min-width: 0;\n        }\n\n        .cardhub-card__name {\n          font-size: 13px;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n\n        .cardhub-card__meta {\n          font-size: 10px;\n          gap: 6px;\n        }\n\n        .cardhub-card__tags {\n          margin-top: 4px;\n          gap: 4px;\n        }\n\n        .cardhub-tag {\n          font-size: 9px;\n          padding: 3px 6px;\n        }\n\n        .cardhub-card__actions {\n          display: flex;\n          flex-direction: column;\n          gap: 4px;\n          flex-shrink: 0;\n        }\n\n        .cardhub-card__action {\n          padding: 5px 10px;\n          font-size: 10px;\n          border-radius: 8px;\n        }\n\n        .cardhub-preview,\n        .cardhub-manage {\n          position: absolute !important;\n          inset: 0 !important;\n          display: flex !important;\n          align-items: center !important;\n          justify-content: center !important;\n          padding: 16px !important;\n          box-sizing: border-box !important;\n          overflow-y: auto !important;\n        }\n\n        .cardhub-preview__panel,\n        .cardhub-manage__panel {\n          width: calc(100vw - 32px) !important;\n          max-width: 360px !important;\n          max-height: calc(100vh - 32px) !important;\n          max-height: calc(100dvh - 32px) !important;\n          border-radius: 18px !important;\n          padding: 16px !important;\n          overflow: auto !important;\n        }\n\n        .cardhub-preview__avatar {\n          height: 180px;\n          border-radius: 14px;\n        }\n\n        .cardhub-preview__name {\n          font-size: 16px;\n        }\n\n        .cardhub-preview__meta {\n          font-size: 11px;\n        }\n\n        .cardhub-preview__tag {\n          font-size: 10px;\n          padding: 4px 8px;\n        }\n\n        .cardhub-preview__actions {\n          gap: 8px;\n        }\n\n        .cardhub-manage__top {\n          grid-template-columns: 1fr;\n          gap: 12px;\n        }\n\n        .cardhub-manage__media {\n          width: 120px;\n          margin: 0 auto;\n        }\n\n        .cardhub-manage__overview {\n          grid-template-columns: 1fr;\n        }\n\n        .cardhub-manage__overview-value {\n          font-size: 12px;\n        }\n\n        .cardhub-manage__overview-hint {\n          font-size: 10px;\n        }\n\n        .cardhub-manage__label {\n          flex-direction: column;\n          align-items: flex-start;\n          gap: 6px;\n          font-size: 10px;\n        }\n\n        .cardhub-manage__details {\n          grid-template-columns: 1fr;\n        }\n\n        .cardhub-manage__detail-label {\n          font-size: 10px;\n        }\n\n        .cardhub-manage__detail-content {\n          font-size: 11px;\n        }\n\n        .cardhub-manage__btn {\n          width: 100%;\n          text-align: center;\n          font-size: 10px;\n        }\n\n        .cardhub-manage__jump-row {\n          width: 100%;\n        }\n\n        .cardhub-manage__content {\n          font-size: 11px;\n          padding: 10px;\n        }\n\n        .cardhub-manage__chat-row {\n          grid-template-columns: 1fr;\n          gap: 3px;\n          font-size: 11px;\n        }\n\n        .cardhub-manage__chat-label {\n          font-size: 10px;\n        }\n\n        .cardhub-manage__chat-tag {\n          font-size: 9px;\n        }\n\n        .cardhub-manage__chat-text {\n          -webkit-line-clamp: 2;\n        }\n\n        .cardhub-manage__actions {\n          grid-template-columns: 1fr 1fr;\n          gap: 8px;\n        }\n      }\n    ').appendTo('head'),Fn=$('<div>').attr('script_id',getScriptId()).addClass('cardhub-mount').appendTo('body'),Rn=(0,r.createApp)(Pn),Rn.mount(Fn[0]),(0,r.watch)(()=>v.open,()=>{},{immediate:!0}))}function Kn(){return{open:(n='manual')=>{Yn(),x(!0,n)},close:()=>{x(!1)},toggle:(n='manual')=>{Yn(),x(!v.open,n)},refresh:async()=>{Yn(),await async function(){y(!0);try{w(await o()),k(h())}finally{y(!1)}}()},destroy:()=>{Rn&&Rn.unmount(),Fn&&Fn.remove(),Un&&Un.remove(),Rn=null,Fn=null,Un=null}}}function Jn(){const e=Kn(),a=n(e);e.refresh(),$(window).on('pagehide',()=>{a(),e.destroy()})}$(()=>{errorCatched(Jn)()})})();
//# sourceMappingURL=index.js.map</script><style>.scene[data-v-65093584]{--ink:#0f1115;--paper:#f6f0e6;--accent:#d86b3b;--accent-strong:#b64523;--deep:#1b212a;--soft:#f3dcc4;--glow:rgba(216,107,59,0.35);--teal:#2e6f6d;--mist:rgba(255,255,255,0.6);font-family:"PingFang SC","Songti SC","STSong","SimSun",serif;color:var(--ink);display:flex;justify-content:center;padding:32px 16px 40px;position:relative;background:linear-gradient(150deg,#fef8f2 0%,#f5e7d8 45%,#e8d2c0 100%);border-radius:24px;overflow:hidden}.ambient-layer[data-v-65093584]{position:absolute;inset:0;background:radial-gradient(circle at 10% 20%,rgba(216,107,59,0.2),transparent 45%),radial-gradient(circle at 90% 10%,rgba(46,111,109,0.18),transparent 40%),radial-gradient(circle at 80% 80%,rgba(15,17,21,0.08),transparent 45%);pointer-events:none}.phone[data-v-65093584]{width:min(380px,100%);position:relative;z-index:1}.phone-shell[data-v-65093584]{background:linear-gradient(160deg,#161a22,#0c0f14);padding:14px;border-radius:38px;box-shadow:0 25px 60px rgba(15,17,21,.4);position:relative}.phone-bezel[data-v-65093584]{background:#0b0f14;border-radius:30px;padding:10px;position:relative}.screen[data-v-65093584]{background:linear-gradient(180deg,#fef9f4 0%,#f6ede3 100%);border-radius:24px;padding:18px 16px 20px;display:flex;flex-direction:column;gap:16px;aspect-ratio:9/19.5;box-shadow:inset 0 0 0 1px rgba(0,0,0,.08)}.notch[data-v-65093584]{position:absolute;top:6px;left:50%;transform:translateX(-50%);width:130px;height:26px;background:#0b0f14;border-radius:0 0 16px 16px;display:flex;align-items:center;justify-content:center;gap:10px;z-index:3}.notch .camera[data-v-65093584]{width:8px;height:8px;border-radius:50%;background:#1b212a;box-shadow:0 0 6px rgba(95,168,255,.6)}.notch .speaker[data-v-65093584]{width:40px;height:4px;border-radius:4px;background:#1c222c}.topbar[data-v-65093584]{display:flex;justify-content:space-between;font-size:12px;color:#5b4a3a;margin-top:18px}.status-icons[data-v-65093584]{display:flex;align-items:center;gap:8px}.signal[data-v-65093584],.wifi[data-v-65093584]{width:18px;height:10px;background:linear-gradient(90deg,#2e6f6d,#7ab7b0);border-radius:4px;-webkit-mask:linear-gradient(90deg,transparent 0 20%,#000 20% 40%,transparent 40% 60%,#000 60% 80%,transparent 80%);mask:linear-gradient(90deg,transparent 0 20%,#000 20% 40%,transparent 40% 60%,#000 60% 80%,transparent 80%)}.battery[data-v-65093584]{font-weight:600}.hero[data-v-65093584]{display:grid;grid-template-columns:70px 1fr auto;gap:12px;align-items:center;position:relative}.avatar-ring[data-v-65093584]{position:relative;width:68px;height:68px}.avatar[data-v-65093584]{width:100%;height:100%;border-radius:20px;background:linear-gradient(135deg,#2e6f6d,#d86b3b);box-shadow:0 0 0 3px #f5e4d2,0 10px 18px rgba(0,0,0,.2)}.pulse[data-v-65093584]{position:absolute;inset:-6px;border-radius:24px;border:1px solid rgba(216,107,59,.4);animation:pulse-65093584 2.5s ease-in-out infinite}.role-meta h1[data-v-65093584]{font-family:"ZCOOL XiaoWei",serif;font-size:26px;letter-spacing:2px;margin:0}.role-title[data-v-65093584]{font-size:11px;text-transform:uppercase;letter-spacing:3px;color:#9b6e55;margin:0 0 4px}.role-subtitle[data-v-65093584]{font-size:11px;color:#6f5d4d;margin:4px 0 0}.status-pill[data-v-65093584]{background:var(--deep);color:#fef9f4;padding:6px 12px;border-radius:999px;font-size:11px;box-shadow:0 6px 10px rgba(15,17,21,.2)}.status-panel[data-v-65093584],.chat-panel[data-v-65093584]{background:#fff;border-radius:20px;padding:14px;box-shadow:0 10px 24px rgba(15,17,21,.1);border:1px solid rgba(216,107,59,.15)}.panel-header[data-v-65093584]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.panel-header h2[data-v-65093584]{font-size:14px;margin:0}.chip[data-v-65093584]{background:var(--soft);color:#7a3c2a;font-size:10px;padding:4px 8px;border-radius:10px;text-transform:uppercase;letter-spacing:1px}.stats-grid[data-v-65093584]{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin-bottom:12px}.stat-card[data-v-65093584]{background:var(--paper);border-radius:12px;padding:8px;display:grid;gap:4px;border:1px solid rgba(0,0,0,.05)}.stat-card .label[data-v-65093584]{font-size:10px;color:#815f4a}.stat-card .value[data-v-65093584]{font-size:13px;font-weight:700;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.stat-card .note[data-v-65093584]{font-size:10px;color:#a0674c}.bars[data-v-65093584]{display:grid;gap:8px}.bar-row[data-v-65093584]{display:grid;grid-template-columns:48px 1fr 36px;align-items:center;gap:8px;font-size:11px;color:#5d4a3b}.bar[data-v-65093584]{height:8px;background:#f1e4d6;border-radius:999px;position:relative;overflow:hidden}.bar i[data-v-65093584]{display:block;height:100%;border-radius:999px;background:linear-gradient(90deg,var(--accent),var(--accent-strong))}.chat[data-v-65093584]{display:grid;gap:8px}.bubble[data-v-65093584]{padding:8px 10px;border-radius:14px;font-size:12px;line-height:1.4;position:relative}.bubble.incoming[data-v-65093584]{background:#f1e4d6;color:#3a2a20;align-self:flex-start}.bubble.outgoing[data-v-65093584]{background:#1b212a;color:#f8f4ef;align-self:flex-end}.stamp[data-v-65093584]{font-size:9px;color:rgba(0,0,0,.4);display:block;margin-top:4px}.bubble.outgoing .stamp[data-v-65093584]{color:hsla(0,0%,100%,.5)}.input-bar[data-v-65093584]{margin-top:10px;background:#f6ede3;border-radius:12px;padding:8px;display:flex;justify-content:space-between;align-items:center;font-size:11px;color:#8d6c56}.send-btn[data-v-65093584]{border:none;background:var(--accent);color:#fff;padding:6px 12px;border-radius:10px;font-size:11px;letter-spacing:1px}.side-buttons[data-v-65093584]{position:absolute;right:-6px;top:80px;display:grid;gap:8px}.side-buttons span[data-v-65093584]{width:4px;height:30px;background:#1b212a;border-radius:8px}.side-buttons .long[data-v-65093584]{height:50px}.device-label[data-v-65093584]{text-align:center;color:#5d4a3b;font-size:12px;letter-spacing:4px;margin-top:16px}.stagger[data-v-65093584]{animation:rise-65093584 .8s ease both;animation-delay:calc(var(--delay,1)*.1s)}@keyframes rise-65093584{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}@keyframes pulse-65093584{0%,100%{opacity:.4;transform:scale(1)}50%{opacity:.8;transform:scale(1.05)}}@media (max-width:520px){.screen[data-v-65093584]{padding:16px 14px 18px}.hero[data-v-65093584]{grid-template-columns:60px 1fr;grid-template-rows:auto auto}.status-pill[data-v-65093584]{grid-column:2/3;justify-self:start}.stats-grid[data-v-65093584]{grid-template-columns:1fr}}
.cardhub-root[data-v-fe13b558]{position:fixed;inset:0;z-index:9999;font-family:"ZCOOL XiaoWei","STSong","Songti SC","SimSun",serif;color:#1b1b1b;display:none;align-items:center;justify-content:center}.cardhub-root.open[data-v-fe13b558]{display:flex;align-items:center;justify-content:center}.cardhub-backdrop[data-v-fe13b558]{position:absolute;inset:0;background:rgba(0,0,0,0.4);backdrop-filter:blur(6px);opacity:0;transition:opacity 180ms ease}.cardhub-root.open .cardhub-backdrop[data-v-fe13b558]{opacity:1}.cardhub-panel[data-v-fe13b558]{position:relative;width:min(980px,94%);max-height:92%;background:linear-gradient(160deg,#fff9f0,#f3e4d4);border-radius:28px;box-shadow:0 30px 90px rgba(0,0,0,0.28);display:flex;flex-direction:column;overflow:hidden;z-index:1;opacity:0;transform:translateY(8px) scale(0.985);transition:opacity 180ms ease,transform 180ms ease}.cardhub-root.open .cardhub-panel[data-v-fe13b558]{opacity:1;transform:translateY(0) scale(1)}.cardhub-header[data-v-fe13b558]{display:flex;align-items:center;justify-content:space-between;padding:20px 24px;border-bottom:1px solid rgba(86,59,44,0.15)}.cardhub-title__main[data-v-fe13b558]{font-size:26px;letter-spacing:2px}.cardhub-title__sub[data-v-fe13b558]{font-size:12px;color:#7d5b46;margin-left:10px}.cardhub-actions[data-v-fe13b558]{display:flex;gap:10px}.cardhub-close[data-v-fe13b558]{border:none;background:rgba(43,32,24,0.12);color:#3b2a20;width:34px;height:34px;border-radius:999px;font-size:20px;line-height:34px;text-align:center;cursor:pointer;transition:background-color 160ms ease,transform 120ms ease}.cardhub-close[data-v-fe13b558]:hover{background:rgba(43,32,24,0.2)}.cardhub-close[data-v-fe13b558]:active{transform:scale(0.96)}.cardhub-toolbar[data-v-fe13b558]{display:flex;gap:8px;padding:12px 20px;flex-wrap:wrap}.cardhub-search[data-v-fe13b558]{flex:1;min-width:180px;border-radius:999px;border:1px solid rgba(86,59,44,0.2);padding:6px 12px;background:#fffaf4}.cardhub-button[data-v-fe13b558]{border:none;padding:6px 14px;border-radius:999px;background:#d46b3d;color:#fff;cursor:pointer;font-size:12px;transition:background-color 160ms ease,transform 120ms ease,box-shadow 160ms ease}.cardhub-button[data-v-fe13b558]:hover{background:#c55f36;box-shadow:0 6px 14px rgba(43,32,24,0.18)}.cardhub-button[data-v-fe13b558]:active{transform:translateY(1px)}.cardhub-button.is-ghost[data-v-fe13b558]{background:transparent;color:#6a3f2a;border:1px solid rgba(106,63,42,0.4)}.cardhub-button.is-ghost[data-v-fe13b558]:hover{background:rgba(106,63,42,0.08);border-color:rgba(106,63,42,0.6);box-shadow:none}.cardhub-import-input[data-v-fe13b558]{display:none}.cardhub-body[data-v-fe13b558]{display:grid;grid-template-columns:minmax(160px,220px) 1fr;gap:0;flex:1;min-height:0}.cardhub-sidebar[data-v-fe13b558]{padding:20px;border-right:1px solid rgba(86,59,44,0.15);display:flex;flex-direction:column;gap:12px}.cardhub-chip-row[data-v-fe13b558]{display:flex;flex-wrap:wrap;gap:8px}.cardhub-divider[data-v-fe13b558]{height:1px;width:100%;background:rgba(86,59,44,0.15);margin:8px 0}.cardhub-section-title[data-v-fe13b558]{font-size:12px;color:#7d5b46;text-transform:uppercase;letter-spacing:1px}.cardhub-chip[data-v-fe13b558]{text-align:left;border:none;background:rgba(255,255,255,0.6);border-radius:12px;padding:8px 10px;cursor:pointer;font-size:12px;transition:background-color 160ms ease,color 160ms ease,transform 120ms ease}.cardhub-chip.is-active[data-v-fe13b558]{background:#2b2018;color:#fff5ea}.cardhub-chip[data-v-fe13b558]:not(.is-active):hover{background:rgba(255,255,255,0.9);transform:translateY(-1px)}.cardhub-placeholder[data-v-fe13b558]{font-size:12px;color:#9a7a63}.cardhub-tag-filter[data-v-fe13b558]{display:flex;flex-wrap:wrap;gap:8px}.cardhub-tag-filter__chip[data-v-fe13b558]{border:1px solid rgba(106,63,42,0.25);background:rgba(255,255,255,0.7);border-radius:999px;padding:6px 10px;font-size:12px;color:#6a3f2a;cursor:pointer;transition:background-color 160ms ease,color 160ms ease,border-color 160ms ease,transform 120ms ease}.cardhub-tag-filter__chip.is-active[data-v-fe13b558]{background:#2b2018;color:#fff5ea;border-color:transparent}.cardhub-tag-filter__chip[data-v-fe13b558]:not(.is-active):hover{border-color:rgba(106,63,42,0.45);background:rgba(255,255,255,0.9);transform:translateY(-1px)}.cardhub-chip--clear[data-v-fe13b558]{margin-top:8px}.cardhub-content[data-v-fe13b558]{padding:20px;overflow:auto;flex:1;min-height:0}.cardhub-grid-wrap[data-v-fe13b558]{display:grid;gap:12px}.cardhub-pagination[data-v-fe13b558]{display:flex;align-items:center;justify-content:flex-end;gap:10px;flex-wrap:wrap}.cardhub-pagination__status[data-v-fe13b558]{font-size:12px;color:#7d5b46}.cardhub-pagination__actions[data-v-fe13b558]{display:flex;gap:8px;align-items:center;margin-right:auto}.cardhub-pagination__button[data-v-fe13b558]{border:1px solid rgba(106,63,42,0.35);background:rgba(255,255,255,0.85);color:#6a3f2a;border-radius:999px;padding:4px 10px;font-size:11px;cursor:pointer;transition:background-color 160ms ease,border-color 160ms ease,transform 120ms ease}.cardhub-pagination__button[data-v-fe13b558]:disabled{opacity:0.4;cursor:default}.cardhub-pagination__button[data-v-fe13b558]:not(:disabled):hover{background:rgba(255,255,255,1);border-color:rgba(106,63,42,0.6);transform:translateY(-1px)}.cardhub-pagination__button[data-v-fe13b558]:not(:disabled):active{transform:translateY(0)}.cardhub-loading[data-v-fe13b558],.cardhub-empty[data-v-fe13b558]{padding:40px 0;text-align:center;color:#7d5b46}.cardhub-grid[data-v-fe13b558]{display:grid;gap:14px;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));justify-items:center}.cardhub-card[data-v-fe13b558]{background:rgba(255,255,255,0.78);border-radius:18px;padding:14px;display:grid;grid-template-columns:auto 1fr;gap:12px;align-items:center;border:1px solid rgba(86,59,44,0.15);cursor:pointer;transition:transform 140ms ease,box-shadow 180ms ease,border-color 180ms ease;width:100%;max-width:260px}.cardhub-card[data-v-fe13b558]:hover{transform:translateY(-2px);border-color:rgba(86,59,44,0.25);box-shadow:0 12px 26px rgba(43,32,24,0.16)}.cardhub-card[data-v-fe13b558]:active{transform:translateY(0)}.cardhub-card__avatar[data-v-fe13b558]{width:42px;height:42px;border-radius:12px;background:linear-gradient(135deg,#f4d7c4,#d36a3b);background-size:cover;background-position:center;color:#4a2a1f;display:grid;place-items:center;font-weight:700}.cardhub-card__avatar.has-avatar span[data-v-fe13b558]{display:none}.cardhub-card__name[data-v-fe13b558]{font-size:14px;font-weight:600}.cardhub-card__meta[data-v-fe13b558]{display:flex;gap:8px;font-size:11px;color:#7d5b46}.cardhub-card__tags[data-v-fe13b558]{display:flex;flex-wrap:wrap;gap:6px;margin-top:8px;align-items:center}.cardhub-tag[data-v-fe13b558]{border:1px solid rgba(106,63,42,0.3);background:#fff6ea;border-radius:999px;padding:4px 8px;font-size:11px;color:#6a3f2a;cursor:pointer;transition:background-color 160ms ease,border-color 160ms ease,transform 120ms ease}.cardhub-tag[data-v-fe13b558]:hover{background:#fffaf4;border-color:rgba(106,63,42,0.5);transform:translateY(-1px)}.cardhub-tag__remove[data-v-fe13b558]{margin-left:4px;font-weight:700}.cardhub-tag.is-add[data-v-fe13b558]{background:transparent;border-style:dashed}.cardhub-tag-input[data-v-fe13b558]{border:1px dashed rgba(106,63,42,0.5);background:#fffaf4;border-radius:999px;padding:4px 10px;font-size:11px;min-width:80px;color:#6a3f2a;outline:none;height:24px;line-height:16px}.cardhub-tag-input[data-v-fe13b558]:focus{border-color:rgba(106,63,42,0.85)}.cardhub-card__action[data-v-fe13b558]{grid-column:span 2;margin-top:10px;border:none;background:#2b2018;color:#fff5ea;padding:6px 12px;border-radius:12px;font-size:12px;cursor:pointer;transition:transform 120ms ease,box-shadow 160ms ease,background-color 160ms ease}.cardhub-card__actions[data-v-fe13b558]{grid-column:span 2;display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-top:10px}.cardhub-card__action.is-secondary[data-v-fe13b558]{background:#d9c6b6;color:#3b2a20}.cardhub-card__action[data-v-fe13b558]:hover{transform:translateY(-1px);box-shadow:0 6px 14px rgba(43,32,24,0.15)}.cardhub-card__action[data-v-fe13b558]:active{transform:translateY(0)}.cardhub-preview[data-v-fe13b558]{position:fixed;inset:0;background:rgba(24,16,10,0.45);backdrop-filter:blur(6px);display:grid;place-items:center;z-index:100000}.cardhub-preview__panel[data-v-fe13b558]{width:min(520px,92vw);background:#fff6ea;border-radius:26px;box-shadow:0 26px 70px rgba(0,0,0,0.25);padding:20px;position:relative;display:grid;gap:14px}.cardhub-preview__close[data-v-fe13b558]{position:absolute;top:14px;right:14px;border:none;width:30px;height:30px;border-radius:999px;background:rgba(43,32,24,0.15);color:#3b2a20;font-size:18px;cursor:pointer;transition:background-color 160ms ease,transform 120ms ease}.cardhub-preview__close[data-v-fe13b558]:hover{background:rgba(43,32,24,0.25)}.cardhub-preview__close[data-v-fe13b558]:active{transform:scale(0.96)}.cardhub-preview__avatar[data-v-fe13b558]{width:100%;height:260px;border-radius:18px;background:#ead7c4;display:grid;place-items:center;overflow:hidden}.cardhub-preview__avatar img[data-v-fe13b558]{width:100%;height:100%;object-fit:contain}.cardhub-preview__info[data-v-fe13b558]{display:grid;gap:6px}.cardhub-preview__name[data-v-fe13b558]{font-size:20px;font-weight:700}.cardhub-preview__meta[data-v-fe13b558]{display:flex;gap:10px;font-size:12px;color:#7d5b46}.cardhub-preview__tags[data-v-fe13b558]{display:flex;flex-wrap:wrap;gap:8px}.cardhub-preview__tag[data-v-fe13b558]{padding:6px 10px;border-radius:999px;border:1px solid rgba(106,63,42,0.3);background:#fffaf4;font-size:12px;color:#6a3f2a}.cardhub-preview__actions[data-v-fe13b558]{display:grid;grid-template-columns:1fr 1fr;gap:10px}.cardhub-manage[data-v-fe13b558]{position:fixed;inset:0;background:rgba(24,16,10,0.45);backdrop-filter:blur(6px);display:grid;place-items:center;z-index:100001}.cardhub-manage__panel[data-v-fe13b558]{width:min(760px,94vw);max-height:88vh;background:#fff6ea;border-radius:26px;box-shadow:0 26px 70px rgba(0,0,0,0.25);padding:22px;position:relative;display:grid;gap:16px;overflow:auto}.cardhub-manage__top[data-v-fe13b558]{display:grid;grid-template-columns:1fr auto;gap:16px;align-items:start}.cardhub-manage__media[data-v-fe13b558]{width:220px;aspect-ratio:3/4;height:auto;border-radius:18px;background:#ead7c4;display:grid;place-items:center;overflow:hidden}.cardhub-manage__media img[data-v-fe13b558]{width:100%;height:100%;object-fit:cover}.cardhub-manage__summary[data-v-fe13b558]{display:grid;gap:6px}.cardhub-manage__overview[data-v-fe13b558]{display:grid;gap:10px;margin-top:10px;grid-template-columns:repeat(auto-fit,minmax(160px,1fr))}.cardhub-manage__overview-card[data-v-fe13b558]{background:rgba(255,255,255,0.7);border:1px solid rgba(106,63,42,0.2);border-radius:14px;padding:10px 12px;display:grid;gap:4px}.cardhub-manage__overview-label[data-v-fe13b558]{font-size:10px;color:#7d5b46;text-transform:uppercase;letter-spacing:1px}.cardhub-manage__overview-value[data-v-fe13b558]{font-size:13px;font-weight:600;color:#3b2a20}.cardhub-manage__overview-hint[data-v-fe13b558]{font-size:11px;color:#7d5b46}.cardhub-manage__section[data-v-fe13b558]{display:grid;gap:8px}.cardhub-manage__details[data-v-fe13b558]{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}.cardhub-manage__detail[data-v-fe13b558]{background:#fffaf4;border:1px solid rgba(106,63,42,0.2);border-radius:16px;padding:12px 14px;display:grid;gap:6px}.cardhub-manage__detail-label[data-v-fe13b558]{font-size:11px;color:#7d5b46;text-transform:uppercase;letter-spacing:1px}.cardhub-manage__detail-content[data-v-fe13b558]{font-size:12px;line-height:1.5;color:#3b2a20;white-space:pre-wrap}.cardhub-manage__label[data-v-fe13b558]{display:flex;align-items:center;justify-content:space-between;gap:8px;font-size:12px;color:#7d5b46;text-transform:uppercase;letter-spacing:1px}.cardhub-manage__btn[data-v-fe13b558]{border:none;border-radius:12px;padding:6px 12px;font-size:12px;cursor:pointer;text-transform:none;transition:background-color 160ms ease,transform 120ms ease,box-shadow 160ms ease}.cardhub-manage__btn.is-primary[data-v-fe13b558]{background:#2b2018;color:#fff5ea}.cardhub-manage__btn.is-secondary[data-v-fe13b558]{background:#d9c6b6;color:#3b2a20}.cardhub-manage__jump-row[data-v-fe13b558]{display:flex;flex-wrap:wrap;gap:8px;align-items:center}.cardhub-manage__btn[data-v-fe13b558]:hover{transform:translateY(-1px);box-shadow:0 6px 14px rgba(43,32,24,0.15)}.cardhub-manage__btn.is-primary[data-v-fe13b558]:hover{background:#241a14}.cardhub-manage__btn.is-secondary[data-v-fe13b558]:hover{background:#d1bca8}.cardhub-manage__btn[data-v-fe13b558]:active{transform:translateY(0)}.cardhub-manage__content[data-v-fe13b558]{background:#fffaf4;border:1px solid rgba(106,63,42,0.2);border-radius:16px;padding:12px 14px;font-size:12px;line-height:1.5;color:#3b2a20;white-space:pre-wrap}.cardhub-manage__opening[data-v-fe13b558]{padding:6px 0;border-bottom:1px dashed rgba(106,63,42,0.2)}.cardhub-manage__opening[data-v-fe13b558]:last-child{border-bottom:none}.cardhub-manage__chat[data-v-fe13b558]{display:grid;gap:10px}.cardhub-manage__chat-row[data-v-fe13b558]{display:grid;grid-template-columns:minmax(140px,220px) 1fr;gap:12px;font-size:12px;color:#3b2a20;align-items:start;padding:6px 8px;border-radius:10px;cursor:pointer}.cardhub-manage__chat-row[data-v-fe13b558]:hover{background:rgba(106,63,42,0.08)}.cardhub-manage__chat-main[data-v-fe13b558]{display:grid;gap:4px}.cardhub-manage__chat-name[data-v-fe13b558]{flex:0 0 auto;font-weight:600;color:#6a3f2a;word-break:break-word}.cardhub-manage__chat-label[data-v-fe13b558]{font-size:11px;color:#9a7a63;word-break:break-word}.cardhub-manage__chat-tags[data-v-fe13b558]{display:flex;flex-wrap:wrap;gap:4px}.cardhub-manage__chat-tag[data-v-fe13b558]{padding:2px 6px;border-radius:999px;border:1px solid rgba(106,63,42,0.2);background:rgba(255,255,255,0.75);font-size:10px;color:#6a3f2a}.cardhub-manage__chat-text[data-v-fe13b558]{color:#3b2a20;line-height:1.5;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.cardhub-manage__empty[data-v-fe13b558]{font-size:12px;color:#9a7a63}.cardhub-manage__actions[data-v-fe13b558]{display:grid;grid-template-columns:1fr 1fr;gap:10px}.cardhub-confirm[data-v-fe13b558]{position:absolute;inset:0;background:rgba(24,16,10,0.55);backdrop-filter:blur(6px);display:grid;place-items:center;z-index:100002}.cardhub-confirm__panel[data-v-fe13b558]{width:min(460px,92vw);background:#fff6ea;border-radius:22px;box-shadow:0 26px 70px rgba(0,0,0,0.25);padding:18px 20px;display:grid;gap:12px}.cardhub-confirm__title[data-v-fe13b558]{font-size:16px;font-weight:600;color:#2b2018}.cardhub-confirm__message[data-v-fe13b558]{font-size:13px;line-height:1.5;color:#4a2a1f;white-space:pre-wrap}.cardhub-confirm__actions[data-v-fe13b558]{display:flex;gap:10px;justify-content:flex-end;flex-wrap:wrap}.cardhub-confirm__button[data-v-fe13b558]{border:none;border-radius:999px;padding:8px 14px;font-size:12px;cursor:pointer;transition:transform 120ms ease,box-shadow 160ms ease,background-color 160ms ease,border-color 160ms ease}.cardhub-confirm__button.is-confirm[data-v-fe13b558]{background:#d46b3d;color:#fff}.cardhub-confirm__button.is-cancel[data-v-fe13b558]{background:transparent;color:#6a3f2a;border:1px solid rgba(106,63,42,0.4)}.cardhub-confirm__button.is-danger[data-v-fe13b558]{background:#b6452a;color:#fff}.cardhub-confirm__button[data-v-fe13b558]:hover{transform:translateY(-1px);box-shadow:0 6px 14px rgba(43,32,24,0.18)}.cardhub-confirm__button[data-v-fe13b558]:active{transform:translateY(0)}.cardhub-button[data-v-fe13b558]:focus-visible,.cardhub-chip[data-v-fe13b558]:focus-visible,.cardhub-tag-filter__chip[data-v-fe13b558]:focus-visible,.cardhub-tag[data-v-fe13b558]:focus-visible,.cardhub-card__action[data-v-fe13b558]:focus-visible,.cardhub-pagination__button[data-v-fe13b558]:focus-visible,.cardhub-manage__btn[data-v-fe13b558]:focus-visible,.cardhub-close[data-v-fe13b558]:focus-visible,.cardhub-preview__close[data-v-fe13b558]:focus-visible,.cardhub-confirm__button[data-v-fe13b558]:focus-visible{outline:2px solid rgba(212,107,61,0.6);outline-offset:2px}@media (max-width:720px){.cardhub-root[data-v-fe13b558]{position:absolute !important;inset:0 !important;z-index:99999 !important;display:none;align-items:center !important;justify-content:center !important;padding:16px !important;box-sizing:border-box !important;overflow-y:auto !important}.cardhub-root.open[data-v-fe13b558]{display:flex !important}.cardhub-backdrop[data-v-fe13b558]{position:absolute !important;inset:0 !important;z-index:99998 !important;background:rgba(0,0,0,0.4) !important;backdrop-filter:blur(8px) !important}.cardhub-panel[data-v-fe13b558]{position:relative !important;width:100% !important;height:100% !important;max-height:100% !important;max-width:none !important;margin:0 !important;border-radius:24px !important;box-shadow:0 12px 48px rgba(0,0,0,0.3),0 2px 8px rgba(0,0,0,0.1) !important;display:flex !important;flex-direction:column !important;z-index:99999 !important;overflow:hidden !important;border:1px solid rgba(255,255,255,0.15) !important}.cardhub-header[data-v-fe13b558]{flex-shrink:0;padding:14px 16px;border-bottom:1px solid rgba(86,59,44,0.12)}.cardhub-title__main[data-v-fe13b558]{font-size:20px}.cardhub-title__sub[data-v-fe13b558]{font-size:11px}.cardhub-close[data-v-fe13b558]{width:28px;height:28px;font-size:16px;line-height:28px}.cardhub-toolbar[data-v-fe13b558]{flex-shrink:0;display:flex;flex-wrap:wrap;gap:8px;padding:10px 14px}.cardhub-search[data-v-fe13b558]{width:100%;font-size:13px;padding:8px 12px}.cardhub-button[data-v-fe13b558]{flex:1;min-width:0;font-size:11px;padding:6px 10px}.cardhub-body[data-v-fe13b558]{display:flex;flex-direction:column;flex:1;min-height:0;overflow:auto}.cardhub-sidebar[data-v-fe13b558]{flex-shrink:0;border-right:none;border-bottom:1px solid rgba(86,59,44,0.12);padding:10px 14px;max-height:none;overflow:visible}.cardhub-section-title[data-v-fe13b558]{font-size:10px;margin-bottom:6px}.cardhub-divider[data-v-fe13b558]{margin:6px 0}.cardhub-chip-row[data-v-fe13b558],.cardhub-tag-filter[data-v-fe13b558]{display:flex;flex-wrap:wrap;overflow:visible;gap:6px;padding-bottom:4px}.cardhub-chip-row[data-v-fe13b558]::-webkit-scrollbar,.cardhub-tag-filter[data-v-fe13b558]::-webkit-scrollbar{height:4px}.cardhub-chip-row[data-v-fe13b558]::-webkit-scrollbar-thumb,.cardhub-tag-filter[data-v-fe13b558]::-webkit-scrollbar-thumb{background:rgba(106,63,42,0.15);border-radius:999px}.cardhub-chip[data-v-fe13b558]{font-size:11px;padding:5px 10px;white-space:nowrap;flex-shrink:0}.cardhub-tag-filter__chip[data-v-fe13b558]{font-size:10px;padding:4px 8px;white-space:nowrap;flex-shrink:0}.cardhub-content[data-v-fe13b558]{flex:1;min-height:0;overflow:visible;padding:12px}.cardhub-pagination[data-v-fe13b558]{align-items:flex-start}.cardhub-pagination__actions[data-v-fe13b558]{width:100%}.cardhub-pagination__button[data-v-fe13b558]{flex:1;text-align:center}.cardhub-grid[data-v-fe13b558]{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:10px;justify-content:center;justify-items:center}.cardhub-card[data-v-fe13b558]{display:flex;flex-direction:row;align-items:center;gap:10px;padding:10px;border-radius:14px;min-width:0;width:100%;max-width:none}.cardhub-card__avatar[data-v-fe13b558]{width:40px;height:40px;flex-shrink:0;border-radius:10px}.cardhub-card__info[data-v-fe13b558]{flex:1;min-width:0}.cardhub-card__name[data-v-fe13b558]{font-size:13px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.cardhub-card__meta[data-v-fe13b558]{font-size:10px;gap:6px}.cardhub-card__tags[data-v-fe13b558]{margin-top:4px;gap:4px}.cardhub-tag[data-v-fe13b558]{font-size:9px;padding:3px 6px}.cardhub-card__actions[data-v-fe13b558]{display:flex;flex-direction:column;gap:4px;flex-shrink:0}.cardhub-card__action[data-v-fe13b558]{padding:5px 10px;font-size:10px;border-radius:8px}.cardhub-preview[data-v-fe13b558],.cardhub-manage[data-v-fe13b558]{position:absolute !important;inset:0 !important;display:flex !important;align-items:center !important;justify-content:center !important;padding:16px !important;box-sizing:border-box !important;overflow-y:auto !important}.cardhub-preview__panel[data-v-fe13b558],.cardhub-manage__panel[data-v-fe13b558]{width:calc(100vw - 32px) !important;max-width:360px !important;max-height:calc(100vh - 32px) !important;max-height:calc(100dvh - 32px) !important;border-radius:18px !important;padding:16px !important;overflow:auto !important}.cardhub-preview__avatar[data-v-fe13b558]{height:180px;border-radius:14px}.cardhub-preview__name[data-v-fe13b558]{font-size:16px}.cardhub-preview__meta[data-v-fe13b558]{font-size:11px}.cardhub-preview__tag[data-v-fe13b558]{font-size:10px;padding:4px 8px}.cardhub-preview__actions[data-v-fe13b558]{gap:8px}.cardhub-manage__top[data-v-fe13b558]{grid-template-columns:1fr;gap:12px}.cardhub-manage__media[data-v-fe13b558]{width:120px;margin:0 auto}.cardhub-manage__overview[data-v-fe13b558]{grid-template-columns:1fr}.cardhub-manage__overview-value[data-v-fe13b558]{font-size:12px}.cardhub-manage__overview-hint[data-v-fe13b558]{font-size:10px}.cardhub-manage__label[data-v-fe13b558]{flex-direction:column;align-items:flex-start;gap:6px;font-size:10px}.cardhub-manage__details[data-v-fe13b558]{grid-template-columns:1fr}.cardhub-manage__detail-label[data-v-fe13b558]{font-size:10px}.cardhub-manage__detail-content[data-v-fe13b558]{font-size:11px}.cardhub-manage__btn[data-v-fe13b558]{width:100%;text-align:center;font-size:10px}.cardhub-manage__jump-row[data-v-fe13b558]{width:100%}.cardhub-manage__content[data-v-fe13b558]{font-size:11px;padding:10px}.cardhub-manage__chat-row[data-v-fe13b558]{grid-template-columns:1fr;gap:3px;font-size:11px}.cardhub-manage__chat-label[data-v-fe13b558]{font-size:10px}.cardhub-manage__chat-tag[data-v-fe13b558]{font-size:9px}.cardhub-manage__chat-text[data-v-fe13b558]{-webkit-line-clamp:2}.cardhub-manage__actions[data-v-fe13b558]{grid-template-columns:1fr 1fr;gap:8px}}


/*# sourceMappingURL=main.css.map*/</style></head><body><div id="app"></div></body>