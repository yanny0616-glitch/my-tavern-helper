{"version":3,"file":"main.css","mappings":"AACA,wBACE,cACA,gBACA,iBACA,wBACA,eACA,eACA,6BACA,eACA,6BACA,8DACA,iBACA,aACA,uBACA,uBACA,kBACA,uEACA,mBACA,gBAGF,gCACE,kBACA,QACA,kOACE,CAGF,oBAGF,wBACE,sBACA,kBACA,UAGF,8BACE,mDACA,aACA,mBACA,yCACA,kBAGF,8BACE,mBACA,mBACA,aACA,kBAGF,yBACE,2DACA,mBACA,uBACA,aACA,sBACA,SACA,oBACA,2CAGF,wBACE,kBACA,QACA,SACA,2BACA,YACA,YACA,mBACA,4BACA,aACA,mBACA,uBACA,SACA,UAGF,gCACE,UACA,WACA,kBACA,mBACA,uCAGF,iCACE,WACA,WACA,kBACA,mBAGF,yBACE,aACA,8BACA,eACA,cACA,gBAGF,+BACE,aACA,mBACA,QAGF,gDAEE,WACA,YACA,kDACA,kBACA,gOAGF,0BACE,gBAGF,uBACE,aACA,oCACA,SACA,mBACA,kBAGF,8BACE,kBACA,WACA,YAGF,yBACE,WACA,YACA,mBACA,mDACA,uDACE,CAIJ,wBACE,kBACA,WACA,mBACA,qCACA,mDAGF,+BACE,kCACA,eACA,mBACA,SAGF,6BACE,eACA,yBACA,mBACA,cACA,eAGF,gCACE,eACA,cACA,eAGF,8BACE,uBACA,cACA,iBACA,oBACA,eACA,wCAGF,4DAEE,gBACA,mBACA,aACA,yCACA,sCAGF,+BACE,aACA,8BACA,mBACA,mBAGF,kCACE,eACA,SAGF,uBACE,uBACA,cACA,eACA,gBACA,mBACA,yBACA,mBAGF,6BACE,aACA,oCACA,QACA,mBAGF,4BACE,wBACA,mBACA,YACA,aACA,QACA,iCAGF,mCACE,eACA,cAGF,mCACE,eACA,gBACA,oBACA,qBACA,4BACA,gBAGF,kCACE,eACA,cAGF,uBACE,aACA,QAGF,0BACE,aACA,oCACA,mBACA,QACA,eACA,cAGF,sBACE,WACA,mBACA,oBACA,kBACA,gBAGF,wBACE,cACA,YACA,oBACA,qEAGF,uBACE,aACA,QAGF,yBACE,iBACA,mBACA,eACA,gBACA,kBAGF,kCACE,mBACA,cACA,sBAGF,kCACE,mBACA,cACA,oBAGF,wBACE,cACA,qBACA,cACA,eAGF,yCACE,yBAGF,4BACE,gBACA,mBACA,mBACA,YACA,aACA,8BACA,mBACA,eACA,cAGF,2BACE,YACA,yBACA,WACA,iBACA,mBACA,eACA,mBAGF,+BACE,kBACA,WACA,SACA,aACA,QAGF,oCACE,UACA,YACA,mBACA,kBAGF,qCACE,YAGF,+BACE,kBACA,cACA,eACA,mBACA,gBAGF,0BACE,sCACA,yCAGF,yBACE,KACE,UACA,2BAEF,GACE,UACA,yBAIJ,0BACE,QAEE,WACA,mBAEF,IACE,WACA,uBAIJ,yBACE,yBACE,uBAGF,uBACE,+BACA,6BAGF,8BACE,gBACA,mBAGF,6BACE,2B;ACi4CJ,+BACE,cAAe,CACf,OAAQ,CACR,YAAa,CACb,+DAAoE,CACpE,aAAc,CACd,YAAa,CACb,kBAAmB,CACnB,sBACF,CAEA,oCACE,YAAa,CACb,kBAAmB,CACnB,sBACF,CAEA,mCACE,iBAAkB,CAClB,OAAQ,CACR,0BAA8B,CAC9B,yBAA0B,CAC1B,SAAU,CACV,6BACF,CAEA,sDACE,SACF,CAEA,gCACE,iBAAkB,CAClB,oBAAsB,CACtB,cAAe,CACf,kDAAqD,CACrD,kBAAmB,CACnB,uCAA2C,CAC3C,YAAa,CACb,qBAAsB,CACtB,eAAgB,CAChB,SAAU,CACV,SAAU,CACV,sCAAuC,CACvC,kDACF,CAEA,mDACE,SAAU,CACV,gCACF,CAEA,iCACE,YAAa,CACb,kBAAmB,CACnB,6BAA8B,CAC9B,iBAAkB,CAClB,2CACF,CAEA,sCACE,cAAe,CACf,kBACF,CAEA,qCACE,cAAe,CACf,aAAc,CACd,gBACF,CAEA,kCACE,YAAa,CACb,QACF,CAEA,gCACE,WAAY,CACZ,8BAAkC,CAClC,aAAc,CACd,UAAW,CACX,WAAY,CACZ,mBAAoB,CACpB,cAAe,CACf,gBAAiB,CACjB,iBAAkB,CAClB,cAAe,CACf,2DACF,CAEA,sCACE,6BACF,CAEA,uCACE,qBACF,CAEA,kCACE,YAAa,CACb,OAAQ,CACR,iBAAkB,CAClB,cACF,CAEA,iCACE,MAAO,CACP,eAAgB,CAChB,mBAAoB,CACpB,mCAAuC,CACvC,gBAAiB,CACjB,kBACF,CAEA,iCACE,WAAY,CACZ,gBAAiB,CACjB,mBAAoB,CACpB,kBAAmB,CACnB,UAAW,CACX,cAAe,CACf,cAAe,CACf,iFACF,CAEA,uCACE,kBAAmB,CACnB,yCACF,CAEA,wCACE,yBACF,CAEA,0CACE,sBAAuB,CACvB,aAAc,CACd,oCACF,CAEA,gDACE,+BAAmC,CACnC,gCAAoC,CACpC,eACF,CAEA,uCACE,YACF,CAEA,+BACE,YAAa,CACb,6CAA+C,CAC/C,KAAM,CACN,MAAO,CACP,YACF,CAEA,kCACE,YAAa,CACb,0CAA8C,CAC9C,YAAa,CACb,qBAAsB,CACtB,QACF,CAEA,mCACE,YAAa,CACb,cAAe,CACf,OACF,CAEA,kCACE,UAAW,CACX,UAAW,CACX,8BAAkC,CAClC,YACF,CAEA,wCACE,cAAe,CACf,aAAc,CACd,wBAAyB,CACzB,kBACF,CAEA,+BACE,eAAgB,CAChB,WAAY,CACZ,gCAAoC,CACpC,kBAAmB,CACnB,gBAAiB,CACjB,cAAe,CACf,cAAe,CACf,4EACF,CAEA,yCACE,kBAAmB,CACnB,aACF,CAEA,qDACE,gCAAoC,CACpC,0BACF,CAEA,sCACE,cAAe,CACf,aACF,CAEA,qCACE,YAAa,CACb,cAAe,CACf,OACF,CAEA,2CACE,qCAAyC,CACzC,gCAAoC,CACpC,mBAAoB,CACpB,gBAAiB,CACjB,cAAe,CACf,aAAc,CACd,cAAe,CACf,oGACF,CAEA,qDACE,kBAAmB,CACnB,aAAc,CACd,wBACF,CAEA,iEACE,iCAAqC,CACrC,gCAAoC,CACpC,0BACF,CAEA,sCACE,cACF,CAEE,kCACE,YAAa,CACb,aAAc,CACd,MAAO,CACP,YACF,CAEF,oCACE,YAAa,CACb,QACF,CAEA,qCACE,YAAa,CACb,kBAAmB,CACnB,wBAAyB,CACzB,QAAS,CACT,cACF,CAEA,6CACE,cAAe,CACf,aACF,CAEA,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CnB,WAAY,CACZ,kBAAmB,CACnB,kBAAmB,CACnB,YAAa,CACb,kBAAmB,CACnB,eACF,CAEA,4CACE,UAAW,CACX,WAAY,CACZ,gBACF,CAEA,0CACE,YAAa,CACb,OACF,CAEA,2CACE,YAAa,CACb,QAAS,CACT,eAAgB,CAChB,wDACF,CAEA,gDACE,gCAAoC,CACpC,oCAAwC,CACxC,kBAAmB,CACnB,iBAAkB,CAClB,YAAa,CACb,OACF,CAEA,iDACE,cAAe,CACf,aAAc,CACd,wBAAyB,CACzB,kBACF,CAEA,iDACE,cAAe,CACf,eAAgB,CAChB,aACF,CAEA,gDACE,cAAe,CACf,aACF,CAEA,0CACE,YAAa,CACb,OACF,CAEA,0CACE,YAAa,CACb,QAAS,CACT,wDACF,CAEA,yCACE,kBAAmB,CACnB,oCAAwC,CACxC,kBAAmB,CACnB,iBAAkB,CAClB,YAAa,CACb,OACF,CAEA,+CACE,cAAe,CACf,aAAc,CACd,wBAAyB,CACzB,kBACF,CAEA,iDACE,cAAe,CACf,eAAgB,CAChB,aAAc,CACd,oBACF,CAEA,wCACE,YAAa,CACb,kBAAmB,CACnB,6BAA8B,CAC9B,OAAQ,CACR,cAAe,CACf,aAAc,CACd,wBAAyB,CACzB,kBACF,CAEA,sCACE,WAAY,CACZ,kBAAmB,CACnB,gBAAiB,CACjB,cAAe,CACf,cAAe,CACf,mBAAoB,CACpB,iFACF,CAEA,iDACE,kBAAmB,CACnB,aACF,CAEA,mDACE,kBAAmB,CACnB,aACF,CAEA,2CACE,YAAa,CACb,cAAe,CACf,OAAQ,CACR,kBACF,CAEA,4CACE,0BAA2B,CAC3B,yCACF,CAEA,uDACE,kBACF,CAEA,yDACE,kBACF,CAEA,6CACE,uBACF,CAEA,0CACE,kBAAmB,CACnB,oCAAwC,CACxC,kBAAmB,CACnB,iBAAkB,CAClB,cAAe,CACf,eAAgB,CAChB,aAAc,CACd,oBACF,CAEA,0CACE,aAAc,CACd,4CACF,CAEA,qDACE,kBACF,CAEA,uCACE,YAAa,CACb,QACF,CAEA,2CACE,YAAa,CACb,6CAA+C,CAC/C,QAAS,CACT,cAAe,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","sources":["src://tavern_helper_template/src/手机角色状态栏/app.vue","src://tavern_helper_template/../../App.vue"],"sourcesContent":["\n.scene {\n  --ink: #0f1115;\n  --paper: #f6f0e6;\n  --accent: #d86b3b;\n  --accent-strong: #b64523;\n  --deep: #1b212a;\n  --soft: #f3dcc4;\n  --glow: rgba(216, 107, 59, 0.35);\n  --teal: #2e6f6d;\n  --mist: rgba(255, 255, 255, 0.6);\n  font-family: 'PingFang SC', 'Songti SC', 'STSong', 'SimSun', serif;\n  color: var(--ink);\n  display: flex;\n  justify-content: center;\n  padding: 32px 16px 40px;\n  position: relative;\n  background: linear-gradient(150deg, #fef8f2 0%, #f5e7d8 45%, #e8d2c0 100%);\n  border-radius: 24px;\n  overflow: hidden;\n}\n\n.ambient-layer {\n  position: absolute;\n  inset: 0;\n  background:\n    radial-gradient(circle at 10% 20%, rgba(216, 107, 59, 0.2), transparent 45%),\n    radial-gradient(circle at 90% 10%, rgba(46, 111, 109, 0.18), transparent 40%),\n    radial-gradient(circle at 80% 80%, rgba(15, 17, 21, 0.08), transparent 45%);\n  pointer-events: none;\n}\n\n.phone {\n  width: min(380px, 100%);\n  position: relative;\n  z-index: 1;\n}\n\n.phone-shell {\n  background: linear-gradient(160deg, #161a22, #0c0f14);\n  padding: 14px;\n  border-radius: 38px;\n  box-shadow: 0 25px 60px rgba(15, 17, 21, 0.4);\n  position: relative;\n}\n\n.phone-bezel {\n  background: #0b0f14;\n  border-radius: 30px;\n  padding: 10px;\n  position: relative;\n}\n\n.screen {\n  background: linear-gradient(180deg, #fef9f4 0%, #f6ede3 100%);\n  border-radius: 24px;\n  padding: 18px 16px 20px;\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  aspect-ratio: 9 / 19.5;\n  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.08);\n}\n\n.notch {\n  position: absolute;\n  top: 6px;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 130px;\n  height: 26px;\n  background: #0b0f14;\n  border-radius: 0 0 16px 16px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 10px;\n  z-index: 3;\n}\n\n.notch .camera {\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  background: #1b212a;\n  box-shadow: 0 0 6px rgba(95, 168, 255, 0.6);\n}\n\n.notch .speaker {\n  width: 40px;\n  height: 4px;\n  border-radius: 4px;\n  background: #1c222c;\n}\n\n.topbar {\n  display: flex;\n  justify-content: space-between;\n  font-size: 12px;\n  color: #5b4a3a;\n  margin-top: 18px;\n}\n\n.status-icons {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.signal,\n.wifi {\n  width: 18px;\n  height: 10px;\n  background: linear-gradient(90deg, #2e6f6d, #7ab7b0);\n  border-radius: 4px;\n  mask: linear-gradient(90deg, transparent 0 20%, #000 20% 40%, transparent 40% 60%, #000 60% 80%, transparent 80%);\n}\n\n.battery {\n  font-weight: 600;\n}\n\n.hero {\n  display: grid;\n  grid-template-columns: 70px 1fr auto;\n  gap: 12px;\n  align-items: center;\n  position: relative;\n}\n\n.avatar-ring {\n  position: relative;\n  width: 68px;\n  height: 68px;\n}\n\n.avatar {\n  width: 100%;\n  height: 100%;\n  border-radius: 20px;\n  background: linear-gradient(135deg, #2e6f6d, #d86b3b);\n  box-shadow:\n    0 0 0 3px #f5e4d2,\n    0 10px 18px rgba(0, 0, 0, 0.2);\n}\n\n.pulse {\n  position: absolute;\n  inset: -6px;\n  border-radius: 24px;\n  border: 1px solid rgba(216, 107, 59, 0.4);\n  animation: pulse 2.5s ease-in-out infinite;\n}\n\n.role-meta h1 {\n  font-family: 'ZCOOL XiaoWei', serif;\n  font-size: 26px;\n  letter-spacing: 2px;\n  margin: 0;\n}\n\n.role-title {\n  font-size: 11px;\n  text-transform: uppercase;\n  letter-spacing: 3px;\n  color: #9b6e55;\n  margin: 0 0 4px;\n}\n\n.role-subtitle {\n  font-size: 11px;\n  color: #6f5d4d;\n  margin: 4px 0 0;\n}\n\n.status-pill {\n  background: var(--deep);\n  color: #fef9f4;\n  padding: 6px 12px;\n  border-radius: 999px;\n  font-size: 11px;\n  box-shadow: 0 6px 10px rgba(15, 17, 21, 0.2);\n}\n\n.status-panel,\n.chat-panel {\n  background: #ffffff;\n  border-radius: 20px;\n  padding: 14px;\n  box-shadow: 0 10px 24px rgba(15, 17, 21, 0.1);\n  border: 1px solid rgba(216, 107, 59, 0.15);\n}\n\n.panel-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 12px;\n}\n\n.panel-header h2 {\n  font-size: 14px;\n  margin: 0;\n}\n\n.chip {\n  background: var(--soft);\n  color: #7a3c2a;\n  font-size: 10px;\n  padding: 4px 8px;\n  border-radius: 10px;\n  text-transform: uppercase;\n  letter-spacing: 1px;\n}\n\n.stats-grid {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 8px;\n  margin-bottom: 12px;\n}\n\n.stat-card {\n  background: var(--paper);\n  border-radius: 12px;\n  padding: 8px;\n  display: grid;\n  gap: 4px;\n  border: 1px solid rgba(0, 0, 0, 0.05);\n}\n\n.stat-card .label {\n  font-size: 10px;\n  color: #815f4a;\n}\n\n.stat-card .value {\n  font-size: 13px;\n  font-weight: 700;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n\n.stat-card .note {\n  font-size: 10px;\n  color: #a0674c;\n}\n\n.bars {\n  display: grid;\n  gap: 8px;\n}\n\n.bar-row {\n  display: grid;\n  grid-template-columns: 48px 1fr 36px;\n  align-items: center;\n  gap: 8px;\n  font-size: 11px;\n  color: #5d4a3b;\n}\n\n.bar {\n  height: 8px;\n  background: #f1e4d6;\n  border-radius: 999px;\n  position: relative;\n  overflow: hidden;\n}\n\n.bar i {\n  display: block;\n  height: 100%;\n  border-radius: 999px;\n  background: linear-gradient(90deg, var(--accent), var(--accent-strong));\n}\n\n.chat {\n  display: grid;\n  gap: 8px;\n}\n\n.bubble {\n  padding: 8px 10px;\n  border-radius: 14px;\n  font-size: 12px;\n  line-height: 1.4;\n  position: relative;\n}\n\n.bubble.incoming {\n  background: #f1e4d6;\n  color: #3a2a20;\n  align-self: flex-start;\n}\n\n.bubble.outgoing {\n  background: #1b212a;\n  color: #f8f4ef;\n  align-self: flex-end;\n}\n\n.stamp {\n  font-size: 9px;\n  color: rgba(0, 0, 0, 0.4);\n  display: block;\n  margin-top: 4px;\n}\n\n.bubble.outgoing .stamp {\n  color: rgba(255, 255, 255, 0.5);\n}\n\n.input-bar {\n  margin-top: 10px;\n  background: #f6ede3;\n  border-radius: 12px;\n  padding: 8px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 11px;\n  color: #8d6c56;\n}\n\n.send-btn {\n  border: none;\n  background: var(--accent);\n  color: #fff;\n  padding: 6px 12px;\n  border-radius: 10px;\n  font-size: 11px;\n  letter-spacing: 1px;\n}\n\n.side-buttons {\n  position: absolute;\n  right: -6px;\n  top: 80px;\n  display: grid;\n  gap: 8px;\n}\n\n.side-buttons span {\n  width: 4px;\n  height: 30px;\n  background: #1b212a;\n  border-radius: 8px;\n}\n\n.side-buttons .long {\n  height: 50px;\n}\n\n.device-label {\n  text-align: center;\n  color: #5d4a3b;\n  font-size: 12px;\n  letter-spacing: 4px;\n  margin-top: 16px;\n}\n\n.stagger {\n  animation: rise 0.8s ease both;\n  animation-delay: calc(var(--delay, 1) * 0.1s);\n}\n\n@keyframes rise {\n  from {\n    opacity: 0;\n    transform: translateY(12px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n@keyframes pulse {\n  0%,\n  100% {\n    opacity: 0.4;\n    transform: scale(1);\n  }\n  50% {\n    opacity: 0.8;\n    transform: scale(1.05);\n  }\n}\n\n@media (max-width: 520px) {\n  .screen {\n    padding: 16px 14px 18px;\n  }\n\n  .hero {\n    grid-template-columns: 60px 1fr;\n    grid-template-rows: auto auto;\n  }\n\n  .status-pill {\n    grid-column: 2 / 3;\n    justify-self: start;\n  }\n\n  .stats-grid {\n    grid-template-columns: 1fr;\n  }\n}\n","<template>\n  <div class=\"cardhub-root\" :class=\"{ open: state.open }\">\n    <div class=\"cardhub-backdrop\" @click=\"close\" />\n    <section class=\"cardhub-panel\" role=\"dialog\" aria-label=\"CardHub 角色卡管理器\">\n      <header class=\"cardhub-header\">\n        <div class=\"cardhub-title\">\n          <span class=\"cardhub-title__main\">CardHub</span>\n          <span class=\"cardhub-title__sub\">角色卡管理器</span>\n        </div>\n        <div class=\"cardhub-actions\">\n          <button class=\"cardhub-close\" type=\"button\" aria-label=\"关闭\" @click=\"close\">\n            <span aria-hidden=\"true\">×</span>\n          </button>\n        </div>\n      </header>\n\n      <div class=\"cardhub-toolbar\">\n        <input\n          v-model=\"state.search\"\n          class=\"cardhub-search\"\n          type=\"search\"\n          placeholder=\"搜索角色名或标签\"\n        />\n        <button class=\"cardhub-button\" type=\"button\" @click=\"refresh\">刷新</button>\n        <button class=\"cardhub-button is-ghost\" type=\"button\" @click=\"triggerImport\">导入</button>\n        <button class=\"cardhub-button is-ghost\" type=\"button\" @click=\"exportSelected\">批量导出</button>\n        <input\n          ref=\"importInput\"\n          class=\"cardhub-import-input\"\n          type=\"file\"\n          accept=\".png,.json\"\n          multiple\n          @change=\"handleImportFiles\"\n        />\n      </div>\n\n      <div class=\"cardhub-body\">\n        <div class=\"cardhub-sidebar\">\n          <div class=\"cardhub-section-title\">分类</div>\n          <div class=\"cardhub-chip-row\">\n            <button\n              class=\"cardhub-chip\"\n              :class=\"{ 'is-active': statusFilter === 'all' }\"\n              type=\"button\"\n              @click=\"statusFilter = 'all'\"\n            >\n              全部\n            </button>\n            <button\n              class=\"cardhub-chip\"\n              :class=\"{ 'is-active': statusFilter === 'imported' }\"\n              type=\"button\"\n              @click=\"statusFilter = 'imported'\"\n            >\n              已导入\n            </button>\n            <button\n              class=\"cardhub-chip\"\n              :class=\"{ 'is-active': statusFilter === 'unimported' }\"\n              type=\"button\"\n              @click=\"statusFilter = 'unimported'\"\n            >\n              未导入\n            </button>\n          </div>\n          <div class=\"cardhub-divider\" />\n          <div class=\"cardhub-section-title\">标签</div>\n          <div class=\"cardhub-tag-filter\">\n            <button\n              v-for=\"tag in allTags\"\n              :key=\"tag\"\n              class=\"cardhub-tag-filter__chip\"\n              :class=\"{ 'is-active': selectedTags.includes(tag) }\"\n              type=\"button\"\n              @click=\"toggleTagFilter(tag)\"\n            >\n              {{ tag }}\n            </button>\n          </div>\n          <button\n            v-if=\"selectedTags.length\"\n            class=\"cardhub-chip cardhub-chip--clear\"\n            type=\"button\"\n            @click=\"clearTagFilter\"\n          >\n            清空标签\n          </button>\n        </div>\n\n        <div class=\"cardhub-content\">\n          <div v-if=\"state.loading\" class=\"cardhub-loading\">正在读取角色卡...</div>\n          <div v-else-if=\"!filteredCharacters.length\" class=\"cardhub-empty\">\n            暂无角色卡，或没有匹配的搜索结果。\n          </div>\n          <div v-else class=\"cardhub-grid-wrap\">\n            <div class=\"cardhub-pagination\">\n              <div v-if=\"totalPages > 1\" class=\"cardhub-pagination__actions\">\n                <button\n                  class=\"cardhub-pagination__button\"\n                  type=\"button\"\n                  :disabled=\"currentPage <= 1\"\n                  @click=\"prevPage\"\n                >\n                  上一页\n                </button>\n                <button\n                  class=\"cardhub-pagination__button\"\n                  type=\"button\"\n                  :disabled=\"currentPage >= totalPages\"\n                  @click=\"nextPage\"\n                >\n                  下一页\n                </button>\n              </div>\n              <span class=\"cardhub-pagination__status\">第 {{ currentPage }} / {{ totalPages }} 页</span>\n            </div>\n            <div class=\"cardhub-grid\">\n            <article\n              v-for=\"character in pagedCharacters\"\n              :key=\"character.id\"\n              class=\"cardhub-card\"\n              @click=\"openManage(character)\"\n            >\n              <div\n                class=\"cardhub-card__avatar\"\n                :class=\"{ 'has-avatar': Boolean(avatarUrl(character)) }\"\n                :style=\"avatarStyle(character)\"\n              >\n                <span>{{ character.name.slice(0, 1) || '?' }}</span>\n              </div>\n              <div class=\"cardhub-card__info\">\n                <div class=\"cardhub-card__name\">{{ character.name }}</div>\n                <div class=\"cardhub-card__meta\">\n                  <span>{{ character.origin === 'tavern' ? '已导入' : '未导入' }}</span>\n                  <span>{{ displayTags(character).length }} 标签</span>\n                </div>\n                <div class=\"cardhub-card__tags\">\n                  <button\n                    v-for=\"tag in displayTags(character)\"\n                    :key=\"tag\"\n                    class=\"cardhub-tag\"\n                    type=\"button\"\n                    title=\"点击移除标签\"\n                    @click.stop=\"removeTag(character, tag)\"\n                  >\n                    {{ tag }}\n                    <span class=\"cardhub-tag__remove\">×</span>\n                  </button>\n                  <button\n                    v-if=\"activeTagKey !== tagKey(character)\"\n                    class=\"cardhub-tag is-add\"\n                    type=\"button\"\n                    @click.stop=\"startTagEdit(character)\"\n                  >\n                    + 标签\n                  </button>\n                  <input\n                    v-else\n                    v-model=\"tagInput\"\n                    class=\"cardhub-tag-input\"\n                    type=\"text\"\n                    placeholder=\"新标签\"\n                    @keydown.enter.prevent=\"confirmTag(character)\"\n                    @keydown.esc.prevent=\"cancelTagEdit\"\n                    @blur=\"confirmTag(character)\"\n                    @click.stop\n                    @mousedown.stop\n                    @touchstart.stop\n                  />\n                </div>\n              </div>\n              <div class=\"cardhub-card__actions\">\n                <button\n                  class=\"cardhub-card__action is-secondary\"\n                  type=\"button\"\n                  @click.stop=\"handleCardAction(character)\"\n                  @pointerdown.stop\n                  @mousedown.stop\n                  @touchstart.stop\n                >\n                  {{ character.origin === 'tavern' ? '导出' : '导入' }}\n                </button>\n                <button\n                  class=\"cardhub-card__action\"\n                  type=\"button\"\n                  @click.stop=\"openManage(character)\"\n                  @pointerdown.stop\n                  @mousedown.stop\n                  @touchstart.stop\n                >\n                  管理\n                </button>\n              </div>\n            </article>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <div v-if=\"manageCard\" class=\"cardhub-manage\" @click.self=\"closeManage\">\n      <div class=\"cardhub-manage__panel\" role=\"dialog\" aria-label=\"角色管理\">\n        <button class=\"cardhub-preview__close\" type=\"button\" @click=\"closeManage\">×</button>\n        <div class=\"cardhub-manage__top\">\n          <div class=\"cardhub-manage__summary\">\n            <div class=\"cardhub-preview__name\">{{ manageCard.name }}</div>\n            <div class=\"cardhub-preview__meta\">\n              <span>{{ manageCard.origin === 'tavern' ? '已导入' : '未导入' }}</span>\n              <span>{{ displayTags(manageCard).length }} 标签</span>\n            </div>\n            <div class=\"cardhub-preview__tags\">\n              <span v-for=\"tag in displayTags(manageCard)\" :key=\"tag\" class=\"cardhub-preview__tag\">\n                {{ tag }}\n              </span>\n            </div>\n            <div class=\"cardhub-manage__overview\">\n              <div\n                v-for=\"item in manageOverview\"\n                :key=\"item.label\"\n                class=\"cardhub-manage__overview-card\"\n              >\n                <div class=\"cardhub-manage__overview-label\">{{ item.label }}</div>\n                <div class=\"cardhub-manage__overview-value\">{{ item.value }}</div>\n                <div v-if=\"item.hint\" class=\"cardhub-manage__overview-hint\">{{ item.hint }}</div>\n              </div>\n            </div>\n          </div>\n          <div class=\"cardhub-manage__media\">\n            <img v-if=\"manageAvatarUrl\" :src=\"manageAvatarUrl\" alt=\"\" />\n          </div>\n        </div>\n        <div class=\"cardhub-manage__section\">\n          <div class=\"cardhub-manage__label\">角色卡预览</div>\n          <div v-if=\"manageDetails.length\" class=\"cardhub-manage__details\">\n            <div v-for=\"detail in manageDetails\" :key=\"detail.label\" class=\"cardhub-manage__detail\">\n              <div class=\"cardhub-manage__detail-label\">{{ detail.label }}</div>\n              <div class=\"cardhub-manage__detail-content\">{{ detail.value }}</div>\n            </div>\n          </div>\n          <div v-else class=\"cardhub-manage__empty\">{{ manageDetailsHint }}</div>\n        </div>\n        <div class=\"cardhub-manage__section\">\n          <div class=\"cardhub-manage__label\">开场白</div>\n          <div class=\"cardhub-manage__content\">\n            <template v-if=\"manageOpeningLines.length\">\n              <div v-for=\"(opening, index) in manageOpeningLines\" :key=\"index\" class=\"cardhub-manage__opening\">\n                {{ opening }}\n              </div>\n            </template>\n            <template v-else>暂无开场白</template>\n          </div>\n        </div>\n        <div class=\"cardhub-manage__section\">\n          <div class=\"cardhub-manage__label\">\n            <span>最近聊天</span>\n            <div class=\"cardhub-manage__jump-row\">\n              <button\n                class=\"cardhub-manage__btn is-primary\"\n                type=\"button\"\n                @click=\"openLatestChat\"\n                @pointerdown.stop\n                @mousedown.stop\n                @touchstart.stop\n              >\n                进入最近聊天\n              </button>\n              <button\n                class=\"cardhub-manage__btn is-secondary\"\n                type=\"button\"\n                @click=\"openNewChat\"\n                @pointerdown.stop\n                @mousedown.stop\n                @touchstart.stop\n              >\n                新聊天\n              </button>\n            </div>\n          </div>\n          <div v-if=\"manageChats.length\" class=\"cardhub-manage__chat\">\n            <div\n              v-for=\"(msg, index) in manageChats\"\n              :key=\"index\"\n              class=\"cardhub-manage__chat-row\"\n              role=\"button\"\n              tabindex=\"0\"\n              @click=\"openChat(msg)\"\n              @keydown.enter.prevent=\"openChat(msg)\"\n            >\n              <div class=\"cardhub-manage__chat-main\">\n                <div class=\"cardhub-manage__chat-name\">{{ msg.name }}</div>\n                <div v-if=\"msg.label && msg.label !== msg.name\" class=\"cardhub-manage__chat-label\">\n                  {{ msg.label }}\n                </div>\n                <div v-if=\"msg.keywords.length\" class=\"cardhub-manage__chat-tags\">\n                  <span v-for=\"keyword in msg.keywords\" :key=\"keyword\" class=\"cardhub-manage__chat-tag\">\n                    {{ keyword }}\n                  </span>\n                </div>\n              </div>\n              <span class=\"cardhub-manage__chat-text\">{{ msg.mes }}</span>\n            </div>\n          </div>\n          <div v-else class=\"cardhub-manage__empty\">{{ manageChatHint }}</div>\n        </div>\n        <div class=\"cardhub-manage__actions\">\n          <button\n            class=\"cardhub-manage__btn is-secondary\"\n            type=\"button\"\n            @click.stop=\"handleCardAction(manageCard)\"\n            @pointerdown.stop\n            @mousedown.stop\n            @touchstart.stop\n          >\n            {{ manageCard.origin === 'tavern' ? '导出' : '导入' }}\n          </button>\n          <button\n            class=\"cardhub-manage__btn is-primary\"\n            type=\"button\"\n            @click.stop=\"manageDelete(manageCard)\"\n            @pointerdown.stop\n            @mousedown.stop\n            @touchstart.stop\n          >\n            删除\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <div v-if=\"confirmState.open\" class=\"cardhub-confirm\" @click.self=\"resolveConfirm('cancel')\">\n      <div class=\"cardhub-confirm__panel\" role=\"dialog\" aria-modal=\"true\">\n        <div class=\"cardhub-confirm__title\">{{ confirmState.title }}</div>\n        <div class=\"cardhub-confirm__message\">{{ confirmState.message }}</div>\n        <div class=\"cardhub-confirm__actions\">\n          <button class=\"cardhub-confirm__button is-cancel\" type=\"button\" @click=\"resolveConfirm('cancel')\">\n            {{ confirmState.cancelLabel }}\n          </button>\n          <button\n            v-if=\"confirmState.altLabel\"\n            class=\"cardhub-confirm__button is-danger\"\n            type=\"button\"\n            @click=\"resolveConfirm('alt')\"\n          >\n            {{ confirmState.altLabel }}\n          </button>\n          <button class=\"cardhub-confirm__button is-confirm\" type=\"button\" @click=\"resolveConfirm('confirm')\">\n            {{ confirmState.confirmLabel }}\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, nextTick, reactive, ref, watch } from 'vue';\nimport { cardHubState as state, setCharacters, setLibrary, setLoading, setOpen } from '../state/store';\nimport { fetchCharacterSummaries } from '../services/characterSource';\nimport { regexFromString } from './util/common';\nimport type { CardHubItem } from '../types';\nimport { addToLibrary, loadLibrary, removeFromLibrary, updateLibraryTags } from '../services/libraryService';\nimport { getMergedTags, updateCharacterTags } from '../services/tagService';\n\nconst selectedTags = ref<string[]>([]);\nconst activeTagKey = ref<string | null>(null);\nconst tagInput = ref('');\nconst statusFilter = ref<'all' | 'imported' | 'unimported'>('all');\nconst pageSize = ref(24);\nconst currentPage = ref(1);\nconst importInput = ref<HTMLInputElement | null>(null);\nconst manageCard = ref<CardHubItem | null>(null);\nconst manageOpenings = ref<string[]>([]);\ntype ManageChatEntry = {\n  name: string;\n  label?: string;\n  mes: string;\n  file: string;\n  keywords: string[];\n};\n\nconst manageChats = ref<ManageChatEntry[]>([]);\nconst manageOpeningLines = computed(() => previewOpenings(manageOpenings.value, 3));\nlet manageRequestId = 0;\ntype ManageDetail = {\n  label: string;\n  value: string;\n};\ntype ManageProfile = {\n  description?: string;\n  personality?: string;\n  scenario?: string;\n  creatorNotes?: string;\n  systemPrompt?: string;\n  postHistory?: string;\n  creator?: string;\n  worldBookName?: string;\n  worldBookCount?: number;\n};\ntype ManageOpeningSummary = {\n  total: number;\n  alternate: number;\n};\ntype ManageChatSummary = {\n  total: number;\n  latest: string;\n};\ntype ManageChatData = {\n  list: ManageChatEntry[];\n  summary: ManageChatSummary | null;\n};\ntype ManageOverviewItem = {\n  label: string;\n  value: string;\n  hint?: string;\n};\ntype ManageData = {\n  openings: string[];\n  profile: ManageProfile | null;\n  openingSummary: ManageOpeningSummary | null;\n};\ntype ConfirmResult = 'confirm' | 'cancel' | 'alt';\ntype ConfirmOptions = {\n  title?: string;\n  message: string;\n  confirmLabel?: string;\n  cancelLabel?: string;\n  altLabel?: string;\n};\n\nconst confirmState = reactive({\n  open: false,\n  title: '',\n  message: '',\n  confirmLabel: '确定',\n  cancelLabel: '取消',\n  altLabel: '',\n  resolve: null as null | ((result: ConfirmResult) => void),\n});\n\nconst allCards = computed(() => [...state.characters, ...state.library]);\nconst manageProfile = ref<ManageProfile | null>(null);\nconst manageOpeningSummary = ref<ManageOpeningSummary | null>(null);\nconst manageChatSummary = ref<ManageChatSummary | null>(null);\nconst manageDetails = computed(() => {\n  const profile = manageProfile.value;\n  if (!profile) {\n    return [] as ManageDetail[];\n  }\n  const details: ManageDetail[] = [];\n  const pushDetail = (label: string, value: string, maxChars = 240) => {\n    const preview = previewDetailText(value, 3, maxChars);\n    if (preview) {\n      details.push({ label, value: preview });\n    }\n  };\n  pushDetail('角色描述', profile.description ?? '');\n  pushDetail('性格', profile.personality ?? '');\n  pushDetail('场景', profile.scenario ?? '');\n  pushDetail('创作者备注', profile.creatorNotes ?? '');\n  pushDetail('系统提示', profile.systemPrompt ?? '', 200);\n  pushDetail('历史指令', profile.postHistory ?? '', 200);\n  pushDetail('作者', profile.creator ?? '', 80);\n  return details;\n});\n\nconst manageDetailsHint = computed(() => {\n  if (!manageCard.value || manageDetails.value.length) {\n    return '';\n  }\n  if (manageCard.value.origin === 'library') {\n    return '未导入卡片暂无可预览内容，可先导入后查看详情。';\n  }\n  return '暂无角色卡详情。';\n});\n\nconst manageChatHint = computed(() => {\n  if (manageCard.value?.origin === 'library') {\n    return '未导入卡片暂无聊天记录。';\n  }\n  return '暂无聊天记录。';\n});\nconst manageOverview = computed(() => {\n  const items: ManageOverviewItem[] = [];\n  const profile = manageProfile.value;\n  const worldName = profile?.worldBookName?.trim() || '';\n  const worldCount = profile?.worldBookCount;\n  let worldValue = '未绑定';\n  let worldHint = '';\n  if (worldName || typeof worldCount === 'number') {\n    worldValue = worldName || '角色世界书';\n    worldHint = typeof worldCount === 'number' ? `${worldCount} 条` : '';\n  }\n  items.push({ label: '世界书', value: worldValue, hint: worldHint });\n\n  const chat = manageChatSummary.value;\n  let chatValue = '暂无聊天';\n  let chatHint = '';\n  if (chat && chat.total > 0) {\n    chatValue = `${chat.total} 个聊天`;\n    if (chat.latest) {\n      chatHint = `最近：${chat.latest}`;\n    }\n  }\n  items.push({ label: '聊天概况', value: chatValue, hint: chatHint });\n\n  const opening = manageOpeningSummary.value;\n  let openingValue = '暂无开场白';\n  let openingHint = '';\n  if (opening && opening.total > 0) {\n    openingValue = `${opening.total} 条`;\n    openingHint = opening.alternate > 0 ? `替代：${opening.alternate} 条` : '无替代';\n  }\n  items.push({ label: '开场白', value: openingValue, hint: openingHint });\n  return items;\n});\n\nconst filteredCharacters = computed(() => {\n  const list = applyStatusFilter(allCards.value);\n  const keyword = state.search.trim();\n  if (!keyword) {\n    return applyTagFilter(list);\n  }\n  const matcher = regexFromString(keyword) ?? new RegExp(_.escapeRegExp(keyword), 'i');\n  return applyTagFilter(list).filter(character => {\n    return matcher.test(character.name) || character.tags.some(tag => matcher.test(tag));\n  });\n});\n\nconst totalPages = computed(() => {\n  const total = Math.ceil(filteredCharacters.value.length / pageSize.value);\n  return total > 0 ? total : 1;\n});\n\nconst pagedCharacters = computed(() => {\n  const start = (currentPage.value - 1) * pageSize.value;\n  return filteredCharacters.value.slice(start, start + pageSize.value);\n});\n\nconst allTags = computed(() => {\n  const tagSet = new Set<string>();\n  allCards.value.forEach(character => {\n    getMergedTags(character).forEach(tag => tagSet.add(tag));\n  });\n  selectedTags.value.forEach(tag => tagSet.add(tag));\n  return Array.from(tagSet).sort((a, b) => a.localeCompare(b, 'zh-CN'));\n});\n\nfunction avatarUrl(character: CardHubItem, useFull = false): string | null {\n  const avatar = character.avatar;\n  if (!avatar) {\n    return null;\n  }\n  if (/^(data:|https?:|\\/)/.test(avatar)) {\n    return avatar;\n  }\n  if (useFull && character.origin === 'tavern') {\n    return TavernHelper.getCharAvatarPath(avatar, true) ?? `/thumbnail?type=avatar&file=${encodeURIComponent(avatar)}`;\n  }\n  return `/thumbnail?type=avatar&file=${encodeURIComponent(avatar)}`;\n}\n\nfunction avatarStyle(character: CardHubItem): Record<string, string> {\n  const url = avatarUrl(character);\n  return url ? { backgroundImage: `url(${url})` } : {};\n}\n\nfunction displayTags(character: CardHubItem): string[] {\n  return getMergedTags(character);\n}\n\nconst manageAvatarUrl = computed(() => {\n  if (!manageCard.value) {\n    return null;\n  }\n  return avatarUrl(manageCard.value, true);\n});\n\nfunction applyStatusFilter(list: CardHubItem[]): CardHubItem[] {\n  if (statusFilter.value === 'imported') {\n    return list.filter(item => item.origin === 'tavern');\n  }\n  if (statusFilter.value === 'unimported') {\n    return list.filter(item => item.origin === 'library');\n  }\n  return list;\n}\n\nfunction applyTagFilter(list: CardHubItem[]): CardHubItem[] {\n  if (!selectedTags.value.length) {\n    return list;\n  }\n  return list.filter(character =>\n    selectedTags.value.some(tag => getMergedTags(character).includes(tag)),\n  );\n}\n\nfunction toggleTagFilter(tag: string) {\n  if (selectedTags.value.includes(tag)) {\n    selectedTags.value = selectedTags.value.filter(item => item !== tag);\n  } else {\n    selectedTags.value = [...selectedTags.value, tag];\n  }\n}\n\nfunction clearTagFilter() {\n  selectedTags.value = [];\n}\n\nwatch([() => state.search, statusFilter, () => selectedTags.value.join('|')], () => {\n  currentPage.value = 1;\n});\n\nwatch([filteredCharacters, totalPages], () => {\n  if (currentPage.value > totalPages.value) {\n    currentPage.value = totalPages.value;\n  }\n  if (currentPage.value < 1) {\n    currentPage.value = 1;\n  }\n});\n\nfunction prevPage() {\n  if (currentPage.value > 1) {\n    currentPage.value -= 1;\n  }\n}\n\nfunction nextPage() {\n  if (currentPage.value < totalPages.value) {\n    currentPage.value += 1;\n  }\n}\n\nfunction normalizeNameKey(value: string): string {\n  return value.trim().toLocaleLowerCase();\n}\n\nfunction findDuplicateCharacterByName(name: string): CardHubItem | null {\n  const target = normalizeNameKey(name);\n  if (!target) {\n    return null;\n  }\n  return state.characters.find(item => normalizeNameKey(item.name) === target) ?? null;\n}\n\nfunction openConfirm(options: ConfirmOptions): Promise<ConfirmResult> {\n  if (confirmState.open && confirmState.resolve) {\n    confirmState.resolve('cancel');\n  }\n  confirmState.title = options.title ?? '确认操作';\n  confirmState.message = options.message;\n  confirmState.confirmLabel = options.confirmLabel ?? '确定';\n  confirmState.cancelLabel = options.cancelLabel ?? '取消';\n  confirmState.altLabel = options.altLabel ?? '';\n  confirmState.open = true;\n\n  return new Promise(resolve => {\n    confirmState.resolve = resolve;\n  });\n}\n\nfunction resolveConfirm(result: ConfirmResult) {\n  if (!confirmState.open) {\n    return;\n  }\n  confirmState.open = false;\n  const resolver = confirmState.resolve;\n  confirmState.resolve = null;\n  if (resolver) {\n    resolver(result);\n  }\n}\n\n\nfunction removeTag(character: CardHubItem, tag: string) {\n  const nextTags = getMergedTags(character).filter(item => item !== tag);\n  applyTagUpdate(character, nextTags);\n}\n\nfunction tagKey(character: CardHubItem): string {\n  return character.id;\n}\n\nfunction startTagEdit(character: CardHubItem) {\n  activeTagKey.value = tagKey(character);\n  tagInput.value = '';\n  nextTick(() => {\n    const input = document.querySelector<HTMLInputElement>('.cardhub-tag-input');\n    input?.focus();\n  });\n}\n\nfunction confirmTag(character: CardHubItem) {\n  if (activeTagKey.value !== tagKey(character)) {\n    return;\n  }\n  const input = tagInput.value.trim();\n  if (input) {\n    const nextTags = [...getMergedTags(character), input];\n    applyTagUpdate(character, nextTags);\n  }\n  cancelTagEdit();\n}\n\nfunction cancelTagEdit() {\n  activeTagKey.value = null;\n  tagInput.value = '';\n}\n\nfunction applyTagUpdate(character: CardHubItem, nextTags: string[]) {\n  if (character.origin === 'library') {\n    const updatedLibrary = updateLibraryTags(character.id, nextTags);\n    setLibrary(updatedLibrary);\n  } else {\n    const next = updateCharacterTags(character, nextTags);\n    character.tags = next;\n    setCharacters([...state.characters]);\n  }\n}\n\nfunction triggerImport() {\n  importInput.value?.click();\n}\n\nasync function handleImportFiles(event: Event) {\n  const target = event.target as HTMLInputElement | null;\n  const files = target?.files;\n  if (!files || !files.length) {\n    return;\n  }\n  const updated = await addToLibrary(files, state.library);\n  setLibrary(updated);\n  target.value = '';\n}\n\nasync function exportSelected() {\n  const list = filteredCharacters.value;\n  if (!list.length) {\n    toastr.warning('当前没有可导出的角色卡');\n    return;\n  }\n  const tagLabel = selectedTags.value.length ? selectedTags.value.join('、') : '无';\n  const statusLabel =\n    statusFilter.value === 'all'\n      ? '全部'\n      : statusFilter.value === 'imported'\n        ? '已导入'\n        : '未导入';\n  const searchLabel = state.search.trim() || '无';\n  const message =\n    `将导出 ${list.length} 张角色卡。\\n` +\n    `筛选状态：${statusLabel}\\n` +\n    `筛选标签：${tagLabel}\\n` +\n    `搜索关键字：${searchLabel}\\n` +\n    `是否继续？`;\n\n  const result = await openConfirm({\n    title: '批量导出',\n    message,\n    confirmLabel: '继续导出',\n    cancelLabel: '取消',\n  });\n  if (result !== 'confirm') {\n    return;\n  }\n  list.forEach(item => exportCard(item));\n}\n\nasync function handleCardAction(card: CardHubItem) {\n  if (card.origin === 'library') {\n    await importLibraryCard(card);\n  } else {\n    exportCard(card);\n  }\n}\n\nasync function importLibraryCard(card: CardHubItem) {\n  if (!card.raw || !card.rawType) {\n    toastr.error('缺少导入数据');\n    return;\n  }\n  const duplicate = findDuplicateCharacterByName(card.name);\n  if (duplicate) {\n    toastr.warning(`已存在同名角色「${duplicate.name}」，已跳过导入`);\n    return;\n  }\n  const headers = (SillyTavern?.getRequestHeaders ? SillyTavern.getRequestHeaders() : {}) as Record<string, string>;\n  delete (headers as Record<string, string>)['Content-Type'];\n\n  if (card.rawType === 'png') {\n    const blob = await dataUrlToBlob(card.raw);\n    await TavernHelper.importRawCharacter(card.name, blob);\n  } else {\n    const file = new File([card.raw], `${card.name}.json`, { type: 'application/json' });\n    const form = new FormData();\n    form.append('avatar', file);\n    form.append('file_type', 'json');\n    form.append('preserved_name', file.name);\n    await fetch('/api/characters/import', {\n      method: 'POST',\n      headers,\n      body: form,\n      cache: 'no-cache',\n    });\n  }\n\n  setLibrary(removeFromLibrary(card.id));\n  const characters = await fetchCharacterSummaries();\n  setCharacters(characters);\n  toastr.success(`已导入 ${card.name}`);\n}\n\nasync function exportCard(card: CardHubItem) {\n  if (card.origin === 'library') {\n    await exportLibraryCard(card);\n    return;\n  }\n  if (!card.avatar) {\n    toastr.error('无法导出：缺少头像信息');\n    return;\n  }\n  const avatarPath = TavernHelper.getCharAvatarPath(card.avatar);\n  if (!avatarPath) {\n    toastr.error('无法导出：缺少头像信息');\n    return;\n  }\n  const response = await fetch(avatarPath, { cache: 'no-cache' });\n  const blob = await response.blob();\n  downloadBlob(blob, `${card.name}.png`);\n}\n\nasync function exportLibraryCard(card: CardHubItem) {\n  if (!card.raw || !card.rawType) {\n    toastr.error('无法导出：缺少原始数据');\n    return;\n  }\n  if (card.rawType === 'png') {\n    const blob = await dataUrlToBlob(card.raw);\n    downloadBlob(blob, `${card.name}.png`);\n    return;\n  }\n  const blob = new Blob([card.raw], { type: 'application/json' });\n  downloadBlob(blob, `${card.name}.json`);\n}\n\nasync function openManage(card: CardHubItem) {\n  const requestId = ++manageRequestId;\n  manageCard.value = card;\n  manageOpenings.value = [];\n  manageChats.value = [];\n  manageProfile.value = null;\n  manageOpeningSummary.value = null;\n  manageChatSummary.value = null;\n\n  const [manageResult, chatsResult] = await Promise.allSettled([\n    resolveManageData(card),\n    resolveRecentChats(card),\n  ]);\n\n  if (requestId !== manageRequestId || manageCard.value?.id !== card.id) {\n    return;\n  }\n\n  const manageData: ManageData =\n    manageResult.status === 'fulfilled'\n      ? manageResult.value\n      : { openings: [], profile: null, openingSummary: null };\n  manageOpenings.value = manageData.openings;\n  manageProfile.value = manageData.profile;\n  manageOpeningSummary.value = manageData.openingSummary;\n\n  const chatData: ManageChatData =\n    chatsResult.status === 'fulfilled'\n      ? chatsResult.value\n      : { list: [], summary: null };\n  manageChats.value = chatData.list;\n  manageChatSummary.value = chatData.summary;\n}\n\nfunction closeManage() {\n  manageCard.value = null;\n  manageOpenings.value = [];\n  manageChats.value = [];\n  manageProfile.value = null;\n  manageOpeningSummary.value = null;\n  manageChatSummary.value = null;\n}\n\nasync function resolveManageData(card: CardHubItem): Promise<ManageData> {\n  if (card.origin !== 'tavern') {\n    const data = parseLibraryCardData(card);\n    return {\n      openings: extractOpeningMessages(data),\n      profile: extractCardProfile(data),\n      openingSummary: extractOpeningSummary(data),\n    };\n  }\n  const raw = await getFullCharacterData(card);\n  const fallback =\n    raw ??\n    TavernHelper.RawCharacter?.find({ name: card.avatar ?? card.name, allowAvatar: true } as any) ??\n    TavernHelper.RawCharacter?.find({ name: card.name, allowAvatar: true } as any);\n  const primary = raw ?? fallback;\n  let openings = extractOpeningMessages(primary);\n  if (!openings.length && fallback && fallback !== primary) {\n    openings = extractOpeningMessages(fallback);\n  }\n  const openingSummary = extractOpeningSummary(primary ?? fallback);\n  return {\n    openings,\n    profile: extractCardProfile(primary ?? fallback),\n    openingSummary,\n  };\n}\n\nfunction parseLibraryCardData(card: CardHubItem): any | null {\n  if (!card.raw || !card.rawType) {\n    return null;\n  }\n  if (card.rawType === 'json') {\n    return parseJsonSafe(card.raw);\n  }\n  if (card.rawType === 'png') {\n    return parsePngCardData(card.raw);\n  }\n  return null;\n}\n\nfunction parseJsonSafe(raw: string): any | null {\n  try {\n    return JSON.parse(raw);\n  } catch {\n    return null;\n  }\n}\n\nfunction parsePngCardData(dataUrl: string): any | null {\n  const bytes = dataUrlToBytes(dataUrl);\n  if (!bytes) {\n    return null;\n  }\n  const chunks = extractPngTextChunks(bytes);\n  const allowedKeys = new Set(['chara', 'character', 'tavern', 'tavern_character', 'card']);\n  for (const chunk of chunks) {\n    if (chunk.key && !allowedKeys.has(chunk.key.toLowerCase())) {\n      continue;\n    }\n    const parsed = parseCardPayload(chunk.value);\n    if (parsed) {\n      return parsed;\n    }\n  }\n  return null;\n}\n\nfunction dataUrlToBytes(dataUrl: string): Uint8Array | null {\n  const comma = dataUrl.indexOf(',');\n  if (comma < 0) {\n    return null;\n  }\n  const base64 = dataUrl.slice(comma + 1);\n  try {\n    const binary = atob(base64);\n    const bytes = new Uint8Array(binary.length);\n    for (let i = 0; i < binary.length; i += 1) {\n      bytes[i] = binary.charCodeAt(i);\n    }\n    return bytes;\n  } catch {\n    return null;\n  }\n}\n\nfunction extractPngTextChunks(bytes: Uint8Array): Array<{ key: string; value: string }> {\n  if (bytes.length < 8) {\n    return [];\n  }\n  const signature = [137, 80, 78, 71, 13, 10, 26, 10];\n  for (let i = 0; i < signature.length; i += 1) {\n    if (bytes[i] !== signature[i]) {\n      return [];\n    }\n  }\n  const chunks: Array<{ key: string; value: string }> = [];\n  let offset = 8;\n  while (offset + 8 <= bytes.length) {\n    const length = readUint32BE(bytes, offset);\n    const type = bytesToString(bytes.subarray(offset + 4, offset + 8));\n    const dataStart = offset + 8;\n    const dataEnd = dataStart + length;\n    if (dataEnd + 4 > bytes.length) {\n      break;\n    }\n    const data = bytes.subarray(dataStart, dataEnd);\n    if (type === 'tEXt') {\n      const entry = parseTextChunk(data);\n      if (entry) {\n        chunks.push(entry);\n      }\n    } else if (type === 'iTXt') {\n      const entry = parseIntlTextChunk(data);\n      if (entry) {\n        chunks.push(entry);\n      }\n    }\n    offset = dataEnd + 4;\n  }\n  return chunks;\n}\n\nfunction parseTextChunk(data: Uint8Array): { key: string; value: string } | null {\n  const nullIndex = data.indexOf(0);\n  if (nullIndex < 0) {\n    return null;\n  }\n  const key = bytesToString(data.subarray(0, nullIndex)).trim();\n  const value = bytesToString(data.subarray(nullIndex + 1)).trim();\n  if (!key || !value) {\n    return null;\n  }\n  return { key, value };\n}\n\nfunction parseIntlTextChunk(data: Uint8Array): { key: string; value: string } | null {\n  const nullIndex = data.indexOf(0);\n  if (nullIndex < 0 || nullIndex + 2 >= data.length) {\n    return null;\n  }\n  const key = bytesToString(data.subarray(0, nullIndex)).trim();\n  const compressed = data[nullIndex + 1] === 1;\n  let cursor = nullIndex + 2;\n  const langEnd = data.indexOf(0, cursor);\n  if (langEnd < 0) {\n    return null;\n  }\n  cursor = langEnd + 1;\n  const translatedEnd = data.indexOf(0, cursor);\n  if (translatedEnd < 0) {\n    return null;\n  }\n  cursor = translatedEnd + 1;\n  if (compressed) {\n    return null;\n  }\n  const value = bytesToString(data.subarray(cursor)).trim();\n  if (!key || !value) {\n    return null;\n  }\n  return { key, value };\n}\n\nfunction parseCardPayload(value: string): any | null {\n  const trimmed = value.trim();\n  if (!trimmed) {\n    return null;\n  }\n  const direct = parseJsonSafe(trimmed);\n  if (direct) {\n    return direct;\n  }\n  if (!isLikelyBase64(trimmed)) {\n    return null;\n  }\n  const decoded = decodeBase64Text(trimmed);\n  if (!decoded) {\n    return null;\n  }\n  return parseJsonSafe(decoded);\n}\n\nfunction decodeBase64Text(value: string): string | null {\n  try {\n    const binary = atob(value);\n    const bytes = new Uint8Array(binary.length);\n    for (let i = 0; i < binary.length; i += 1) {\n      bytes[i] = binary.charCodeAt(i);\n    }\n    return new TextDecoder().decode(bytes);\n  } catch {\n    return null;\n  }\n}\n\nfunction isLikelyBase64(value: string): boolean {\n  if (value.length < 16 || value.length % 4 !== 0) {\n    return false;\n  }\n  return /^[A-Za-z0-9+/=]+$/.test(value);\n}\n\nfunction readUint32BE(bytes: Uint8Array, offset: number): number {\n  return (\n    (bytes[offset] << 24) |\n    (bytes[offset + 1] << 16) |\n    (bytes[offset + 2] << 8) |\n    bytes[offset + 3]\n  ) >>> 0;\n}\n\nfunction bytesToString(bytes: Uint8Array): string {\n  return new TextDecoder().decode(bytes);\n}\n\nasync function getFullCharacterData(card: CardHubItem): Promise<SillyTavern.v1CharData | null> {\n  let st: typeof SillyTavern | undefined;\n  try {\n    st = window.parent?.SillyTavern;\n  } catch {\n    st = undefined;\n  }\n  st ??= SillyTavern;\n  const ctx = typeof st?.getContext === 'function' ? st.getContext() : null;\n  if (ctx?.getCharacters) {\n    try {\n      await ctx.getCharacters();\n    } catch (error) {\n      console.warn('[CardHub] 刷新角色卡列表失败', error);\n    }\n  }\n  const list = ctx?.characters ?? st?.characters ?? [];\n  if (!list.length) {\n    return null;\n  }\n  const byAvatar = card.avatar\n    ? list.findIndex(item => item.avatar === card.avatar || item.name === card.avatar)\n    : -1;\n  const byName = list.findIndex(item => item.name === card.name);\n  const idx = byAvatar >= 0 ? byAvatar : byName;\n  if (idx < 0) {\n    return null;\n  }\n  if (ctx?.unshallowCharacter) {\n    try {\n      await ctx.unshallowCharacter(idx);\n    } catch (error) {\n      console.warn('[CardHub] 读取角色卡详情失败', error);\n    }\n  }\n  const updatedList = ctx?.characters ?? list;\n  const data = updatedList[idx] ?? null;\n  if (data?.first_mes || data?.data?.first_mes) {\n    return data;\n  }\n  if (ctx?.getCharacterCardFields) {\n    try {\n      const fields = await ctx.getCharacterCardFields({ chid: idx });\n      if (fields?.first_mes || fields?.data?.first_mes) {\n        return fields;\n      }\n    } catch (error) {\n      console.warn('[CardHub] 读取角色卡字段失败', error);\n    }\n  }\n  const fallback = TavernHelper.getCharData(card.avatar ?? card.name, true);\n  return fallback ?? data;\n}\n\nfunction extractCardProfile(data: any): ManageProfile | null {\n  if (!data) {\n    return null;\n  }\n  const profile: ManageProfile = {\n    description: pickString(data?.description, data?.data?.description),\n    personality: pickString(data?.personality, data?.data?.personality),\n    scenario: pickString(data?.scenario, data?.data?.scenario),\n    creatorNotes: pickString(\n      data?.creatorcomment,\n      data?.data?.creatorcomment,\n      data?.creator_notes,\n      data?.data?.creator_notes,\n    ),\n    systemPrompt: pickString(data?.system_prompt, data?.data?.system_prompt),\n    postHistory: pickString(\n      data?.post_history_instructions,\n      data?.data?.post_history_instructions,\n    ),\n    creator: pickString(data?.creator, data?.data?.creator),\n  };\n  const book = data?.character_book ?? data?.data?.character_book;\n  if (book) {\n    profile.worldBookName = pickString(book?.name);\n    profile.worldBookCount = Array.isArray(book?.entries) ? book.entries.length : undefined;\n  }\n  const hasValue =\n    Boolean(profile.description) ||\n    Boolean(profile.personality) ||\n    Boolean(profile.scenario) ||\n    Boolean(profile.creatorNotes) ||\n    Boolean(profile.systemPrompt) ||\n    Boolean(profile.postHistory) ||\n    Boolean(profile.creator) ||\n    Boolean(profile.worldBookName) ||\n    typeof profile.worldBookCount === 'number';\n  return hasValue ? profile : null;\n}\n\nfunction pickString(...values: unknown[]): string {\n  for (const value of values) {\n    if (typeof value === 'string') {\n      const trimmed = value.trim();\n      if (trimmed) {\n        return trimmed;\n      }\n    }\n  }\n  return '';\n}\n\nfunction extractOpeningSummary(data: any): ManageOpeningSummary | null {\n  if (!data) {\n    return null;\n  }\n  const first = typeof data?.first_mes === 'string' ? data.first_mes : data?.data?.first_mes;\n  const firstCount = typeof first === 'string' && first.trim() ? 1 : 0;\n  const alt =\n    data?.alternate_greetings ??\n    data?.data?.alternate_greetings ??\n    data?.extensions?.alternate_greetings ??\n    data?.data?.extensions?.alternate_greetings;\n  let alternate = 0;\n  if (Array.isArray(alt)) {\n    alternate = alt.filter(item => typeof item === 'string' && item.trim()).length;\n  } else if (typeof alt === 'string' && alt.trim()) {\n    alternate = 1;\n  }\n  return {\n    total: firstCount + alternate,\n    alternate,\n  };\n}\n\nfunction extractOpeningMessages(data: any): string[] {\n  if (!data) {\n    return [];\n  }\n  const list: string[] = [];\n  const first = typeof data?.first_mes === 'string' ? data.first_mes : data?.data?.first_mes;\n  if (typeof first === 'string' && first.trim()) {\n    list.push(first.trim());\n  }\n  const alt =\n    data?.alternate_greetings ??\n    data?.data?.alternate_greetings ??\n    data?.extensions?.alternate_greetings ??\n    data?.data?.extensions?.alternate_greetings;\n  if (Array.isArray(alt)) {\n    alt.forEach(item => {\n      if (typeof item === 'string' && item.trim()) {\n        list.push(item.trim());\n      }\n    });\n  } else if (typeof alt === 'string' && alt.trim()) {\n    list.push(alt.trim());\n  }\n  return list;\n}\n\nfunction normalizeBriefMessage(value: string): string {\n  return value\n    .replace(/<br\\s*\\/?>/gi, ' ')\n    .replace(/<[^>]+>/g, ' ')\n    .replace(/\\s+/g, ' ')\n    .trim();\n}\n\nfunction formatMaybeTimestamp(value: unknown): string {\n  if (typeof value === 'number' && !Number.isNaN(value)) {\n    const ms = value < 1e12 ? value * 1000 : value;\n    return new Date(ms).toLocaleString('zh-CN', { hour12: false });\n  }\n  if (typeof value === 'string') {\n    const trimmed = value.trim();\n    if (trimmed) {\n      return trimmed;\n    }\n  }\n  return '';\n}\n\nfunction extractChatLatestLabel(entry: any): string {\n  const candidates = [\n    entry?.last_message_time,\n    entry?.last_message_date,\n    entry?.update_time,\n    entry?.last_modified,\n    entry?.create_date,\n    entry?.timestamp,\n    entry?.time,\n  ];\n  for (const value of candidates) {\n    const label = formatMaybeTimestamp(value);\n    if (label) {\n      return label;\n    }\n  }\n  const fallback = pickString(entry?.file_name, entry?.file_id);\n  if (!fallback) {\n    return '';\n  }\n  return fallback.replace(/\\.jsonl$/i, '');\n}\n\nfunction formatChatTitle(entry: any): string {\n  const label = extractChatLatestLabel(entry);\n  return label || '聊天记录';\n}\n\nfunction formatChatFileLabel(entry: any): string {\n  const raw = pickString(entry?.file_name, entry?.file_id);\n  if (!raw) {\n    return '';\n  }\n  return raw.replace(/\\.jsonl$/i, '');\n}\n\nfunction extractChatKeywords(value: string, max = 3): string[] {\n  const normalized = normalizeBriefMessage(value);\n  if (!normalized) {\n    return [];\n  }\n  const keywords = new Set<string>();\n  const stopWords = new Set([\n    'the',\n    'and',\n    'you',\n    'your',\n    'are',\n    'this',\n    'that',\n    'with',\n    'have',\n    'not',\n    'for',\n    'from',\n    'what',\n    'why',\n    'when',\n    'where',\n    'then',\n    'into',\n    'out',\n    'here',\n    'there',\n    '这个',\n    '那个',\n    '我们',\n    '你们',\n    '他们',\n    '她们',\n    '因为',\n    '但是',\n    '然后',\n    '如果',\n    '可以',\n    '没有',\n    '不是',\n    '已经',\n    '现在',\n    '一个',\n    '一些',\n    '还有',\n    '所以',\n    '这种',\n  ]);\n  const bracketMatches = normalized.match(/\\[[^\\]]{2,16}\\]/g) ?? [];\n  for (const match of bracketMatches) {\n    const cleaned = match.slice(1, -1).trim();\n    if (cleaned) {\n      keywords.add(cleaned);\n    }\n    if (keywords.size >= max) {\n      return Array.from(keywords).slice(0, max);\n    }\n  }\n  const wordMatches = normalized.match(/[\\u4e00-\\u9fa5]{2,}|[A-Za-z0-9]{3,}/g) ?? [];\n  for (const word of wordMatches) {\n    const lower = word.toLowerCase();\n    if (stopWords.has(word) || stopWords.has(lower)) {\n      continue;\n    }\n    keywords.add(word);\n    if (keywords.size >= max) {\n      break;\n    }\n  }\n  return Array.from(keywords).slice(0, max);\n}\n\nfunction previewDetailText(text: string, maxLines: number, maxChars: number): string {\n  const trimmed = text.replace(/\\r/g, '').trim();\n  if (!trimmed) {\n    return '';\n  }\n  const lines = extractContentLines(trimmed);\n  const source = lines.length ? lines : chunkText(normalizeBriefMessage(trimmed), 60);\n  let preview = source.slice(0, maxLines).join('\\n').trim();\n  if (!preview) {\n    return '';\n  }\n  const truncated = preview.length > maxChars;\n  if (truncated) {\n    preview = preview.slice(0, maxChars).trim();\n  }\n  const hasMore = truncated || source.length > maxLines || trimmed.length > preview.length;\n  if (hasMore && !preview.endsWith('…')) {\n    preview = `${preview}…`;\n  }\n  return preview;\n}\n\nfunction previewOpenings(openings: string[], maxItems: number): string[] {\n  return openings\n    .map(opening => previewOpeningLines(opening, 2).join('\\n'))\n    .filter(preview => preview.trim().length > 0)\n    .slice(0, maxItems);\n}\n\nfunction previewOpeningLines(text: string, maxLines: number): string[] {\n  const trimmed = text.replace(/\\r/g, '').trim();\n  if (!trimmed) {\n    return [];\n  }\n  const contentLines = extractContentLines(trimmed);\n  if (contentLines.length >= maxLines) {\n    return contentLines.slice(0, maxLines);\n  }\n  const normalized = normalizeBriefMessage(trimmed);\n  if (!normalized) {\n    return contentLines.slice(0, maxLines);\n  }\n  const chunks = chunkText(normalized, 60);\n  if (!contentLines.length) {\n    return chunks.slice(0, maxLines);\n  }\n  const combined = [...contentLines];\n  for (const chunk of chunks) {\n    if (combined.length >= maxLines) {\n      break;\n    }\n    if (combined[0] !== chunk) {\n      combined.push(chunk);\n    }\n  }\n  return combined.slice(0, maxLines);\n}\n\nfunction extractContentLines(text: string): string[] {\n  const lines = text\n    .split('\\n')\n    .map(part => part.trim())\n    .filter(part => part.length > 0);\n  const filtered: string[] = [];\n  for (const line of lines) {\n    if (line.startsWith('```')) {\n      continue;\n    }\n    if (/^<\\/?(html|head|body|meta|title|script|style|!doctype)\\b/i.test(line)) {\n      continue;\n    }\n    filtered.push(line);\n  }\n  return filtered;\n}\n\nfunction chunkText(text: string, size: number): string[] {\n  const chunks: string[] = [];\n  for (let i = 0; i < text.length; i += size) {\n    const chunk = text.slice(i, i + size).trim();\n    if (chunk) {\n      chunks.push(chunk);\n    }\n  }\n  return chunks;\n}\n\nasync function resolveRecentChats(card: CardHubItem): Promise<ManageChatData> {\n  if (card.origin !== 'tavern') {\n    return { list: [], summary: null };\n  }\n  const brief = await TavernHelper.getChatHistoryBrief(card.avatar ?? card.name, true);\n  if (!Array.isArray(brief) || !brief.length) {\n    return { list: [], summary: { total: 0, latest: '' } };\n  }\n  const list = brief.slice(0, 3).map((entry: any) => ({\n    name: formatChatTitle(entry),\n    label: formatChatFileLabel(entry),\n    file: String(entry?.file_name ?? entry?.file_id ?? ''),\n    mes: normalizeBriefMessage(String(entry?.mes ?? '')).slice(0, 120),\n    keywords: extractChatKeywords(String(entry?.mes ?? '')),\n  }));\n  const latest = extractChatLatestLabel(brief[0]);\n  return {\n    list,\n    summary: {\n      total: brief.length,\n      latest,\n    },\n  };\n}\n\nasync function openLatestChat() {\n  if (!manageChats.value.length) {\n    toastr.warning('暂无聊天记录');\n    return;\n  }\n  await openChat(manageChats.value[0]);\n}\n\nasync function openNewChat() {\n  const selection = await selectManageCharacter({ ensureSelected: true });\n  if (!selection) {\n    return;\n  }\n  try {\n    await triggerSlash('/newchat');\n    closeManage();\n    close();\n  } catch (error) {\n    console.warn('[CardHub] 新聊天失败', error);\n    toastr.error('无法创建新聊天');\n  }\n}\n\nasync function openChat(chat: { file: string }) {\n  const file = chat.file;\n  if (!file) {\n    toastr.warning('未找到聊天文件');\n    return;\n  }\n  const selection = await selectManageCharacter({ ensureSelected: true });\n  if (!selection) {\n    return;\n  }\n  const { ctx, st } = selection;\n  const target = normalizeChatId(file);\n  const opener =\n    (ctx && typeof ctx.openCharacterChat === 'function' ? ctx.openCharacterChat : null) ??\n    (st && typeof st.openCharacterChat === 'function' ? st.openCharacterChat : null);\n  if (!opener) {\n    toastr.error('无法打开聊天：缺少接口');\n    return;\n  }\n  try {\n    void Promise.resolve(opener(target)).catch(error => {\n      console.warn('[CardHub] 打开聊天失败', error);\n    });\n  } catch (error) {\n    console.warn('[CardHub] 打开聊天失败', error);\n  }\n  const opened = await waitForChatOpen(target, ctx, st, 6000);\n  if (opened) {\n    closeManage();\n    close();\n    return;\n  }\n  toastr.warning('未能打开聊天，可能需要先手动切到该角色');\n}\n\nasync function selectManageCharacter(\n  options: { ensureSelected?: boolean } = {},\n): Promise<{ ctx: any; st: typeof SillyTavern | undefined; idx: number } | null> {\n  let st: typeof SillyTavern | undefined;\n  try {\n    st = window.parent?.SillyTavern;\n  } catch {\n    st = undefined;\n  }\n  st ??= SillyTavern;\n  const ctx = typeof st?.getContext === 'function' ? st.getContext() : null;\n  if (typeof ctx?.getCharacters === 'function') {\n    try {\n      await ctx.getCharacters();\n    } catch (error) {\n      console.warn('[CardHub] 刷新角色列表失败', error);\n    }\n  }\n  const list = ctx?.characters ?? st?.characters ?? [];\n  const idx = manageCard.value && Array.isArray(list) ? findCharacterIndex(list, manageCard.value) : -1;\n  if (idx < 0) {\n    toastr.warning('未找到角色索引，请先手动切到该角色后再试');\n    return null;\n  }\n  const selector =\n    (ctx && typeof ctx.selectCharacterById === 'function' ? ctx.selectCharacterById : null) ??\n    (st && typeof st.selectCharacterById === 'function' ? st.selectCharacterById : null);\n  if (!selector) {\n    toastr.warning('无法切换角色，请先手动切到该角色后再试');\n    return null;\n  }\n  try {\n    await selector(idx, { switchMenu: false });\n  } catch (error) {\n    console.warn('[CardHub] 切换角色失败', error);\n  }\n  const selected = await waitForCharacterSelection(idx, ctx, st, 3000);\n  if (options.ensureSelected && !selected) {\n    toastr.warning('角色切换未完成，请稍后再试');\n    return null;\n  }\n  return { ctx, st, idx };\n}\n\nasync function waitForCharacterSelection(\n  idx: number,\n  ctx: any,\n  st: typeof SillyTavern | undefined,\n  timeoutMs: number,\n): Promise<boolean> {\n  const target = String(idx);\n  const start = Date.now();\n  while (Date.now() - start < timeoutMs) {\n    const current = getCurrentCharacterId(ctx, st);\n    if (current === target) {\n      return true;\n    }\n    await sleep(80);\n  }\n  return false;\n}\n\nfunction getCurrentCharacterId(ctx: any, st: typeof SillyTavern | undefined): string {\n  const value = ctx?.characterId ?? st?.characterId ?? '';\n  return value === undefined || value === null ? '' : String(value);\n}\n\nfunction sleep(ms: number): Promise<void> {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n\nfunction findCharacterIndex(list: SillyTavern.v1CharData[], card: CardHubItem): number {\n  if (card.avatar) {\n    const byAvatar = list.findIndex(item => item.avatar === card.avatar || item.name === card.avatar);\n    if (byAvatar >= 0) {\n      return byAvatar;\n    }\n  }\n  return list.findIndex(item => item.name === card.name);\n}\n\nfunction normalizeChatId(id: string): string {\n  return id.endsWith('.jsonl') ? id : `${id}.jsonl`;\n}\n\nasync function waitForChatOpen(\n  file: string,\n  ctx: any,\n  st: typeof SillyTavern | undefined,\n  timeoutMs: number,\n): Promise<boolean> {\n  const target = normalizeChatId(file);\n  const start = Date.now();\n  while (Date.now() - start < timeoutMs) {\n    const current = ctx?.chatId ?? st?.chatId;\n    if (current === target) {\n      return true;\n    }\n    await new Promise(resolve => setTimeout(resolve, 200));\n  }\n  return false;\n}\n\nasync function manageDelete(card: CardHubItem) {\n  if (card.origin === 'library') {\n    const confirmDelete = await openConfirm({\n      title: '删除角色',\n      message: `确认永久删除「${card.name}」？此操作不可恢复。`,\n      confirmLabel: '删除',\n      cancelLabel: '取消',\n    });\n    if (confirmDelete !== 'confirm') {\n      return;\n    }\n    setLibrary(removeFromLibrary(card.id));\n    closeManage();\n    return;\n  }\n\n  const confirmDelete = await openConfirm({\n    title: '删除角色',\n    message: `确定要删除「${card.name}」吗？`,\n    confirmLabel: '继续',\n    cancelLabel: '取消',\n  });\n  if (confirmDelete !== 'confirm') {\n    return;\n  }\n  const deleteChoice = await openConfirm({\n    title: '删除方式',\n    message:\n      `删除「${card.name}」：\\n` +\n      `- 移到私有库：可在私有库中找回\\n` +\n      `- 永久删除：不可恢复`,\n    confirmLabel: '移到私有库',\n    altLabel: '永久删除',\n    cancelLabel: '取消',\n  });\n  if (deleteChoice === 'cancel') {\n    return;\n  }\n  if (deleteChoice === 'confirm') {\n    await moveToLibrary(card);\n    const deleted = await deleteFromTavern(card, false);\n    if (!deleted) {\n      return;\n    }\n    closeManage();\n    const characters = await fetchCharacterSummaries();\n    setCharacters(characters);\n    return;\n  }\n  const confirmPermanent = await openConfirm({\n    title: '永久删除',\n    message: `确认永久删除「${card.name}」？此操作不可恢复。`,\n    confirmLabel: '永久删除',\n    cancelLabel: '取消',\n  });\n  if (confirmPermanent !== 'confirm') {\n    return;\n  }\n  const deleted = await deleteFromTavern(card, true);\n  if (!deleted) {\n    return;\n  }\n  closeManage();\n  const characters = await fetchCharacterSummaries();\n  setCharacters(characters);\n}\n\nasync function moveToLibrary(card: CardHubItem) {\n  if (!card.avatar) {\n    return;\n  }\n  const avatarPath = TavernHelper.getCharAvatarPath(card.avatar);\n  if (!avatarPath) {\n    toastr.error('无法导出：缺少头像信息');\n    return;\n  }\n  const response = await fetch(avatarPath, { cache: 'no-cache' });\n  const blob = await response.blob();\n  const updated = await addToLibrary([\n    new File([blob], `${card.name}.png`, { type: 'image/png' }),\n  ]);\n  setLibrary(updated);\n}\n\nasync function deleteFromTavern(card: CardHubItem, deleteChats: boolean): Promise<boolean> {\n  if (!card.avatar) {\n    toastr.error('删除失败：缺少头像信息');\n    return false;\n  }\n  let st: typeof SillyTavern | undefined;\n  try {\n    st = window.parent?.SillyTavern;\n  } catch {\n    st = undefined;\n  }\n  st ??= SillyTavern;\n  const ctx = typeof st?.getContext === 'function' ? st.getContext() : null;\n  const headers = (ctx?.getRequestHeaders ? ctx.getRequestHeaders() : st?.getRequestHeaders?.()) as\n    | Record<string, string>\n    | undefined;\n  if (!headers || !Object.keys(headers).length) {\n    toastr.error('删除失败：无法获取请求头');\n    return false;\n  }\n  const payload = { avatar_url: card.avatar, delete_chats: deleteChats };\n  const response = await fetch('/api/characters/delete', {\n    method: 'POST',\n    headers: { ...headers, 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload),\n    cache: 'no-cache',\n  });\n  if (response.ok) {\n    return true;\n  }\n  const detail = await response.text();\n  toastr.error(`删除失败：${response.status} ${detail || response.statusText}`);\n  return false;\n}\n\nfunction downloadBlob(blob: Blob, fileName: string) {\n  const url = URL.createObjectURL(blob);\n  const a = document.createElement('a');\n  a.href = url;\n  a.download = fileName;\n  document.body.appendChild(a);\n  a.click();\n  a.remove();\n  URL.revokeObjectURL(url);\n}\n\n\n\nasync function dataUrlToBlob(dataUrl: string): Promise<Blob> {\n  const response = await fetch(dataUrl);\n  return await response.blob();\n}\n\n\nasync function refresh() {\n  setLoading(true);\n  try {\n    const characters = await fetchCharacterSummaries();\n    setCharacters(characters);\n    setLibrary(loadLibrary());\n  } finally {\n    setLoading(false);\n  }\n}\n\nfunction close() {\n  setOpen(false);\n}\n\n</script>\n\n<style scoped>\n.cardhub-root {\n  position: fixed;\n  inset: 0;\n  z-index: 9999;\n  font-family: \"ZCOOL XiaoWei\", \"STSong\", \"Songti SC\", \"SimSun\", serif;\n  color: #1b1b1b;\n  display: none;\n  align-items: center;\n  justify-content: center;\n}\n\n.cardhub-root.open {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.cardhub-backdrop {\n  position: absolute;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.4);\n  backdrop-filter: blur(6px);\n  opacity: 0;\n  transition: opacity 180ms ease;\n}\n\n.cardhub-root.open .cardhub-backdrop {\n  opacity: 1;\n}\n\n.cardhub-panel {\n  position: relative;\n  width: min(980px, 94%);\n  max-height: 92%;\n  background: linear-gradient(160deg, #fff9f0, #f3e4d4);\n  border-radius: 28px;\n  box-shadow: 0 30px 90px rgba(0, 0, 0, 0.28);\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  z-index: 1;\n  opacity: 0;\n  transform: translateY(8px) scale(0.985);\n  transition: opacity 180ms ease, transform 180ms ease;\n}\n\n.cardhub-root.open .cardhub-panel {\n  opacity: 1;\n  transform: translateY(0) scale(1);\n}\n\n.cardhub-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 20px 24px;\n  border-bottom: 1px solid rgba(86, 59, 44, 0.15);\n}\n\n.cardhub-title__main {\n  font-size: 26px;\n  letter-spacing: 2px;\n}\n\n.cardhub-title__sub {\n  font-size: 12px;\n  color: #7d5b46;\n  margin-left: 10px;\n}\n\n.cardhub-actions {\n  display: flex;\n  gap: 10px;\n}\n\n.cardhub-close {\n  border: none;\n  background: rgba(43, 32, 24, 0.12);\n  color: #3b2a20;\n  width: 34px;\n  height: 34px;\n  border-radius: 999px;\n  font-size: 20px;\n  line-height: 34px;\n  text-align: center;\n  cursor: pointer;\n  transition: background-color 160ms ease, transform 120ms ease;\n}\n\n.cardhub-close:hover {\n  background: rgba(43, 32, 24, 0.2);\n}\n\n.cardhub-close:active {\n  transform: scale(0.96);\n}\n\n.cardhub-toolbar {\n  display: flex;\n  gap: 8px;\n  padding: 12px 20px;\n  flex-wrap: wrap;\n}\n\n.cardhub-search {\n  flex: 1;\n  min-width: 180px;\n  border-radius: 999px;\n  border: 1px solid rgba(86, 59, 44, 0.2);\n  padding: 6px 12px;\n  background: #fffaf4;\n}\n\n.cardhub-button {\n  border: none;\n  padding: 6px 14px;\n  border-radius: 999px;\n  background: #d46b3d;\n  color: #fff;\n  cursor: pointer;\n  font-size: 12px;\n  transition: background-color 160ms ease, transform 120ms ease, box-shadow 160ms ease;\n}\n\n.cardhub-button:hover {\n  background: #c55f36;\n  box-shadow: 0 6px 14px rgba(43, 32, 24, 0.18);\n}\n\n.cardhub-button:active {\n  transform: translateY(1px);\n}\n\n.cardhub-button.is-ghost {\n  background: transparent;\n  color: #6a3f2a;\n  border: 1px solid rgba(106, 63, 42, 0.4);\n}\n\n.cardhub-button.is-ghost:hover {\n  background: rgba(106, 63, 42, 0.08);\n  border-color: rgba(106, 63, 42, 0.6);\n  box-shadow: none;\n}\n\n.cardhub-import-input {\n  display: none;\n}\n\n.cardhub-body {\n  display: grid;\n  grid-template-columns: minmax(160px, 220px) 1fr;\n  gap: 0;\n  flex: 1;\n  min-height: 0;\n}\n\n.cardhub-sidebar {\n  padding: 20px;\n  border-right: 1px solid rgba(86, 59, 44, 0.15);\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.cardhub-chip-row {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n}\n\n.cardhub-divider {\n  height: 1px;\n  width: 100%;\n  background: rgba(86, 59, 44, 0.15);\n  margin: 8px 0;\n}\n\n.cardhub-section-title {\n  font-size: 12px;\n  color: #7d5b46;\n  text-transform: uppercase;\n  letter-spacing: 1px;\n}\n\n.cardhub-chip {\n  text-align: left;\n  border: none;\n  background: rgba(255, 255, 255, 0.6);\n  border-radius: 12px;\n  padding: 8px 10px;\n  cursor: pointer;\n  font-size: 12px;\n  transition: background-color 160ms ease, color 160ms ease, transform 120ms ease;\n}\n\n.cardhub-chip.is-active {\n  background: #2b2018;\n  color: #fff5ea;\n}\n\n.cardhub-chip:not(.is-active):hover {\n  background: rgba(255, 255, 255, 0.9);\n  transform: translateY(-1px);\n}\n\n.cardhub-placeholder {\n  font-size: 12px;\n  color: #9a7a63;\n}\n\n.cardhub-tag-filter {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n}\n\n.cardhub-tag-filter__chip {\n  border: 1px solid rgba(106, 63, 42, 0.25);\n  background: rgba(255, 255, 255, 0.7);\n  border-radius: 999px;\n  padding: 6px 10px;\n  font-size: 12px;\n  color: #6a3f2a;\n  cursor: pointer;\n  transition: background-color 160ms ease, color 160ms ease, border-color 160ms ease, transform 120ms ease;\n}\n\n.cardhub-tag-filter__chip.is-active {\n  background: #2b2018;\n  color: #fff5ea;\n  border-color: transparent;\n}\n\n.cardhub-tag-filter__chip:not(.is-active):hover {\n  border-color: rgba(106, 63, 42, 0.45);\n  background: rgba(255, 255, 255, 0.9);\n  transform: translateY(-1px);\n}\n\n.cardhub-chip--clear {\n  margin-top: 8px;\n}\n\n  .cardhub-content {\n    padding: 20px;\n    overflow: auto;\n    flex: 1;\n    min-height: 0;\n  }\n\n.cardhub-grid-wrap {\n  display: grid;\n  gap: 12px;\n}\n\n.cardhub-pagination {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  gap: 10px;\n  flex-wrap: wrap;\n}\n\n.cardhub-pagination__status {\n  font-size: 12px;\n  color: #7d5b46;\n}\n\n.cardhub-pagination__actions {\n  display: flex;\n  gap: 8px;\n  align-items: center;\n  margin-right: auto;\n}\n\n.cardhub-pagination__button {\n  border: 1px solid rgba(106, 63, 42, 0.35);\n  background: rgba(255, 255, 255, 0.85);\n  color: #6a3f2a;\n  border-radius: 999px;\n  padding: 4px 10px;\n  font-size: 11px;\n  cursor: pointer;\n  transition: background-color 160ms ease, border-color 160ms ease, transform 120ms ease;\n}\n\n.cardhub-pagination__button:disabled {\n  opacity: 0.4;\n  cursor: default;\n}\n\n.cardhub-pagination__button:not(:disabled):hover {\n  background: rgba(255, 255, 255, 1);\n  border-color: rgba(106, 63, 42, 0.6);\n  transform: translateY(-1px);\n}\n\n.cardhub-pagination__button:not(:disabled):active {\n  transform: translateY(0);\n}\n\n.cardhub-loading,\n.cardhub-empty {\n  padding: 40px 0;\n  text-align: center;\n  color: #7d5b46;\n}\n\n.cardhub-grid {\n  display: grid;\n  gap: 14px;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  justify-items: center;\n}\n\n.cardhub-card {\n  background: rgba(255, 255, 255, 0.78);\n  border-radius: 18px;\n  padding: 14px;\n  display: grid;\n  grid-template-columns: auto 1fr;\n  gap: 12px;\n  align-items: center;\n  border: 1px solid rgba(86, 59, 44, 0.15);\n  cursor: pointer;\n  transition: transform 140ms ease, box-shadow 180ms ease, border-color 180ms ease;\n  width: 100%;\n  max-width: 260px;\n}\n\n.cardhub-card:hover {\n  transform: translateY(-2px);\n  border-color: rgba(86, 59, 44, 0.25);\n  box-shadow: 0 12px 26px rgba(43, 32, 24, 0.16);\n}\n\n.cardhub-card:active {\n  transform: translateY(0);\n}\n\n.cardhub-card__avatar {\n  width: 42px;\n  height: 42px;\n  border-radius: 12px;\n  background: linear-gradient(135deg, #f4d7c4, #d36a3b);\n  background-size: cover;\n  background-position: center;\n  color: #4a2a1f;\n  display: grid;\n  place-items: center;\n  font-weight: 700;\n}\n\n.cardhub-card__avatar.has-avatar span {\n  display: none;\n}\n\n.cardhub-card__name {\n  font-size: 14px;\n  font-weight: 600;\n}\n\n.cardhub-card__meta {\n  display: flex;\n  gap: 8px;\n  font-size: 11px;\n  color: #7d5b46;\n}\n\n.cardhub-card__tags {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 6px;\n  margin-top: 8px;\n  align-items: center;\n}\n\n.cardhub-tag {\n  border: 1px solid rgba(106, 63, 42, 0.3);\n  background: #fff6ea;\n  border-radius: 999px;\n  padding: 4px 8px;\n  font-size: 11px;\n  color: #6a3f2a;\n  cursor: pointer;\n  transition: background-color 160ms ease, border-color 160ms ease, transform 120ms ease;\n}\n\n.cardhub-tag:hover {\n  background: #fffaf4;\n  border-color: rgba(106, 63, 42, 0.5);\n  transform: translateY(-1px);\n}\n\n.cardhub-tag__remove {\n  margin-left: 4px;\n  font-weight: 700;\n}\n\n.cardhub-tag.is-add {\n  background: transparent;\n  border-style: dashed;\n}\n\n.cardhub-tag-input {\n  border: 1px dashed rgba(106, 63, 42, 0.5);\n  background: #fffaf4;\n  border-radius: 999px;\n  padding: 4px 10px;\n  font-size: 11px;\n  min-width: 80px;\n  color: #6a3f2a;\n  outline: none;\n  height: 24px;\n  line-height: 16px;\n}\n\n.cardhub-tag-input:focus {\n  border-color: rgba(106, 63, 42, 0.85);\n}\n\n.cardhub-card__action {\n  grid-column: span 2;\n  margin-top: 10px;\n  border: none;\n  background: #2b2018;\n  color: #fff5ea;\n  padding: 6px 12px;\n  border-radius: 12px;\n  font-size: 12px;\n  cursor: pointer;\n  transition: transform 120ms ease, box-shadow 160ms ease, background-color 160ms ease;\n}\n\n.cardhub-card__actions {\n  grid-column: span 2;\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 8px;\n  margin-top: 10px;\n}\n\n.cardhub-card__action.is-secondary {\n  background: #d9c6b6;\n  color: #3b2a20;\n}\n\n.cardhub-card__action:hover {\n  transform: translateY(-1px);\n  box-shadow: 0 6px 14px rgba(43, 32, 24, 0.15);\n}\n\n.cardhub-card__action:active {\n  transform: translateY(0);\n}\n\n.cardhub-preview {\n  position: fixed;\n  inset: 0;\n  background: rgba(24, 16, 10, 0.45);\n  backdrop-filter: blur(6px);\n  display: grid;\n  place-items: center;\n  z-index: 100000;\n}\n\n.cardhub-preview__panel {\n  width: min(520px, 92vw);\n  background: #fff6ea;\n  border-radius: 26px;\n  box-shadow: 0 26px 70px rgba(0, 0, 0, 0.25);\n  padding: 20px;\n  position: relative;\n  display: grid;\n  gap: 14px;\n}\n\n.cardhub-preview__close {\n  position: absolute;\n  top: 14px;\n  right: 14px;\n  border: none;\n  width: 30px;\n  height: 30px;\n  border-radius: 999px;\n  background: rgba(43, 32, 24, 0.15);\n  color: #3b2a20;\n  font-size: 18px;\n  cursor: pointer;\n  transition: background-color 160ms ease, transform 120ms ease;\n}\n\n.cardhub-preview__close:hover {\n  background: rgba(43, 32, 24, 0.25);\n}\n\n.cardhub-preview__close:active {\n  transform: scale(0.96);\n}\n\n.cardhub-preview__avatar {\n  width: 100%;\n  height: 260px;\n  border-radius: 18px;\n  background: #ead7c4;\n  display: grid;\n  place-items: center;\n  overflow: hidden;\n}\n\n.cardhub-preview__avatar img {\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n}\n\n.cardhub-preview__info {\n  display: grid;\n  gap: 6px;\n}\n\n.cardhub-preview__name {\n  font-size: 20px;\n  font-weight: 700;\n}\n\n.cardhub-preview__meta {\n  display: flex;\n  gap: 10px;\n  font-size: 12px;\n  color: #7d5b46;\n}\n\n.cardhub-preview__tags {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n}\n\n.cardhub-preview__tag {\n  padding: 6px 10px;\n  border-radius: 999px;\n  border: 1px solid rgba(106, 63, 42, 0.3);\n  background: #fffaf4;\n  font-size: 12px;\n  color: #6a3f2a;\n}\n\n.cardhub-preview__actions {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 10px;\n}\n\n.cardhub-manage {\n  position: fixed;\n  inset: 0;\n  background: rgba(24, 16, 10, 0.45);\n  backdrop-filter: blur(6px);\n  display: grid;\n  place-items: center;\n  z-index: 100001;\n}\n\n.cardhub-manage__panel {\n  width: min(760px, 94vw);\n  max-height: 88vh;\n  background: #fff6ea;\n  border-radius: 26px;\n  box-shadow: 0 26px 70px rgba(0, 0, 0, 0.25);\n  padding: 22px;\n  position: relative;\n  display: grid;\n  gap: 16px;\n  overflow: auto;\n}\n\n.cardhub-manage__top {\n  display: grid;\n  grid-template-columns: 1fr auto;\n  gap: 16px;\n  align-items: start;\n}\n\n.cardhub-manage__media {\n  width: 220px;\n  aspect-ratio: 3 / 4;\n  height: auto;\n  border-radius: 18px;\n  background: #ead7c4;\n  display: grid;\n  place-items: center;\n  overflow: hidden;\n}\n\n.cardhub-manage__media img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.cardhub-manage__summary {\n  display: grid;\n  gap: 6px;\n}\n\n.cardhub-manage__overview {\n  display: grid;\n  gap: 10px;\n  margin-top: 10px;\n  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));\n}\n\n.cardhub-manage__overview-card {\n  background: rgba(255, 255, 255, 0.7);\n  border: 1px solid rgba(106, 63, 42, 0.2);\n  border-radius: 14px;\n  padding: 10px 12px;\n  display: grid;\n  gap: 4px;\n}\n\n.cardhub-manage__overview-label {\n  font-size: 10px;\n  color: #7d5b46;\n  text-transform: uppercase;\n  letter-spacing: 1px;\n}\n\n.cardhub-manage__overview-value {\n  font-size: 13px;\n  font-weight: 600;\n  color: #3b2a20;\n}\n\n.cardhub-manage__overview-hint {\n  font-size: 11px;\n  color: #7d5b46;\n}\n\n.cardhub-manage__section {\n  display: grid;\n  gap: 8px;\n}\n\n.cardhub-manage__details {\n  display: grid;\n  gap: 12px;\n  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));\n}\n\n.cardhub-manage__detail {\n  background: #fffaf4;\n  border: 1px solid rgba(106, 63, 42, 0.2);\n  border-radius: 16px;\n  padding: 12px 14px;\n  display: grid;\n  gap: 6px;\n}\n\n.cardhub-manage__detail-label {\n  font-size: 11px;\n  color: #7d5b46;\n  text-transform: uppercase;\n  letter-spacing: 1px;\n}\n\n.cardhub-manage__detail-content {\n  font-size: 12px;\n  line-height: 1.5;\n  color: #3b2a20;\n  white-space: pre-wrap;\n}\n\n.cardhub-manage__label {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 8px;\n  font-size: 12px;\n  color: #7d5b46;\n  text-transform: uppercase;\n  letter-spacing: 1px;\n}\n\n.cardhub-manage__btn {\n  border: none;\n  border-radius: 12px;\n  padding: 6px 12px;\n  font-size: 12px;\n  cursor: pointer;\n  text-transform: none;\n  transition: background-color 160ms ease, transform 120ms ease, box-shadow 160ms ease;\n}\n\n.cardhub-manage__btn.is-primary {\n  background: #2b2018;\n  color: #fff5ea;\n}\n\n.cardhub-manage__btn.is-secondary {\n  background: #d9c6b6;\n  color: #3b2a20;\n}\n\n.cardhub-manage__jump-row {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n  align-items: center;\n}\n\n.cardhub-manage__btn:hover {\n  transform: translateY(-1px);\n  box-shadow: 0 6px 14px rgba(43, 32, 24, 0.15);\n}\n\n.cardhub-manage__btn.is-primary:hover {\n  background: #241a14;\n}\n\n.cardhub-manage__btn.is-secondary:hover {\n  background: #d1bca8;\n}\n\n.cardhub-manage__btn:active {\n  transform: translateY(0);\n}\n\n.cardhub-manage__content {\n  background: #fffaf4;\n  border: 1px solid rgba(106, 63, 42, 0.2);\n  border-radius: 16px;\n  padding: 12px 14px;\n  font-size: 12px;\n  line-height: 1.5;\n  color: #3b2a20;\n  white-space: pre-wrap;\n}\n\n.cardhub-manage__opening {\n  padding: 6px 0;\n  border-bottom: 1px dashed rgba(106, 63, 42, 0.2);\n}\n\n.cardhub-manage__opening:last-child {\n  border-bottom: none;\n}\n\n.cardhub-manage__chat {\n  display: grid;\n  gap: 10px;\n}\n\n.cardhub-manage__chat-row {\n  display: grid;\n  grid-template-columns: minmax(140px, 220px) 1fr;\n  gap: 12px;\n  font-size: 12px;\n  color: #3b2a20;\n  align-items: start;\n  padding: 6px 8px;\n  border-radius: 10px;\n  cursor: pointer;\n}\n\n.cardhub-manage__chat-row:hover {\n  background: rgba(106, 63, 42, 0.08);\n}\n\n.cardhub-manage__chat-main {\n  display: grid;\n  gap: 4px;\n}\n\n.cardhub-manage__chat-name {\n  flex: 0 0 auto;\n  font-weight: 600;\n  color: #6a3f2a;\n  word-break: break-word;\n}\n\n.cardhub-manage__chat-label {\n  font-size: 11px;\n  color: #9a7a63;\n  word-break: break-word;\n}\n\n.cardhub-manage__chat-tags {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 4px;\n}\n\n.cardhub-manage__chat-tag {\n  padding: 2px 6px;\n  border-radius: 999px;\n  border: 1px solid rgba(106, 63, 42, 0.2);\n  background: rgba(255, 255, 255, 0.75);\n  font-size: 10px;\n  color: #6a3f2a;\n}\n\n.cardhub-manage__chat-text {\n  color: #3b2a20;\n  line-height: 1.5;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n\n.cardhub-manage__empty {\n  font-size: 12px;\n  color: #9a7a63;\n}\n\n.cardhub-manage__actions {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 10px;\n}\n\n.cardhub-confirm {\n  position: absolute;\n  inset: 0;\n  background: rgba(24, 16, 10, 0.55);\n  backdrop-filter: blur(6px);\n  display: grid;\n  place-items: center;\n  z-index: 100002;\n}\n\n.cardhub-confirm__panel {\n  width: min(460px, 92vw);\n  background: #fff6ea;\n  border-radius: 22px;\n  box-shadow: 0 26px 70px rgba(0, 0, 0, 0.25);\n  padding: 18px 20px;\n  display: grid;\n  gap: 12px;\n}\n\n.cardhub-confirm__title {\n  font-size: 16px;\n  font-weight: 600;\n  color: #2b2018;\n}\n\n.cardhub-confirm__message {\n  font-size: 13px;\n  line-height: 1.5;\n  color: #4a2a1f;\n  white-space: pre-wrap;\n}\n\n.cardhub-confirm__actions {\n  display: flex;\n  gap: 10px;\n  justify-content: flex-end;\n  flex-wrap: wrap;\n}\n\n.cardhub-confirm__button {\n  border: none;\n  border-radius: 999px;\n  padding: 8px 14px;\n  font-size: 12px;\n  cursor: pointer;\n  transition: transform 120ms ease, box-shadow 160ms ease, background-color 160ms ease, border-color 160ms ease;\n}\n\n.cardhub-confirm__button.is-confirm {\n  background: #d46b3d;\n  color: #fff;\n}\n\n.cardhub-confirm__button.is-cancel {\n  background: transparent;\n  color: #6a3f2a;\n  border: 1px solid rgba(106, 63, 42, 0.4);\n}\n\n.cardhub-confirm__button.is-danger {\n  background: #b6452a;\n  color: #fff;\n}\n\n.cardhub-confirm__button:hover {\n  transform: translateY(-1px);\n  box-shadow: 0 6px 14px rgba(43, 32, 24, 0.18);\n}\n\n.cardhub-confirm__button:active {\n  transform: translateY(0);\n}\n\n.cardhub-button:focus-visible,\n.cardhub-chip:focus-visible,\n.cardhub-tag-filter__chip:focus-visible,\n.cardhub-tag:focus-visible,\n.cardhub-card__action:focus-visible,\n.cardhub-pagination__button:focus-visible,\n.cardhub-manage__btn:focus-visible,\n.cardhub-close:focus-visible,\n.cardhub-preview__close:focus-visible,\n.cardhub-confirm__button:focus-visible {\n  outline: 2px solid rgba(212, 107, 61, 0.6);\n  outline-offset: 2px;\n}\n@media (max-width: 720px) {\n  .cardhub-root {\n    position: absolute !important;\n    inset: 0 !important;\n    z-index: 99999 !important;\n    display: none;\n    align-items: center !important;\n    justify-content: center !important;\n    padding: 16px !important;\n    box-sizing: border-box !important;\n    overflow-y: auto !important;\n  }\n\n  .cardhub-root.open {\n    display: flex !important;\n  }\n\n  .cardhub-backdrop {\n    position: absolute !important;\n    inset: 0 !important;\n    z-index: 99998 !important;\n    background: rgba(0, 0, 0, 0.4) !important;\n    backdrop-filter: blur(8px) !important;\n  }\n\n  .cardhub-panel {\n    position: relative !important;\n    width: 100% !important;\n    height: 100% !important;\n    max-height: 100% !important;\n    max-width: none !important;\n    margin: 0 !important;\n    border-radius: 24px !important;\n    box-shadow: 0 12px 48px rgba(0, 0, 0, 0.3), 0 2px 8px rgba(0, 0, 0, 0.1) !important;\n    display: flex !important;\n    flex-direction: column !important;\n    z-index: 99999 !important;\n    overflow: hidden !important;\n    border: 1px solid rgba(255, 255, 255, 0.15) !important;\n  }\n\n  .cardhub-header {\n    flex-shrink: 0;\n    padding: 14px 16px;\n    border-bottom: 1px solid rgba(86, 59, 44, 0.12);\n  }\n\n  .cardhub-title__main {\n    font-size: 20px;\n  }\n\n  .cardhub-title__sub {\n    font-size: 11px;\n  }\n\n  .cardhub-close {\n    width: 28px;\n    height: 28px;\n    font-size: 16px;\n    line-height: 28px;\n  }\n\n  .cardhub-toolbar {\n    flex-shrink: 0;\n    display: flex;\n    flex-wrap: wrap;\n    gap: 8px;\n    padding: 10px 14px;\n  }\n\n  .cardhub-search {\n    width: 100%;\n    font-size: 13px;\n    padding: 8px 12px;\n  }\n\n  .cardhub-button {\n    flex: 1;\n    min-width: 0;\n    font-size: 11px;\n    padding: 6px 10px;\n  }\n\n  .cardhub-body {\n    display: flex;\n    flex-direction: column;\n    flex: 1;\n    min-height: 0;\n    overflow: auto;\n  }\n\n  .cardhub-sidebar {\n    flex-shrink: 0;\n    border-right: none;\n    border-bottom: 1px solid rgba(86, 59, 44, 0.12);\n    padding: 10px 14px;\n    max-height: none;\n    overflow: visible;\n  }\n\n  .cardhub-section-title {\n    font-size: 10px;\n    margin-bottom: 6px;\n  }\n\n  .cardhub-divider {\n    margin: 6px 0;\n  }\n\n  .cardhub-chip-row,\n  .cardhub-tag-filter {\n    display: flex;\n    flex-wrap: wrap;\n    overflow: visible;\n    gap: 6px;\n    padding-bottom: 4px;\n  }\n\n  .cardhub-chip-row::-webkit-scrollbar,\n  .cardhub-tag-filter::-webkit-scrollbar {\n    height: 4px;\n  }\n\n  .cardhub-chip-row::-webkit-scrollbar-thumb,\n  .cardhub-tag-filter::-webkit-scrollbar-thumb {\n    background: rgba(106, 63, 42, 0.15);\n    border-radius: 999px;\n  }\n\n  .cardhub-chip {\n    font-size: 11px;\n    padding: 5px 10px;\n    white-space: nowrap;\n    flex-shrink: 0;\n  }\n\n  .cardhub-tag-filter__chip {\n    font-size: 10px;\n    padding: 4px 8px;\n    white-space: nowrap;\n    flex-shrink: 0;\n  }\n\n  .cardhub-content {\n    flex: 1;\n    min-height: 0;\n    overflow: visible;\n    padding: 12px;\n  }\n\n  .cardhub-pagination {\n    align-items: flex-start;\n  }\n\n  .cardhub-pagination__actions {\n    width: 100%;\n  }\n\n  .cardhub-pagination__button {\n    flex: 1;\n    text-align: center;\n  }\n\n  .cardhub-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));\n    gap: 10px;\n    justify-content: center;\n    justify-items: center;\n  }\n\n  .cardhub-card {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    gap: 10px;\n    padding: 10px;\n    border-radius: 14px;\n    min-width: 0;\n    width: 100%;\n    max-width: none;\n  }\n\n  .cardhub-card__avatar {\n    width: 40px;\n    height: 40px;\n    flex-shrink: 0;\n    border-radius: 10px;\n  }\n\n  .cardhub-card__info {\n    flex: 1;\n    min-width: 0;\n  }\n\n  .cardhub-card__name {\n    font-size: 13px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n\n  .cardhub-card__meta {\n    font-size: 10px;\n    gap: 6px;\n  }\n\n  .cardhub-card__tags {\n    margin-top: 4px;\n    gap: 4px;\n  }\n\n  .cardhub-tag {\n    font-size: 9px;\n    padding: 3px 6px;\n  }\n\n  .cardhub-card__actions {\n    display: flex;\n    flex-direction: column;\n    gap: 4px;\n    flex-shrink: 0;\n  }\n\n  .cardhub-card__action {\n    padding: 5px 10px;\n    font-size: 10px;\n    border-radius: 8px;\n  }\n\n  .cardhub-preview,\n  .cardhub-manage {\n    position: absolute !important;\n    inset: 0 !important;\n    display: flex !important;\n    align-items: center !important;\n    justify-content: center !important;\n    padding: 16px !important;\n    box-sizing: border-box !important;\n    overflow-y: auto !important;\n  }\n\n  .cardhub-preview__panel,\n  .cardhub-manage__panel {\n    width: calc(100vw - 32px) !important;\n    max-width: 360px !important;\n    max-height: calc(100vh - 32px) !important;\n    max-height: calc(100dvh - 32px) !important;\n    border-radius: 18px !important;\n    padding: 16px !important;\n    overflow: auto !important;\n  }\n\n  .cardhub-preview__avatar {\n    height: 180px;\n    border-radius: 14px;\n  }\n\n  .cardhub-preview__name {\n    font-size: 16px;\n  }\n\n  .cardhub-preview__meta {\n    font-size: 11px;\n  }\n\n  .cardhub-preview__tag {\n    font-size: 10px;\n    padding: 4px 8px;\n  }\n\n  .cardhub-preview__actions {\n    gap: 8px;\n  }\n\n  .cardhub-manage__top {\n    grid-template-columns: 1fr;\n    gap: 12px;\n  }\n\n  .cardhub-manage__media {\n    width: 120px;\n    margin: 0 auto;\n  }\n\n  .cardhub-manage__overview {\n    grid-template-columns: 1fr;\n  }\n\n  .cardhub-manage__overview-value {\n    font-size: 12px;\n  }\n\n  .cardhub-manage__overview-hint {\n    font-size: 10px;\n  }\n\n  .cardhub-manage__label {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 6px;\n    font-size: 10px;\n  }\n\n  .cardhub-manage__details {\n    grid-template-columns: 1fr;\n  }\n\n  .cardhub-manage__detail-label {\n    font-size: 10px;\n  }\n\n  .cardhub-manage__detail-content {\n    font-size: 11px;\n  }\n\n  .cardhub-manage__btn {\n    width: 100%;\n    text-align: center;\n    font-size: 10px;\n  }\n\n  .cardhub-manage__jump-row {\n    width: 100%;\n  }\n\n  .cardhub-manage__content {\n    font-size: 11px;\n    padding: 10px;\n  }\n\n  .cardhub-manage__chat-row {\n    grid-template-columns: 1fr;\n    gap: 3px;\n    font-size: 11px;\n  }\n\n  .cardhub-manage__chat-label {\n    font-size: 10px;\n  }\n\n  .cardhub-manage__chat-tag {\n    font-size: 9px;\n  }\n\n  .cardhub-manage__chat-text {\n    -webkit-line-clamp: 2;\n  }\n\n  .cardhub-manage__actions {\n    grid-template-columns: 1fr 1fr;\n    gap: 8px;\n  }\n}\n</style>\n"],"names":[],"ignoreList":[],"sourceRoot":""}