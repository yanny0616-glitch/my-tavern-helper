function e(e){if(!e)return!1;const t=e.tagName.toLowerCase();return!!(e instanceof HTMLElement&&e.isContentEditable)||('textarea'===t||'input'===t)}function t(e){return e&&(e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement)?{start:e.selectionStart??0,end:e.selectionEnd??0}:null}function n(e){const n=e.activeElement;if(!n)return;const o=t(n);if(o&&(n instanceof HTMLTextAreaElement||n instanceof HTMLInputElement)){const e=o.end;n.setSelectionRange(e,e)}}function o(e){const t=e.getSelection();t&&!t.isCollapsed&&t.removeAllRanges()}function i(t){const n=t.activeElement;n instanceof HTMLElement&&e(n)&&n.blur()}$(()=>{if(!function(){const e=navigator.userAgent,t=/iPad|iPhone|iPod/.test(e),n='MacIntel'===navigator.platform&&navigator.maxTouchPoints>1;return t||n}())return;const r=window.parent?.document;if(!r)return;const s=s=>{if(!function(e){const t=e.getSelection();return!!t&&!t.isCollapsed}(r)&&!function(e){const n=t(e.activeElement);return!!n&&n.start!==n.end}(r))return;(function(t){let n=t;for(;n;){if(e(n))return n;n=n.parentElement}return null})(s.target)||(o(r),n(r),i(r))};r.addEventListener('touchstart',s,!0),r.addEventListener('mousedown',s,!0);const a=()=>{setTimeout(()=>{o(r),n(r),i(r)},0)};r.addEventListener('copy',a,!0),r.addEventListener('cut',a,!0),console.info('[ios-selection-guard] enabled'),$(window).on('pagehide',()=>{r.removeEventListener('touchstart',s,!0),r.removeEventListener('mousedown',s,!0),r.removeEventListener('copy',a,!0),r.removeEventListener('cut',a,!0)})});
//# sourceMappingURL=index.js.map